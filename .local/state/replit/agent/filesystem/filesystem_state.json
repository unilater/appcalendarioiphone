{"file_contents":{"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/pages/news.tsx":{"content":"import NewsCard from \"@/components/NewsCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { AIChatDialog } from \"@/components/AIChatDialog\";\nimport { \n  CheckCircle2, \n  AlertTriangle, \n  FileText,\n  Newspaper,\n  Sparkles,\n  BookOpen,\n  Calendar\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Insight } from \"@shared/schema\";\nimport { useLocation } from \"wouter\";\n\nexport default function News() {\n  const [, setLocation] = useLocation();\n  const [selectedFilter, setSelectedFilter] = useState<\"all\" | \"verified\" | \"unverified\">(\"all\");\n  const [aiChatOpen, setAiChatOpen] = useState(false);\n  const [aiChatPrompt, setAiChatPrompt] = useState(\"\");\n  const [aiChatContext, setAiChatContext] = useState(\"\");\n  \n  const { data: insights = [] } = useQuery<Insight[]>({\n    queryKey: [\"/api/insights\"],\n  });\n\n  const newsItems = [\n    {\n      id: 1,\n      title: \"Papa Francesco incontra i fedeli in Piazza San Pietro\",\n      excerpt: \"Durante l'udienza generale, il Santo Padre ha parlato dell'importanza della preghiera e della misericordia nella vita quotidiana dei cristiani.\",\n      source: \"Vatican News\",\n      timestamp: \"2 ore fa\",\n      verified: true,\n      reliabilityScore: 95,\n      sources: [\n        { name: \"Vatican News\", url: \"https://www.vaticannews.va\", verifiedBy: \"Sala Stampa Vaticana\" },\n        { name: \"Avvenire\", url: \"https://www.avvenire.it\", verifiedBy: \"CEI\" },\n        { name: \"Catholic News Agency\", url: \"https://www.catholicnewsagency.com\", verifiedBy: \"EWTN\" }\n      ],\n      factCheckSummary: \"Notizia confermata da fonti ufficiali vaticane. L'udienza generale si è svolta regolarmente alle ore 10:00 in Piazza San Pietro.\",\n      sourceCredibility: 98,\n      sourceIndependence: 3,\n      verificationLatency: 15,\n      geographicScope: \"Vaticano\",\n      biasAssessment: \"Neutrale\",\n      reviewer: \"Mons. Giuseppe Rossi\"\n    },\n    {\n      id: 2,\n      title: \"Nuova iniziativa per il restauro delle chiese storiche\",\n      excerpt: \"La Conferenza Episcopale annuncia un programma di recupero del patrimonio artistico e architettonico delle chiese italiane.\",\n      source: \"Avvenire\",\n      timestamp: \"5 ore fa\",\n      verified: true,\n      reliabilityScore: 88,\n      sources: [\n        { name: \"Avvenire\", url: \"https://www.avvenire.it\", verifiedBy: \"CEI\" },\n        { name: \"Comunicato CEI\", verifiedBy: \"Ufficio Nazionale Beni Culturali\" }\n      ],\n      factCheckSummary: \"Confermato dal comunicato ufficiale della CEI. Il programma prevede stanziamenti per 50 milioni di euro nell'arco di 3 anni.\",\n      sourceCredibility: 92,\n      sourceIndependence: 2,\n      verificationLatency: 45,\n      geographicScope: \"Italia\",\n      biasAssessment: \"Neutrale\",\n      reviewer: \"Dott.ssa Maria Bianchi\"\n    },\n    {\n      id: 3,\n      title: \"Pellegrinaggio mariano: migliaia di fedeli a Lourdes\",\n      excerpt: \"Grande partecipazione al pellegrinaggio annuale al santuario della Madonna, con momenti di preghiera e riflessione spirituale.\",\n      source: \"Catholic News\",\n      timestamp: \"1 giorno fa\",\n      verified: true,\n      reliabilityScore: 72,\n      sources: [\n        { name: \"Catholic News\", url: \"https://www.catholicnews.com\" },\n        { name: \"Sanctuaires de Lourdes\", url: \"https://www.lourdes-france.org\", verifiedBy: \"Rettore del Santuario\" }\n      ],\n      factCheckSummary: \"Il pellegrinaggio si è svolto come programmato. Il numero esatto di partecipanti è in fase di verifica (stima tra 8.000 e 12.000 pellegrini).\",\n      sourceCredibility: 78,\n      sourceIndependence: 2,\n      verificationLatency: 180,\n      geographicScope: \"Francia\",\n      biasAssessment: \"Neutrale\",\n      reviewer: \"P. Jean Dupont\"\n    },\n    {\n      id: 4,\n      title: \"Celebrazioni liturgiche speciali per l'Avvento\",\n      excerpt: \"Le parrocchie italiane si preparano al tempo di Avvento con messe solenni, adorazioni eucaristiche e momenti di catechesi per tutte le età.\",\n      source: \"Famiglia Cristiana\",\n      timestamp: \"2 giorni fa\",\n      verified: false,\n      reliabilityScore: 65,\n      sources: [\n        { name: \"Famiglia Cristiana\", url: \"https://www.famigliacristiana.it\" }\n      ],\n      factCheckSummary: \"Le informazioni sono generiche e non specifiche. Consigliato verificare con la propria diocesi locale per dettagli sui programmi dell'Avvento.\",\n      sourceCredibility: 70,\n      sourceIndependence: 1,\n      verificationLatency: 0,\n      geographicScope: \"Italia\",\n      biasAssessment: \"Lieve positivo\",\n      reviewer: \"In attesa\"\n    },\n    {\n      id: 5,\n      title: \"Presunto miracolo durante processione: esperti invitano alla cautela\",\n      excerpt: \"Circolano sui social media immagini di un presunto evento miracoloso durante una processione. Gli esperti diocesani invitano a verificare prima di diffondere.\",\n      source: \"Vari social media\",\n      timestamp: \"3 giorni fa\",\n      verified: false,\n      reliabilityScore: 35,\n      sources: [\n        { name: \"Ufficio Diocesano\", verifiedBy: \"Commissione per i Fenomeni Straordinari\" }\n      ],\n      factCheckSummary: \"ATTENZIONE: Nessuna fonte attendibile conferma l'evento. La diocesi locale ha aperto un'inchiesta preliminare. Si invita a non diffondere informazioni non verificate.\",\n      sourceCredibility: 45,\n      sourceIndependence: 1,\n      verificationLatency: 0,\n      geographicScope: \"Italia\",\n      biasAssessment: \"Sensazionalistico\",\n      reviewer: \"Don Marco Verdi\"\n    }\n  ];\n\n  const verifiedNews = newsItems.filter(news => news.verified);\n  const needsVerificationNews = newsItems.filter(news => !news.verified);\n  \n  const filteredNews = selectedFilter === \"all\" ? newsItems :\n    selectedFilter === \"verified\" ? verifiedNews : needsVerificationNews;\n\n  return (\n    <div className=\"container max-w-4xl mx-auto px-4 py-6\">\n      {/* Header Section */}\n      <div className=\"mb-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4\">\n          <div>\n            <h1 className=\"font-display text-3xl md:text-4xl font-bold mb-2 uppercase tracking-wide\" data-testid=\"text-page-title\">\n              Notizie Cattoliche\n            </h1>\n            <p className=\"text-muted-foreground font-serif\">\n              Notizie verificate dalla comunità monastica • Fonti attendibili\n            </p>\n          </div>\n          <Badge variant=\"outline\" className=\"gap-2 px-3 py-2 w-fit\">\n            <Newspaper className=\"h-4 w-4\" />\n            <span className=\"font-semibold\">{newsItems.length} notizie</span>\n          </Badge>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"mb-6\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex flex-wrap items-center gap-3\">\n            <span className=\"text-sm font-medium text-muted-foreground\">Mostra:</span>\n            <div className=\"flex gap-2\">\n              <Button\n                variant={selectedFilter === \"all\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setSelectedFilter(\"all\")}\n                data-testid=\"filter-all\"\n              >\n                Tutte ({newsItems.length})\n              </Button>\n              <Button\n                variant={selectedFilter === \"verified\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setSelectedFilter(\"verified\")}\n                data-testid=\"filter-verified\"\n                className=\"gap-1\"\n              >\n                <CheckCircle2 className=\"h-3 w-3\" />\n                Verificate ({verifiedNews.length})\n              </Button>\n              <Button\n                variant={selectedFilter === \"unverified\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setSelectedFilter(\"unverified\")}\n                data-testid=\"filter-unverified\"\n                className=\"gap-1\"\n              >\n                <AlertTriangle className=\"h-3 w-3\" />\n                In revisione ({needsVerificationNews.length})\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* News Feed */}\n      <div className=\"space-y-4\">\n        {filteredNews.map((news, index) => (\n          <div \n            key={news.id}\n            className=\"animate-in fade-in slide-in-from-bottom-4\"\n            style={{ animationDelay: `${index * 50}ms` }}\n          >\n            <NewsCard\n              title={news.title}\n              excerpt={news.excerpt}\n              source={news.source}\n              timestamp={news.timestamp}\n              verified={news.verified}\n              reliabilityScore={news.reliabilityScore}\n              sources={news.sources}\n              factCheckSummary={news.factCheckSummary}\n              onClick={() => setLocation(`/news/${news.id}`)}\n            />\n          </div>\n        ))}\n\n        {/* Load More Button */}\n        <div className=\"mt-6 text-center\">\n          <Button \n            variant=\"outline\" \n            onClick={() => console.log('Load more news')}\n            data-testid=\"button-load-more\"\n            className=\"gap-2\"\n          >\n            <FileText className=\"h-4 w-4\" />\n            Carica altre notizie\n          </Button>\n        </div>\n\n        {/* Approfondimenti AI */}\n        {insights.length > 0 && (\n          <div className=\"mt-8\">\n            <h2 className=\"font-serif text-2xl font-bold mb-4 flex items-center gap-2\">\n              <Sparkles className=\"h-6 w-6 text-primary\" />\n              Approfondimenti AI\n            </h2>\n            <p className=\"text-muted-foreground mb-6 font-serif\">\n              Analisi approfondite su magistero, catechismo e diritto canonico. Clicca per approfondire con l'Assistente AI\n            </p>\n            \n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {insights.map((insight) => {\n                const handleOpenAI = () => {\n                  setAiChatPrompt(`Approfondisci questo tema: \"${insight.title}\". ${insight.summary}`);\n                  setAiChatContext(insight.content);\n                  setAiChatOpen(true);\n                };\n\n                return (<Card \n                  key={insight.id} \n                  className=\"hover-elevate active-elevate-2 cursor-pointer bg-primary/5 border-primary/20\" \n                  onClick={handleOpenAI}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                      e.preventDefault();\n                      handleOpenAI();\n                    }\n                  }}\n                  tabIndex={0}\n                  role=\"button\"\n                  aria-label={`Approfondisci ${insight.title} con AI`}\n                  data-testid={`card-insight-${insight.id}`}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2 mb-2\">\n                      <Badge variant=\"secondary\" className=\"text-xs\">\n                        {insight.category === 'teologia' && 'Teologia'}\n                        {insight.category === 'spiritualita' && 'Spiritualità'}\n                        {insight.category === 'storia' && 'Storia'}\n                        {insight.category === 'liturgia' && 'Liturgia'}\n                        {insight.category === 'cultura' && 'Cultura'}\n                      </Badge>\n                      <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                        <Calendar className=\"h-3 w-3\" />\n                        {new Date(insight.publishedDate).toLocaleDateString('it-IT')}\n                      </div>\n                    </div>\n                    <CardTitle className=\"font-serif text-lg leading-tight\">\n                      {insight.title}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2 font-serif\">\n                      {insight.summary}\n                    </p>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-xs text-muted-foreground font-medium\">\n                        {insight.author}\n                      </span>\n                      <Button variant=\"default\" size=\"sm\" className=\"gap-1\">\n                        <Sparkles className=\"h-3 w-3\" />\n                        Approfondisci con AI\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>);\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* AI Chat Dialog */}\n      <AIChatDialog\n        open={aiChatOpen}\n        onOpenChange={setAiChatOpen}\n        title=\"Approfondimento AI - Frate Assistente\"\n        initialPrompt={aiChatPrompt}\n        context={aiChatContext}\n      />\n    </div>\n  );\n}\n","size_bytes":13031},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"server/storage.ts":{"content":"import {\n  type User,\n  type InsertUser,\n  type Reflection,\n  type PracticalTip,\n  type DailyRecipePreview,\n  type Event,\n  type AstronomySnapshot,\n  type WeatherSnapshot,\n  type Recipe,\n  type Insight,\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport {\n  dailyReflection,\n  dailyPracticalTips,\n  dailyRecipePreview,\n  todayEvents,\n  historyEvents,\n  todayAstronomy,\n  todayWeather,\n  insights,\n} from \"./data/homepage\";\nimport { recipes } from \"./data/almanac\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  getReflectionToday(): Promise<Reflection | undefined>;\n  getTipsToday(): Promise<PracticalTip[]>;\n  getRecipeOfDay(): Promise<DailyRecipePreview | undefined>;\n  getRecipe(id: string): Promise<Recipe | undefined>;\n  getEvents(): Promise<Event[]>;\n  getAstronomy(): Promise<AstronomySnapshot | undefined>;\n  getWeather(): Promise<WeatherSnapshot | undefined>;\n  getInsights(): Promise<Insight[]>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n\n  constructor() {\n    this.users = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async getReflectionToday(): Promise<Reflection | undefined> {\n    return dailyReflection;\n  }\n\n  async getTipsToday(): Promise<PracticalTip[]> {\n    return dailyPracticalTips;\n  }\n\n  async getRecipeOfDay(): Promise<DailyRecipePreview | undefined> {\n    return dailyRecipePreview;\n  }\n\n  async getRecipe(id: string): Promise<Recipe | undefined> {\n    return recipes.find((r: Recipe) => r.id === id);\n  }\n\n  async getEvents(): Promise<Event[]> {\n    return [...todayEvents, ...historyEvents];\n  }\n\n  async getAstronomy(): Promise<AstronomySnapshot | undefined> {\n    return todayAstronomy;\n  }\n\n  async getWeather(): Promise<WeatherSnapshot | undefined> {\n    return todayWeather;\n  }\n\n  async getInsights(): Promise<Insight[]> {\n    return insights;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":2469},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE - Parchment (Almanacco di Frate Indovino) */\n:root {\n  --button-outline: rgba(62, 39, 35, .12);\n  --badge-outline: rgba(62, 39, 35, .08);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(62, 39, 35, .04);\n  --elevate-2: rgba(62, 39, 35, .09);\n  --background: 36 5% 96%;\n  --foreground: 10 25% 19%;\n  --border: 35 15% 88%;\n  --card: 0 0% 100%;\n  --card-foreground: 10 25% 19%;\n  --card-border: 35 15% 90%;\n  --sidebar: 40 35% 96%;\n  --sidebar-foreground: 10 25% 22%;\n  --sidebar-border: 35 25% 88%;\n  --sidebar-primary: 0 59% 45%;\n  --sidebar-primary-foreground: 40 35% 98%;\n  --sidebar-accent: 40 28% 90%;\n  --sidebar-accent-foreground: 10 28% 24%;\n  --sidebar-ring: 0 59% 45%;\n  --popover: 40 35% 97%;\n  --popover-foreground: 10 25% 22%;\n  --popover-border: 35 25% 85%;\n  --primary: 0 59% 45%;\n  --primary-foreground: 40 35% 98%;\n  --secondary: 100 23% 52%;\n  --secondary-foreground: 40 35% 98%;\n  --muted: 35 25% 88%;\n  --muted-foreground: 30 12% 48%;\n  --accent: 25 45% 62%;\n  --accent-foreground: 10 25% 19%;\n  --destructive: 0 72% 50%;\n  --destructive-foreground: 40 35% 98%;\n  --input: 35 20% 78%;\n  --ring: 0 59% 45%;\n  --chart-1: 0 59% 45%;\n  --chart-2: 261 34% 45%;\n  --chart-3: 100 23% 52%;\n  --chart-4: 42 64% 52%;\n  --chart-5: 25 45% 62%;\n  --liturgical-ordinary: 100 23% 52%;\n  --liturgical-advent: 261 34% 45%;\n  --liturgical-feast: 1 51% 50%;\n  --liturgical-solemnity: 42 64% 52%;\n  --font-sans: Inter, system-ui, -apple-system, sans-serif;\n  --font-serif: 'Crimson Text', Georgia, serif;\n  --font-display: 'Bebas Neue', Impact, sans-serif;\n  --font-mono: ui-monospace, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(30 10% 20% / 0.03);\n  --shadow-xs: 0px 2px 0px 0px hsl(30 10% 20% / 0.05);\n  --shadow-sm: 0px 2px 0px 0px hsl(30 10% 20% / 0.04), 0px 1px 2px -1px hsl(30 10% 20% / 0.06);\n  --shadow: 0px 2px 0px 0px hsl(30 10% 20% / 0.05), 0px 1px 2px -1px hsl(30 10% 20% / 0.08);\n  --shadow-md: 0px 2px 0px 0px hsl(30 10% 20% / 0.06), 0px 2px 4px -1px hsl(30 10% 20% / 0.10);\n  --shadow-lg: 0px 2px 0px 0px hsl(30 10% 20% / 0.08), 0px 4px 6px -1px hsl(30 10% 20% / 0.12);\n  --shadow-xl: 0px 2px 0px 0px hsl(30 10% 20% / 0.10), 0px 8px 10px -1px hsl(30 10% 20% / 0.15);\n  --shadow-2xl: 0px 2px 0px 0px hsl(30 10% 20% / 0.15);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(245, 230, 211, .12);\n  --badge-outline: rgba(245, 230, 211, .08);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(245, 230, 211, .05);\n  --elevate-2: rgba(245, 230, 211, .10);\n  --background: 20 33% 13%;\n  --foreground: 35 60% 89%;\n  --border: 25 25% 24%;\n  --card: 20 28% 17%;\n  --card-foreground: 35 55% 87%;\n  --card-border: 25 25% 22%;\n  --sidebar: 20 30% 15%;\n  --sidebar-foreground: 35 55% 85%;\n  --sidebar-border: 25 25% 23%;\n  --sidebar-primary: 1 64% 56%;\n  --sidebar-primary-foreground: 35 60% 95%;\n  --sidebar-accent: 25 28% 23%;\n  --sidebar-accent-foreground: 35 50% 82%;\n  --sidebar-ring: 1 64% 56%;\n  --popover: 20 28% 18%;\n  --popover-foreground: 35 55% 85%;\n  --popover-border: 25 25% 26%;\n  --primary: 1 64% 56%;\n  --primary-foreground: 35 60% 95%;\n  --secondary: 100 18% 40%;\n  --secondary-foreground: 35 60% 95%;\n  --muted: 25 20% 25%;\n  --muted-foreground: 35 25% 62%;\n  --accent: 25 50% 50%;\n  --accent-foreground: 35 60% 95%;\n  --destructive: 0 68% 54%;\n  --destructive-foreground: 35 60% 95%;\n  --input: 25 22% 32%;\n  --ring: 1 64% 56%;\n  --chart-1: 1 64% 56%;\n  --chart-2: 261 30% 55%;\n  --chart-3: 100 20% 50%;\n  --chart-4: 42 60% 58%;\n  --chart-5: 25 50% 50%;\n  --liturgical-ordinary: 100 20% 50%;\n  --liturgical-advent: 261 30% 55%;\n  --liturgical-feast: 1 58% 58%;\n  --liturgical-solemnity: 42 60% 58%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(30 8% 5% / 0.08);\n  --shadow-xs: 0px 2px 0px 0px hsl(30 8% 5% / 0.12);\n  --shadow-sm: 0px 2px 0px 0px hsl(30 8% 5% / 0.10), 0px 1px 2px -1px hsl(30 8% 5% / 0.15);\n  --shadow: 0px 2px 0px 0px hsl(30 8% 5% / 0.12), 0px 1px 2px -1px hsl(30 8% 5% / 0.18);\n  --shadow-md: 0px 2px 0px 0px hsl(30 8% 5% / 0.15), 0px 2px 4px -1px hsl(30 8% 5% / 0.20);\n  --shadow-lg: 0px 2px 0px 0px hsl(30 8% 5% / 0.18), 0px 4px 6px -1px hsl(30 8% 5% / 0.25);\n  --shadow-xl: 0px 2px 0px 0px hsl(30 8% 5% / 0.22), 0px 8px 10px -1px hsl(30 8% 5% / 0.30);\n  --shadow-2xl: 0px 2px 0px 0px hsl(30 8% 5% / 0.30);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","size_bytes":11116},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"server/data/almanac.ts":{"content":"import { Recipe, Advice } from \"@shared/schema\";\n\nexport const recipes: Recipe[] = [\n  {\n    id: \"panettone-natale\",\n    name: \"Panettone Tradizionale Milanese\",\n    description: \"Il dolce natalizio per eccellenza, preparato secondo l'antica tradizione monastica lombarda\",\n    category: \"natale\",\n    season: \"inverno\",\n    difficulty: \"difficile\",\n    prepTime: 180,\n    cookTime: 60,\n    servings: 12,\n    ingredients: [\n      { quantity: \"500g\", name: \"Farina Manitoba\" },\n      { quantity: \"200g\", name: \"Zucchero\" },\n      { quantity: \"250g\", name: \"Burro\" },\n      { quantity: \"5\", name: \"Uova\" },\n      { quantity: \"200g\", name: \"Uvetta sultanina\" },\n      { quantity: \"150g\", name: \"Canditi misti\" },\n      { quantity: \"25g\", name: \"Lievito madre\" },\n      { quantity: \"1\", name: \"Scorza di limone e arancia\" },\n      { quantity: \"q.b.\", name: \"Vaniglia\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Rinfrescare il lievito madre e lasciarlo lievitare per 4 ore in luogo tiepido\" },\n      { step: 2, instruction: \"Preparare il primo impasto con farina, lievito, uova e burro morbido\" },\n      { step: 3, instruction: \"Lasciar lievitare 12 ore coperto con un panno umido\" },\n      { step: 4, instruction: \"Aggiungere lo zucchero, le uova restanti e impastare\" },\n      { step: 5, instruction: \"Incorporare uvetta ammollata, canditi e scorze grattugiate\" },\n      { step: 6, instruction: \"Formare la pagnotta e metterla nello stampo da panettone\" },\n      { step: 7, instruction: \"Far lievitare fino al raddoppio (8-10 ore)\" },\n      { step: 8, instruction: \"Incidere a croce la superficie e cuocere a 180°C per 60 minuti\" },\n    ],\n    traditionalNote: \"Secondo la tradizione monastica, il panettone va preparato durante l'Avvento come simbolo della dolcezza della nascita di Cristo. I monaci milanesi lo benedicevano la vigilia di Natale.\",\n    liturgicalNote: \"Il panettone si porta a benedire durante la Messa di Natale. La croce incisa sulla superficie ricorda il segno della salvezza.\",\n    region: \"Lombardia\",\n    tags: [\"dolce\", \"natale\", \"lievitati\", \"tradizione milanese\"],\n  },\n  {\n    id: \"colomba-pasquale\",\n    name: \"Colomba Pasquale Artigianale\",\n    description: \"Il dolce pasquale simbolo dello Spirito Santo e della resurrezione\",\n    category: \"pasqua\",\n    season: \"primavera\",\n    difficulty: \"difficile\",\n    prepTime: 240,\n    cookTime: 45,\n    servings: 10,\n    ingredients: [\n      { quantity: \"500g\", name: \"Farina 00\" },\n      { quantity: \"200g\", name: \"Zucchero\" },\n      { quantity: \"200g\", name: \"Burro\" },\n      { quantity: \"5\", name: \"Uova\" },\n      { quantity: \"150g\", name: \"Canditi d'arancia\" },\n      { quantity: \"20g\", name: \"Lievito di birra\" },\n      { quantity: \"100g\", name: \"Mandorle per glassa\" },\n      { quantity: \"q.b.\", name: \"Scorza d'arancia\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Sciogliere il lievito in acqua tiepida con un cucchiaio di zucchero\" },\n      { step: 2, instruction: \"Impastare farina, uova, zucchero e burro ammorbidito\" },\n      { step: 3, instruction: \"Aggiungere il lievito sciolto e impastare fino a ottenere un impasto liscio\" },\n      { step: 4, instruction: \"Incorporare i canditi e la scorza d'arancia grattugiata\" },\n      { step: 5, instruction: \"Lasciar lievitare 3 ore in luogo tiepido\" },\n      { step: 6, instruction: \"Formare la colomba e adagiarla nello stampo apposito\" },\n      { step: 7, instruction: \"Preparare la glassa con albumi e mandorle, stendere sulla superficie\" },\n      { step: 8, instruction: \"Cuocere a 170°C per 45 minuti coprendo con carta stagnola a metà cottura\" },\n    ],\n    traditionalNote: \"La colomba rappresenta lo Spirito Santo e la pace portata dalla Resurrezione. In molte parrocchie viene benedetta il Sabato Santo.\",\n    liturgicalNote: \"Tradizionalmente si consuma dalla domenica di Pasqua fino all'Ascensione, per prolungare la gioia pasquale in famiglia.\",\n    region: \"Nazionale\",\n    tags: [\"dolce\", \"pasqua\", \"lievitati\", \"simbolismo\"],\n  },\n  {\n    id: \"quaresimali-fiorentini\",\n    name: \"Quaresimali Fiorentini\",\n    description: \"Biscotti tradizionali della Quaresima, senza grassi animali secondo il precetto del digiuno\",\n    category: \"quaresima\",\n    season: \"primavera\",\n    difficulty: \"facile\",\n    prepTime: 30,\n    cookTime: 20,\n    servings: 40,\n    ingredients: [\n      { quantity: \"300g\", name: \"Farina 00\" },\n      { quantity: \"200g\", name: \"Zucchero\" },\n      { quantity: \"100g\", name: \"Cacao amaro\" },\n      { quantity: \"3\", name: \"Albumi\" },\n      { quantity: \"100ml\", name: \"Acqua\" },\n      { quantity: \"1 cucchiaino\", name: \"Cannella\" },\n      { quantity: \"q.b.\", name: \"Chiodi di garofano macinati\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Montare gli albumi a neve fermissima\" },\n      { step: 2, instruction: \"Mescolare farina, cacao, zucchero e spezie\" },\n      { step: 3, instruction: \"Incorporare delicatamente gli albumi agli ingredienti secchi\" },\n      { step: 4, instruction: \"Aggiungere acqua fino a ottenere un impasto morbido\" },\n      { step: 5, instruction: \"Formare bastoncini lunghi circa 8cm\" },\n      { step: 6, instruction: \"Disporre su teglia foderata e cuocere a 180°C per 20 minuti\" },\n    ],\n    traditionalNote: \"I quaresimali rispettano il precetto del digiuno quaresimale: niente uova intere né burro. Venivano preparati nei conventi fiorentini.\",\n    liturgicalNote: \"Si preparano dal Mercoledì delle Ceneri e si consumano durante tutta la Quaresima come dolce della penitenza gioiosa.\",\n    region: \"Toscana\",\n    tags: [\"biscotti\", \"quaresima\", \"digiuno\", \"fiorentina\"],\n  },\n  {\n    id: \"zeppole-san-giuseppe\",\n    name: \"Zeppole di San Giuseppe\",\n    description: \"Frittelle tradizionali per la festa del santo patrono dei falegnami e custode della Sacra Famiglia\",\n    category: \"san_giuseppe\",\n    season: \"primavera\",\n    difficulty: \"media\",\n    prepTime: 60,\n    cookTime: 30,\n    servings: 12,\n    ingredients: [\n      { quantity: \"250ml\", name: \"Acqua\" },\n      { quantity: \"125g\", name: \"Burro\" },\n      { quantity: \"150g\", name: \"Farina 00\" },\n      { quantity: \"4\", name: \"Uova\" },\n      { quantity: \"500ml\", name: \"Olio per friggere\" },\n      { quantity: \"300g\", name: \"Crema pasticcera\" },\n      { quantity: \"q.b.\", name: \"Amarene sciroppate\" },\n      { quantity: \"q.b.\", name: \"Zucchero a velo\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Portare a ebollizione acqua e burro\" },\n      { step: 2, instruction: \"Togliere dal fuoco e aggiungere tutta la farina in una volta\" },\n      { step: 3, instruction: \"Mescolare energicamente fino a formare una palla\" },\n      { step: 4, instruction: \"Lasciar raffreddare e incorporare le uova una alla volta\" },\n      { step: 5, instruction: \"Formare ciambelle con la sac-à-poche su quadretti di carta da forno\" },\n      { step: 6, instruction: \"Friggere in olio abbondante girandole delicatamente\" },\n      { step: 7, instruction: \"Scolare, cospargere di zucchero e farcire con crema e amarena\" },\n    ],\n    traditionalNote: \"Le zeppole si preparano il 19 marzo, festa di San Giuseppe. In alcune regioni vengono benedette in chiesa e distribuite ai poveri in memoria della carità del santo.\",\n    liturgicalNote: \"La forma circolare ricorda l'aureola del santo, la crema la dolcezza della sua missione, l'amarena il sacrificio.\",\n    region: \"Campania e Sud Italia\",\n    tags: [\"dolce\", \"fritto\", \"san giuseppe\", \"crema\"],\n  },\n  {\n    id: \"castagnaccio\",\n    name: \"Castagnaccio Toscano\",\n    description: \"Dolce autunnale povero fatto con farina di castagne, dono della Provvidenza\",\n    category: \"ordinario\",\n    season: \"autunno\",\n    difficulty: \"facile\",\n    prepTime: 15,\n    cookTime: 40,\n    servings: 8,\n    ingredients: [\n      { quantity: \"400g\", name: \"Farina di castagne\" },\n      { quantity: \"500ml\", name: \"Acqua\" },\n      { quantity: \"4 cucchiai\", name: \"Olio extravergine\" },\n      { quantity: \"50g\", name: \"Pinoli\" },\n      { quantity: \"50g\", name: \"Uvetta\" },\n      { quantity: \"q.b.\", name: \"Rosmarino fresco\" },\n      { quantity: \"1 pizzico\", name: \"Sale\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Setacciare la farina di castagne in una ciotola\" },\n      { step: 2, instruction: \"Aggiungere acqua poco alla volta mescolando per evitare grumi\" },\n      { step: 3, instruction: \"Incorporare 2 cucchiai d'olio e un pizzico di sale\" },\n      { step: 4, instruction: \"Versare in una teglia oliata (altezza 1cm circa)\" },\n      { step: 5, instruction: \"Distribuire pinoli, uvetta ammollata e aghi di rosmarino\" },\n      { step: 6, instruction: \"Irrorare con olio e cuocere a 200°C per 40 minuti\" },\n      { step: 7, instruction: \"La superficie deve risultare screpolata, servire tiepido\" },\n    ],\n    traditionalNote: \"Il castagnaccio era chiamato 'pane dei poveri'. Le castagne, benedizione dell'autunno, sfamavano le famiglie contadine nei mesi invernali. Si offriva ai viandanti come gesto di carità.\",\n    region: \"Toscana\",\n    tags: [\"autunno\", \"castagne\", \"povero\", \"toscano\"],\n  },\n  {\n    id: \"struffoli-napoletani\",\n    name: \"Struffoli Napoletani\",\n    description: \"Dolce natalizio che con la sua forma circolare ricorda la corona di Cristo e l'eternità\",\n    category: \"natale\",\n    season: \"inverno\",\n    difficulty: \"media\",\n    prepTime: 90,\n    cookTime: 30,\n    servings: 10,\n    ingredients: [\n      { quantity: \"400g\", name: \"Farina 00\" },\n      { quantity: \"4\", name: \"Uova\" },\n      { quantity: \"50g\", name: \"Zucchero\" },\n      { quantity: \"50g\", name: \"Burro morbido\" },\n      { quantity: \"1 bicchierino\", name: \"Liquore all'anice\" },\n      { quantity: \"300g\", name: \"Miele millefiori\" },\n      { quantity: \"q.b.\", name: \"Confettini colorati e cedro candito\" },\n      { quantity: \"1l\", name: \"Olio per friggere\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Impastare farina, uova, zucchero, burro e liquore\" },\n      { step: 2, instruction: \"Lavorare fino a ottenere un impasto liscio ed elastico\" },\n      { step: 3, instruction: \"Far riposare coperto per 30 minuti\" },\n      { step: 4, instruction: \"Formare cordoncini sottili e tagliare palline di 1cm\" },\n      { step: 5, instruction: \"Friggere in olio caldo fino a doratura uniforme\" },\n      { step: 6, instruction: \"Scaldare il miele e unire gli struffoli mescolando delicatamente\" },\n      { step: 7, instruction: \"Disporre a ciambella su un piatto e decorare con confettini e canditi\" },\n    ],\n    traditionalNote: \"Gli struffoli si preparano per tutto il periodo natalizio. La forma a corona rappresenta l'eternità di Cristo. In molte famiglie napoletane si preparano insieme cantando i canti natalizi.\",\n    liturgicalNote: \"Tradizionalmente si portano struffoli ai vicini e ai bisognosi durante le novene natalizie come segno di fratellanza cristiana.\",\n    region: \"Campania\",\n    tags: [\"natale\", \"fritto\", \"miele\", \"napoletano\"],\n  },\n  {\n    id: \"pane-toscano\",\n    name: \"Pane Toscano Senza Sale\",\n    description: \"Il pane quotidiano della tradizione monastica toscana, sciocco come la semplicità evangelica\",\n    category: \"ordinario\",\n    season: \"tutte\",\n    difficulty: \"media\",\n    prepTime: 180,\n    cookTime: 40,\n    servings: 8,\n    ingredients: [\n      { quantity: \"500g\", name: \"Farina 0\" },\n      { quantity: \"300ml\", name: \"Acqua tiepida\" },\n      { quantity: \"15g\", name: \"Lievito di birra\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Sciogliere il lievito in poca acqua tiepida\" },\n      { step: 2, instruction: \"Impastare farina, lievito e acqua rimanente\" },\n      { step: 3, instruction: \"Lavorare energicamente per 15 minuti\" },\n      { step: 4, instruction: \"Far lievitare coperto per 2 ore fino al raddoppio\" },\n      { step: 5, instruction: \"Formare pagnotte allungate e incidere in superficie\" },\n      { step: 6, instruction: \"Lasciar lievitare ancora 1 ora\" },\n      { step: 7, instruction: \"Cuocere in forno molto caldo (250°C) per 10 minuti, poi abbassare a 200°C per 30 minuti\" },\n    ],\n    traditionalNote: \"Il pane toscano nasce nei monasteri medievali. L'assenza di sale ricorda la povertà francescana e si abbina perfettamente ai sapori forti della cucina toscana.\",\n    region: \"Toscana\",\n    tags: [\"pane\", \"quotidiano\", \"toscano\", \"monastico\"],\n  },\n  {\n    id: \"pasta-ceci\",\n    name: \"Pasta e Ceci alla Romana\",\n    description: \"Piatto povero quaresimale, nutrimento sostanzioso per i giorni di astinenza dalla carne\",\n    category: \"quaresima\",\n    season: \"tutte\",\n    difficulty: \"facile\",\n    prepTime: 20,\n    cookTime: 60,\n    servings: 4,\n    ingredients: [\n      { quantity: \"300g\", name: \"Ceci secchi (ammollati 12 ore)\" },\n      { quantity: \"200g\", name: \"Pasta mista o maltagliati\" },\n      { quantity: \"2 spicchi\", name: \"Aglio\" },\n      { quantity: \"1 rametto\", name: \"Rosmarino\" },\n      { quantity: \"4 cucchiai\", name: \"Olio extravergine\" },\n      { quantity: \"q.b.\", name: \"Peperoncino\" },\n      { quantity: \"q.b.\", name: \"Sale\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Cuocere i ceci in abbondante acqua con aglio, rosmarino e sale per 1 ora\" },\n      { step: 2, instruction: \"Frullare metà dei ceci per rendere cremosa la zuppa\" },\n      { step: 3, instruction: \"Aggiungere la pasta e cuocere\" },\n      { step: 4, instruction: \"A fine cottura lasciare riposare 5 minuti\" },\n      { step: 5, instruction: \"Servire con filo d'olio crudo, rosmarino fresco e peperoncino\" },\n    ],\n    traditionalNote: \"Piatto tipico del venerdì e della Quaresima romana. I ceci, legume povero, diventavano nutrimento prezioso nei giorni di digiuno. Si mangia tiepido, mai bollente.\",\n    liturgicalNote: \"Perfetto per il venerdì di Quaresima, giorno di astinenza dalla carne. La semplicità degli ingredienti ricorda la sobrietà quaresimale.\",\n    region: \"Lazio\",\n    tags: [\"primi\", \"quaresima\", \"legumi\", \"romano\"],\n  },\n  {\n    id: \"baccala-vicentino\",\n    name: \"Baccalà alla Vicentina\",\n    description: \"Piatto di magro per le feste di precetto, capolavoro della cucina veneta\",\n    category: \"ordinario\",\n    season: \"inverno\",\n    difficulty: \"media\",\n    prepTime: 30,\n    cookTime: 240,\n    servings: 6,\n    ingredients: [\n      { quantity: \"1kg\", name: \"Baccalà ammollato\" },\n      { quantity: \"500ml\", name: \"Latte intero\" },\n      { quantity: \"150g\", name: \"Cipolla bianca\" },\n      { quantity: \"100g\", name: \"Acciughe sott'olio\" },\n      { quantity: \"200ml\", name: \"Olio extravergine\" },\n      { quantity: \"100g\", name: \"Farina 00\" },\n      { quantity: \"50g\", name: \"Grana Padano\" },\n      { quantity: \"q.b.\", name: \"Prezzemolo e sale\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Tagliare il baccalà a pezzi regolari e infarinare\" },\n      { step: 2, instruction: \"Soffriggere la cipolla tritata finissima con le acciughe sciolte\" },\n      { step: 3, instruction: \"Disporre il baccalà in tegame di coccio, coprire con il soffritto\" },\n      { step: 4, instruction: \"Aggiungere latte, olio, prezzemolo e grana\" },\n      { step: 5, instruction: \"Cuocere in forno a 160°C per 4 ore senza mai mescolare, solo scuotendo il tegame\" },\n      { step: 6, instruction: \"La salsa deve diventare cremosa e bianchissima\" },\n    ],\n    traditionalNote: \"Il baccalà veniva distribuito dalle confraternite ai poveri durante le feste di precetto. La lunga cottura era simbolo di pazienza cristiana.\",\n    liturgicalNote: \"Piatto tradizionale del Venerdì Santo e delle vigilie solenni. Si serve con polenta morbida.\",\n    region: \"Veneto\",\n    tags: [\"pesce\", \"vigilia\", \"veneto\", \"quaresima\"],\n  },\n  {\n    id: \"minestra-pane\",\n    name: \"Minestra di Pane e Verdure\",\n    description: \"Zuppa povera che non spreca nulla, secondo l'insegnamento francescano\",\n    category: \"ordinario\",\n    season: \"inverno\",\n    difficulty: \"facile\",\n    prepTime: 15,\n    cookTime: 30,\n    servings: 4,\n    ingredients: [\n      { quantity: \"300g\", name: \"Pane raffermo\" },\n      { quantity: \"1\", name: \"Cavolo nero\" },\n      { quantity: \"2\", name: \"Patate\" },\n      { quantity: \"1\", name: \"Carota\" },\n      { quantity: \"1 costa\", name: \"Sedano\" },\n      { quantity: \"2 spicchi\", name: \"Aglio\" },\n      { quantity: \"q.b.\", name: \"Olio extravergine e sale\" },\n      { quantity: \"1.5l\", name: \"Brodo vegetale\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Tagliare tutte le verdure a pezzi\" },\n      { step: 2, instruction: \"Soffriggere aglio in olio, aggiungere verdure e far insaporire\" },\n      { step: 3, instruction: \"Coprire con brodo e cuocere 30 minuti\" },\n      { step: 4, instruction: \"Tagliare il pane a fette e tostarlo leggermente\" },\n      { step: 5, instruction: \"Disporre il pane in una zuppiera e versarvi sopra la minestra bollente\" },\n      { step: 6, instruction: \"Lasciar riposare 10 minuti e servire con olio crudo\" },\n    ],\n    traditionalNote: \"Piatto che nasce dalla necessità di non sprecare il pane avanzato. San Francesco insegnava il rispetto per il pane, dono quotidiano di Dio.\",\n    region: \"Toscana, Umbria\",\n    tags: [\"zuppe\", \"povero\", \"recupero\", \"francescano\"],\n  },\n  {\n    id: \"maritozzo-quaresimale\",\n    name: \"Maritozzo Quaresimale Romano\",\n    description: \"Dolce di pane arricchito, permesso anche in Quaresima per la colazione dei lavoratori\",\n    category: \"quaresima\",\n    season: \"primavera\",\n    difficulty: \"media\",\n    prepTime: 120,\n    cookTime: 20,\n    servings: 10,\n    ingredients: [\n      { quantity: \"500g\", name: \"Farina 00\" },\n      { quantity: \"100g\", name: \"Zucchero\" },\n      { quantity: \"50g\", name: \"Burro\" },\n      { quantity: \"2\", name: \"Uova\" },\n      { quantity: \"20g\", name: \"Lievito di birra\" },\n      { quantity: \"150ml\", name: \"Latte\" },\n      { quantity: \"50g\", name: \"Uvetta\" },\n      { quantity: \"50g\", name: \"Pinoli\" },\n      { quantity: \"q.b.\", name: \"Scorza d'arancia\" },\n    ],\n    steps: [\n      { step: 1, instruction: \"Sciogliere lievito nel latte tiepido\" },\n      { step: 2, instruction: \"Impastare tutti gli ingredienti fino a ottenere un impasto morbido\" },\n      { step: 3, instruction: \"Incorporare uvetta ammollata e pinoli\" },\n      { step: 4, instruction: \"Far lievitare coperto per 2 ore\" },\n      { step: 5, instruction: \"Formare panini ovali e disporre in teglia\" },\n      { step: 6, instruction: \"Far lievitare ancora 1 ora\" },\n      { step: 7, instruction: \"Spennellare con latte e cuocere a 180°C per 20 minuti\" },\n    ],\n    traditionalNote: \"Il maritozzo veniva regalato dal fidanzato alla promessa sposa durante la Quaresima come pegno d'amore. I fornai romani lo preparavano all'alba per i lavoratori.\",\n    liturgicalNote: \"Permesso anche in Quaresima perché considerato 'pane arricchito' e non dolce vero e proprio. Si consuma a colazione.\",\n    region: \"Lazio\",\n    tags: [\"dolce\", \"pane\", \"quaresima\", \"romano\"],\n  },\n];\n\nexport const advices: Advice[] = [\n  {\n    id: \"semina-fave-novembre\",\n    title: \"Semina delle Fave di San Martino\",\n    content: \"Seminare le fave dopo San Martino (11 novembre) per avere un raccolto primaverile abbondante. Le fave arricchiscono il terreno di azoto e proteggono le altre colture. Tracciare solchi profondi 5cm e distanziare i semi di 20cm. Coprire con terra e paglia per proteggere dal gelo. Secondo la tradizione contadina, le fave seminate in luna crescente germogliano meglio.\",\n    category: \"orto\",\n    season: \"autunno\",\n    month: 11,\n    difficulty: \"facile\",\n    tags: [\"semina\", \"legumi\", \"san martino\", \"luna\"],\n    lunarPhase: \"crescente\",\n  },\n  {\n    id: \"potatura-rose-gennaio\",\n    title: \"Potatura delle Rose in Gennaio\",\n    content: \"Gennaio è il mese ideale per potare le rose. Tagliare i rami vecchi e deboli, lasciando 3-5 germogli forti. Il taglio va fatto obliquo, 5mm sopra la gemma esterna. Eliminare rami che si incrociano e quelli rivolti verso l'interno. Bruciare i rami potati per evitare malattie. La potatura severa stimola una fioritura più abbondante a primavera. I frati giardinieri benedivano le rose il giorno di Sant'Antonio Abate (17 gennaio).\",\n    category: \"giardino\",\n    season: \"inverno\",\n    month: 1,\n    difficulty: \"media\",\n    tags: [\"potatura\", \"rose\", \"inverno\", \"sant'antonio\"],\n  },\n  {\n    id: \"conserva-pomodoro-agosto\",\n    title: \"Preparazione della Conserva di Pomodoro\",\n    content: \"Agosto è il momento perfetto per preparare la conserva. Scegliere pomodori San Marzano maturi al punto giusto. Scottarli in acqua bollente per 2 minuti, pelarli e passarli al setaccio. Cuocere la passata per 30 minuti con basilico e sale. Invasare in barattoli sterilizzati, aggiungere una foglia di basilico fresco e chiudere ermeticamente. Capovolgere i barattoli e lasciarli raffreddare. Conservare in luogo fresco e buio. Una famiglia di 4 persone necessita di circa 50 barattoli per l'anno.\",\n    category: \"casa\",\n    season: \"estate\",\n    month: 8,\n    difficulty: \"media\",\n    tags: [\"conserve\", \"pomodori\", \"agosto\", \"tradizione\"],\n  },\n  {\n    id: \"bulbi-primavera\",\n    title: \"Piantumazione Bulbi Primaverili\",\n    content: \"Da ottobre a dicembre piantare i bulbi che fioriranno in primavera: tulipani, narcisi, giacinti, crocus. La profondità di piantagione deve essere 3 volte l'altezza del bulbo. In terreni argillosi aggiungere sabbia. Disporre i bulbi in gruppi irregolari per un effetto naturale. I narcisi si piantano vicino alle aiuole di ortaggi perché il loro odore allontana i parassiti. Secondo la tradizione monastica, piantare i bulbi nell'ottava dell'Immacolata porta fortuna al giardino.\",\n    category: \"giardino\",\n    season: \"autunno\",\n    month: 10,\n    difficulty: \"facile\",\n    tags: [\"bulbi\", \"fiori\", \"primavera\", \"immacolata\"],\n  },\n  {\n    id: \"raccolta-olive-novembre\",\n    title: \"Raccolta delle Olive e Frangitura\",\n    content: \"La raccolta delle olive inizia quando il frutto è invaiato (50% verde, 50% nero). Raccogliere a mano o con pettini, evitando di danneggiare i rami. Portare le olive al frantoio entro 24 ore per preservare la qualità. Un albero adulto produce 20-30kg di olive, che danno circa 4-6 litri d'olio. Conservare l'olio in recipienti di vetro scuro o acciaio inox, al riparo da luce e calore. Nelle comunità monastiche, l'olio nuovo viene benedetto nel giorno di San Clemente (23 novembre).\",\n    category: \"orto\",\n    season: \"autunno\",\n    month: 11,\n    difficulty: \"media\",\n    tags: [\"olive\", \"olio\", \"raccolta\", \"san clemente\"],\n  },\n  {\n    id: \"pulizia-primavera-casa\",\n    title: \"Grande Pulizia di Primavera\",\n    content: \"Con l'arrivo della primavera, procedere alla pulizia profonda della casa. Lavare le finestre con acqua e aceto bianco. Battere tappeti e materassi al sole. Arieggiare armadi e cassetti, inserendo sacchetti di lavanda contro le tarme. Pulire le pareti con acqua e bicarbonato. Secondo la tradizione, la casa va preparata per la Pasqua: ogni angolo deve essere pulito come simbolo di rinnovamento spirituale. Le massaie iniziavano le pulizie il mercoledì delle Ceneri.\",\n    category: \"casa\",\n    season: \"primavera\",\n    month: 3,\n    difficulty: \"facile\",\n    tags: [\"pulizie\", \"primavera\", \"pasqua\", \"tradizione\"],\n  },\n  {\n    id: \"trapianto-ortaggi-luna\",\n    title: \"Trapianto degli Ortaggi secondo le Fasi Lunari\",\n    content: \"Gli ortaggi da foglia (lattuga, cavoli, spinaci) si trapiantano in luna crescente. Gli ortaggi da radice (carote, rape, cipolle) in luna calante. I legumi (fagioli, piselli) in luna crescente. I pomodori e le melanzane si trapiantano 3 giorni dopo la luna nuova. Bagnare abbondantemente dopo il trapianto. Evitare di trapiantare nei giorni di nodi lunari. La tradizione contadina affida alla luna la riuscita dell'orto: 'Luna buona, orto abbondante; luna cattiva, orto scarso'.\",\n    category: \"orto\",\n    season: \"tutte\",\n    difficulty: \"media\",\n    tags: [\"trapianto\", \"luna\", \"ortaggi\", \"tradizione\"],\n    lunarPhase: \"crescente/calante\",\n  },\n  {\n    id: \"erbe-aromatiche-balcone\",\n    title: \"Coltivazione Erbe Aromatiche in Balcone\",\n    content: \"Anche in poco spazio si possono coltivare erbe aromatiche. Basilico, rosmarino, salvia, prezzemolo, timo crescono bene in vaso. Usare vasi profondi almeno 20cm con terriccio drenante. Il basilico ama il sole e l'acqua, il rosmarino resiste alla siccità. Pizzicare le cime per favorire la ramificazione. Raccogliere al mattino quando gli oli essenziali sono più concentrati. Nei monasteri medievali, ogni frate aveva il suo piccolo orto di erbe medicinali e aromatiche.\",\n    category: \"piante\",\n    season: \"tutte\",\n    difficulty: \"facile\",\n    tags: [\"erbe\", \"aromatiche\", \"balcone\", \"monastico\"],\n  },\n  {\n    id: \"compost-domestico\",\n    title: \"Realizzazione del Compost Domestico\",\n    content: \"Il compost trasforma gli scarti in prezioso fertilizzante. Serve una compostiera da 300 litri, possibilmente in legno. Alternare strati di materiale verde (scarti di cucina, erba) e marrone (foglie secche, cartone). Mantenere umido ma non bagnato. Rivoltare ogni 15 giorni. In 6-8 mesi si ottiene terriccio maturo, ricco e profumato. Non inserire carne, pesce, latticini. Il compost è 'oro nero' per l'orto. San Francesco chiamava la terra 'sorella madre': il compost è un modo di onorarla restituendole i suoi frutti.\",\n    category: \"orto\",\n    season: \"tutte\",\n    difficulty: \"facile\",\n    tags: [\"compost\", \"riciclo\", \"fertilizzante\", \"francescano\"],\n  },\n  {\n    id: \"innesto-alberi-frutto\",\n    title: \"Innesto degli Alberi da Frutto\",\n    content: \"L'innesto si pratica a fine inverno (febbraio-marzo) quando le piante sono ancora in riposo vegetativo. L'innesto a spacco è il più semplice: tagliare il portainnesto e aprire una fessura verticale. Inserire la marza (rametto con 2-3 gemme) facendo combaciare le cortecce. Legare stretto con rafia e proteggere con mastice. L'innesto 'prende' dopo 3-4 settimane. Nei vecchi poderi i contadini innestavano nel giorno di San Giuseppe (19 marzo), chiedendo la benedizione del santo patrono dei lavoratori.\",\n    category: \"orto\",\n    season: \"inverno\",\n    month: 2,\n    difficulty: \"difficile\",\n    tags: [\"innesto\", \"frutteto\", \"san giuseppe\", \"podere\"],\n  },\n  {\n    id: \"vino-vendemmia\",\n    title: \"Vinificazione Casalinga dopo la Vendemmia\",\n    content: \"Vendemmiare quando l'uva ha raggiunto il giusto grado zuccherino (settembre-ottobre). Pigiare l'uva a mano o con la pigiatrice. Far fermentare il mosto in damigiana di vetro con tappo gorgogliante per 10-15 giorni a temperatura costante (18-22°C). Separare il vino dalle vinacce (svinatura) e travasare in damigiana pulita. Fare 2-3 travasi nei mesi successivi. Imbottigliare dopo 6 mesi, usando bottiglie scure. Un quintale d'uva dà circa 70 litri di vino. Benedire il vino nuovo nel giorno di San Martino (11 novembre): 'A San Martino ogni mosto è vino'.\",\n    category: \"casa\",\n    season: \"autunno\",\n    month: 9,\n    difficulty: \"media\",\n    tags: [\"vino\", \"vendemmia\", \"san martino\", \"tradizione\"],\n  },\n  {\n    id: \"orto-sinergico\",\n    title: \"Principi dell'Orto Sinergico\",\n    content: \"L'orto sinergico imita la natura: piante diverse crescono insieme aiutandosi. Consociazioni classiche: pomodori+basilico (allontana afidi), carote+cipolle (repellono reciprocamente i parassiti), fagioli+mais+zucca (le tre sorelle). Non lavorare il terreno in profondità, solo sarchiare superficialmente. Pacciamare con paglia o foglie. Non usare concimi chimici, solo compost. L'orto si auto-fertilizza e auto-protegge. Questa sapienza agricola rispecchia l'armonia del Creato voluta da Dio, dove ogni elemento ha il suo posto e la sua funzione.\",\n    category: \"orto\",\n    season: \"tutte\",\n    difficulty: \"media\",\n    tags: [\"sinergico\", \"consociazioni\", \"naturale\", \"creato\"],\n  },\n  {\n    id: \"sapone-naturale\",\n    title: \"Produzione del Sapone Naturale\",\n    content: \"Sapone fatto in casa con ingredienti naturali. Serve: 1kg olio d'oliva, 128g soda caustica, 300ml acqua distillata. ATTENZIONE: usare guanti e occhiali! Sciogliere la soda nell'acqua (non viceversa!) e lasciar raffreddare. Scaldare l'olio a 45°C. Unire lentamente la soluzione di soda all'olio, mescolando continuamente per 30 minuti finché si addensa. Versare in stampi e lasciar stagionare 4-6 settimane. Si possono aggiungere oli essenziali di lavanda o rosmarino. Nei monasteri questo era il sapone usato per la pulizia quotidiana.\",\n    category: \"casa\",\n    season: \"tutte\",\n    difficulty: \"difficile\",\n    tags: [\"sapone\", \"naturale\", \"fatto in casa\", \"monastico\"],\n  },\n  {\n    id: \"nocino-san-giovanni\",\n    title: \"Preparazione del Nocino di San Giovanni\",\n    content: \"Il nocino si prepara nella notte di San Giovanni (24 giugno) con noci ancora verdi. Raccogliere 30 noci, tagliarle in quarti. Metterle in un vaso di vetro con 1 litro di alcool 95°, 500g di zucchero, scorza di limone, chiodi di garofano, cannella. Esporre al sole per 40 giorni, agitando ogni giorno. Filtrare e imbottigliare. Far invecchiare almeno 2 mesi. Il nocino matura a Natale. La tradizione vuole che le noci vengano raccolte scalzi nella rugiada, per assorbire la magia della notte più corta dell'anno. Ottimo digestivo dopo i pasti abbondanti.\",\n    category: \"casa\",\n    season: \"estate\",\n    month: 6,\n    difficulty: \"facile\",\n    tags: [\"nocino\", \"san giovanni\", \"liquore\", \"tradizione\"],\n  },\n  {\n    id: \"semenzaio-febbraio\",\n    title: \"Preparazione dei Semenzai in Febbraio\",\n    content: \"A fine febbraio preparare i semenzai per ortaggi estivi. Usare cassette con terriccio da semina (leggero e drenante). Seminare pomodori, peperoni, melanzane, basilico in ambiente protetto (serra fredda o casa). Mantenere temperatura 18-20°C e terreno umido. Germinazione in 7-15 giorni. Quando le piantine hanno 4-5 foglie, trapiantare in vasetti singoli. Portare nell'orto dopo l'ultima gelata (metà aprile). Un vecchio detto contadino: 'Febbraio febbraietto, corto e maledetto, ma chi ha il semenzaio pieno non ha fame tutto l'anno'.\",\n    category: \"orto\",\n    season: \"inverno\",\n    month: 2,\n    difficulty: \"media\",\n    tags: [\"semenzaio\", \"piantine\", \"febbraio\", \"serra\"],\n  },\n  {\n    id: \"marmellate-estate\",\n    title: \"Preparazione delle Marmellate Estive\",\n    content: \"Estate è tempo di marmellate. Proporzione base: 1kg frutta pulita, 600-700g zucchero, succo di 1 limone. Cuocere a fuoco medio mescolando spesso per 30-40 minuti. Prova piattino: una goccia non deve colare. Invasare bollente in barattoli sterilizzati. Capovolgere e lasciare raffreddare. Si creano sottovuoto. Albicocche a giugno, pesche a luglio, fichi ad agosto, prugne a settembre. Scrivere sul barattolo frutto e data. Le marmellate durano 2 anni. Benedirle nel giorno dell'Assunta (15 agosto) perché durino abbondanti.\",\n    category: \"casa\",\n    season: \"estate\",\n    difficulty: \"media\",\n    tags: [\"marmellate\", \"conserve\", \"frutta\", \"assunta\"],\n  },\n  {\n    id: \"lavanda-raccolta\",\n    title: \"Raccolta e Uso della Lavanda\",\n    content: \"Raccogliere la lavanda a inizio fioritura (giugno-luglio), al mattino dopo che la rugiada è asciugata. Tagliare gli steli lunghi e legarli in mazzi. Appendere a testa in giù in luogo ventilato e ombreggiato. Essicca in 2 settimane. Conservare i fiori in sacchetti di tela. Usi: sacchetti profuma-biancheria negli armadi (allontana le tarme), infuso rilassante, olio essenziale, pot-pourri. Nei monasteri la lavanda si coltivava per profumare le lenzuola degli infermi e portare sollievo. È pianta benedetta, simbolo di purezza.\",\n    category: \"piante\",\n    season: \"estate\",\n    month: 6,\n    difficulty: \"facile\",\n    tags: [\"lavanda\", \"erbe\", \"profumo\", \"monastico\"],\n  },\n  {\n    id: \"cantina-vini\",\n    title: \"Organizzazione della Cantina dei Vini\",\n    content: \"La cantina ideale ha temperatura costante 12-14°C, umidità 70-80%, buio, assenza di vibrazioni. Disporre le bottiglie orizzontali affinché il tappo rimanga umido. Catalogare i vini per zona e annata. Separare i vini da invecchiamento da quelli pronti. Controllare periodicamente. Un buon vino migliora con gli anni se conservato bene. Nelle case di campagna, la cantina era benedetta nel giorno di San Vincenzo (22 gennaio), protettore dei vignaioli. 'In cantina buona, vino non manca; in cantina cattiva, aceto abbonda'.\",\n    category: \"casa\",\n    season: \"tutte\",\n    difficulty: \"facile\",\n    tags: [\"vino\", \"cantina\", \"conservazione\", \"san vincenzo\"],\n  },\n  {\n    id: \"orto-quattro-stagioni\",\n    title: \"Pianificazione dell'Orto nelle Quattro Stagioni\",\n    content: \"Primavera: seminare insalate, ravanelli, carote, piselli. Trapiantare pomodori, zucchine, peperoni. Estate: raccogliere e seminare a scalare insalate estive, fagiolini. Trapiantare cavoli autunnali. Autunno: seminare fave, piselli, aglio. Trapiantare cipolle. Pulire e preparare l'orto per l'inverno. Inverno: raccogliere cavoli, porri, radicchio. Pianificare le semine. L'orto va diviso in 4 parti e ogni anno si ruotano le colture (rotazione). Questo preserva la fertilità del terreno. L'orto ben pianificato dà verdure tutto l'anno, come la Provvidenza che non fa mancare il pane quotidiano.\",\n    category: \"orto\",\n    season: \"tutte\",\n    difficulty: \"media\",\n    tags: [\"pianificazione\", \"rotazione\", \"stagioni\", \"provvidenza\"],\n  },\n  {\n    id: \"rimedi-naturali-afidi\",\n    title: \"Rimedi Naturali contro Afidi e Parassiti\",\n    content: \"Macerato d'aglio: frullare 5 spicchi in 1l d'acqua, lasciar macerare 24 ore, filtrare e spruzzare sulle piante. Sapone molle: sciogliere 10g di sapone di Marsiglia in 1l d'acqua, spruzzare su afidi. Macerato di ortica: 1kg di ortiche in 10l d'acqua, macerare 3 giorni, diluire 1:10 e spruzzare. Trattare al tramonto, mai in pieno sole. Ripetere dopo la pioggia. Favorire coccinelle (mangiano afidi): piantare aneto, finocchio, achillea. La natura fornisce i suoi rimedi: 'Dio ha creato l'erba medicinale e l'uomo saggio non la disprezza' (Siracide).\",\n    category: \"orto\",\n    season: \"primavera\",\n    difficulty: \"facile\",\n    tags: [\"afidi\", \"parassiti\", \"naturale\", \"siracide\"],\n  },\n  {\n    id: \"giardino-farfalle\",\n    title: \"Creare un Giardino per le Farfalle\",\n    content: \"Le farfalle amano: buddleia, lavanda, verbena, zinnia, aster, sedum. Piantare in gruppi di colori vivaci (rosso, viola, giallo). Evitare pesticidi. Lasciare una zona con ortiche (cibo per bruchi). Creare piccole pozze d'acqua su pietre piatte. Piantare anche arbusti per riparo e svernamento. Le farfalle arrivano da aprile a ottobre. Un giardino ricco di farfalle è segno di salute ambientale. Nei chiostri medievali, le farfalle erano simbolo dell'anima e della Resurrezione. Contemplarle è preghiera.\",\n    category: \"giardino\",\n    season: \"primavera\",\n    difficulty: \"facile\",\n    tags: [\"farfalle\", \"giardino\", \"biodiversità\", \"resurrezione\"],\n  },\n];\n","size_bytes":34665},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport const letturaSchema = z.object({\n  id: z.string(),\n  tipo: z.string(),\n  riferimento: z.string(),\n  testo: z.string(),\n  snippet: z.string().optional(),\n});\n\nexport const liturgiaSchema = z.object({\n  date: z.string(),\n  season: z.string(),\n  color_key: z.string(),\n  color_label: z.string(),\n  week: z.string(),\n  rank: z.string(),\n  festa: z.string(),\n  letture: z.array(letturaSchema),\n});\n\nexport const naturaSchema = z.object({\n  data: z.string(),\n  orto: z.string(),\n  giardino: z.string(),\n  piante: z.string(),\n  cucina: z.string(),\n  consiglio: z.string(),\n  fase_lunare: z.string(),\n  testo: z.string().optional(),\n});\n\nexport type Lettura = z.infer<typeof letturaSchema>;\nexport type Liturgia = z.infer<typeof liturgiaSchema>;\nexport type Natura = z.infer<typeof naturaSchema>;\n\nexport const diaryEntrySchema = z.object({\n  date: z.string(),\n  content: z.string(),\n  timestamp: z.number(),\n});\n\nexport type DiaryEntry = z.infer<typeof diaryEntrySchema>;\n\n// Almanacco Pratico - Ricette & Consigli Tradizionali\n\nexport const ingredientSchema = z.object({\n  quantity: z.string(),\n  name: z.string(),\n});\n\nexport const recipeStepSchema = z.object({\n  step: z.number(),\n  instruction: z.string(),\n});\n\nexport const recipeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string(),\n  category: z.enum([\n    'natale',\n    'pasqua',\n    'quaresima',\n    'avvento',\n    'pentecoste',\n    'festa_patronale',\n    'ordinario',\n    'epifania',\n    'candelora',\n    'san_giuseppe',\n    'assunzione',\n    'tutti_santi',\n    'immacolata'\n  ]),\n  season: z.enum(['primavera', 'estate', 'autunno', 'inverno', 'tutte']),\n  difficulty: z.enum(['facile', 'media', 'difficile']),\n  prepTime: z.number(),\n  cookTime: z.number(),\n  servings: z.number(),\n  ingredients: z.array(ingredientSchema),\n  steps: z.array(recipeStepSchema),\n  imageUrl: z.string().optional(),\n  traditionalNote: z.string().optional(),\n  liturgicalNote: z.string().optional(),\n  region: z.string().optional(),\n  tags: z.array(z.string()).optional(),\n});\n\nexport const adviceSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  content: z.string(),\n  category: z.enum(['casa', 'orto', 'giardino', 'piante', 'stagionale']),\n  season: z.enum(['primavera', 'estate', 'autunno', 'inverno', 'tutte']),\n  month: z.number().optional(),\n  difficulty: z.enum(['facile', 'media', 'difficile']),\n  tags: z.array(z.string()).optional(),\n  lunarPhase: z.string().optional(),\n  imageUrl: z.string().optional(),\n});\n\nexport type Ingredient = z.infer<typeof ingredientSchema>;\nexport type RecipeStep = z.infer<typeof recipeStepSchema>;\nexport type Recipe = z.infer<typeof recipeSchema>;\nexport type Advice = z.infer<typeof adviceSchema>;\n\n// Homepage - Riflessione Spirituale\nexport const reflectionSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  title: z.string(),\n  excerpt: z.string(),\n  body: z.string(),\n  suggestions: z.array(z.object({\n    author: z.string(),\n    text: z.string(),\n    source: z.string().optional(),\n  })),\n});\n\nexport type Reflection = z.infer<typeof reflectionSchema>;\n\n// Homepage - Consigli Pratici Compatti\nexport const practicalTipSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  category: z.enum(['orto', 'giardino', 'piante']),\n  summary: z.string(),\n  details: z.string(),\n  icon: z.string(),\n  color: z.string(),\n  link: z.string().optional(),\n});\n\nexport type PracticalTip = z.infer<typeof practicalTipSchema>;\n\n// Homepage - Ricetta del Giorno (Preview)\nexport const dailyRecipePreviewSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  title: z.string(),\n  summary: z.string(),\n  recipeId: z.string(),\n  category: z.string(),\n  imageUrl: z.string().optional(),\n});\n\nexport type DailyRecipePreview = z.infer<typeof dailyRecipePreviewSchema>;\n\n// Homepage - Eventi (Accade Oggi / Accadde Oggi)\nexport const eventSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  type: z.enum(['oggi', 'storia']),\n  title: z.string(),\n  summary: z.string(),\n  year: z.number().optional(),\n  source: z.string().optional(),\n});\n\nexport type Event = z.infer<typeof eventSchema>;\n\n// Homepage - Astronomia\nexport const astronomySnapshotSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  sunrise: z.string(),\n  sunset: z.string(),\n  moonPhase: z.string(),\n  moonIllumination: z.number(),\n  saintNote: z.string().optional(),\n  liturgicalNote: z.string().optional(),\n});\n\nexport type AstronomySnapshot = z.infer<typeof astronomySnapshotSchema>;\n\n// Homepage - Meteo\nexport const weatherSnapshotSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  location: z.string(),\n  conditions: z.string(),\n  temperatureMin: z.number(),\n  temperatureMax: z.number(),\n  humidity: z.number().optional(),\n  liturgicalNote: z.string().optional(),\n});\n\nexport type WeatherSnapshot = z.infer<typeof weatherSnapshotSchema>;\n\n// News - Approfondimenti\nexport const insightSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  summary: z.string(),\n  content: z.string(),\n  author: z.string(),\n  publishedDate: z.string(),\n  category: z.enum(['teologia', 'storia', 'spiritualita', 'liturgia', 'cultura']),\n  tags: z.array(z.string()),\n  relatedNewsIds: z.array(z.string()).optional(),\n});\n\nexport type Insight = z.infer<typeof insightSchema>;\n\n// Santo del Giorno\nexport const saintSchema = z.object({\n  id: z.string(),\n  date: z.string(),\n  name: z.string(),\n  title: z.string().optional(),\n  biography: z.string(),\n  excerpt: z.string(),\n  feast: z.string().optional(),\n  patronOf: z.array(z.string()).optional(),\n  attributes: z.array(z.string()).optional(),\n  quotes: z.array(z.object({\n    text: z.string(),\n    source: z.string().optional(),\n  })).optional(),\n  liturgicalNote: z.string().optional(),\n  imageUrl: z.string().optional(),\n  lifeYears: z.string().optional(),\n  canonizationDate: z.string().optional(),\n});\n\nexport type Saint = z.infer<typeof saintSchema>;\n\n// Preghiere\nexport const prayerSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  category: z.enum(['mattino', 'sera', 'rosario', 'angelus', 'liturgia_ore', 'tradizionali', 'sacramenti', 'mariane', 'varie']),\n  subcategory: z.string().optional(),\n  text: z.string(),\n  occasion: z.string().optional(),\n  author: z.string().optional(),\n  source: z.string().optional(),\n  latinText: z.string().optional(),\n  notes: z.string().optional(),\n  tags: z.array(z.string()).optional(),\n});\n\nexport type Prayer = z.infer<typeof prayerSchema>;\n","size_bytes":7040},"client/src/pages/liturgia.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport { motion } from \"framer-motion\";\nimport { AIChatDialog } from \"@/components/AIChatDialog\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport {\n  BookOpen,\n  Sprout,\n  Moon,\n  ChefHat,\n  Sparkles,\n  Calendar,\n  Flower2,\n  Leaf,\n  ArrowRight,\n  Sunrise,\n  Sunset,\n  CloudSun,\n  Thermometer,\n  Droplets,\n  ExternalLink,\n} from \"lucide-react\";\nimport type {\n  Liturgia,\n  Natura,\n  Reflection,\n  PracticalTip,\n  DailyRecipePreview,\n  Event,\n  AstronomySnapshot,\n  WeatherSnapshot,\n  Recipe,\n} from \"@shared/schema\";\nimport { SECTION_THEMES, getCategoryTheme } from \"@/lib/homepage-constants\";\nimport { getLiturgicalColorToken } from \"@/lib/liturgical-colors\";\n\nfunction getTodayDate(): string {\n  return new Date().toISOString().split(\"T\")[0];\n}\n\nfunction formatDate(dateStr: string): string {\n  const date = new Date(dateStr + \"T00:00:00\");\n  const giorni = [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"];\n  const mesi = [\n    \"gennaio\",\n    \"febbraio\",\n    \"marzo\",\n    \"aprile\",\n    \"maggio\",\n    \"giugno\",\n    \"luglio\",\n    \"agosto\",\n    \"settembre\",\n    \"ottobre\",\n    \"novembre\",\n    \"dicembre\",\n  ];\n\n  const dayName = giorni[date.getDay()];\n  const day = date.getDate();\n  const month = mesi[date.getMonth()];\n  const year = date.getFullYear();\n\n  return `${dayName}, ${day} ${month} ${year}`;\n}\n\nfunction stripHtml(html: string): string {\n  return html.replace(/<[^>]*>/g, \"\").replace(/&nbsp;/g, \" \").trim();\n}\n\nexport default function Liturgia() {\n  const today = getTodayDate();\n  const [reflectionOpen, setReflectionOpen] = useState(false);\n  const [tipsDialogOpen, setTipsDialogOpen] = useState(false);\n  const [recipeDialogOpen, setRecipeDialogOpen] = useState(false);\n  const [aiChatOpen, setAiChatOpen] = useState(false);\n  const [aiChatPrompt, setAiChatPrompt] = useState(\"\");\n  const [aiChatContext, setAiChatContext] = useState(\"\");\n\n  const { data: liturgia, isLoading: liturgiaLoading } = useQuery<Liturgia>({\n    queryKey: [\"/api/liturgy\", today],\n  });\n\n  const { data: natura } = useQuery<Natura>({\n    queryKey: [\"/api/nature\", today],\n  });\n\n  const { data: reflection } = useQuery<Reflection>({\n    queryKey: [\"/api/reflection/today\"],\n  });\n\n  const { data: practicalTips = [] } = useQuery<PracticalTip[]>({\n    queryKey: [\"/api/tips/today\"],\n  });\n\n  const { data: dailyRecipePreview } = useQuery<DailyRecipePreview>({\n    queryKey: [\"/api/recipe-of-day\"],\n  });\n\n  const { data: dailyRecipe } = useQuery<Recipe>({\n    queryKey: [`/api/recipes/${dailyRecipePreview?.recipeId}`],\n    enabled: !!dailyRecipePreview?.recipeId && recipeDialogOpen,\n  });\n\n  const { data: allEvents = [] } = useQuery<Event[]>({\n    queryKey: [\"/api/events\"],\n  });\n\n  const { data: astronomy } = useQuery<AstronomySnapshot>({\n    queryKey: [\"/api/astronomy\"],\n  });\n\n  const { data: weather } = useQuery<WeatherSnapshot>({\n    queryKey: [\"/api/weather\"],\n  });\n\n  const todayEvents = allEvents.filter((e) => e.type === \"oggi\");\n  const historyEvents = allEvents.filter((e) => e.type === \"storia\");\n\n  if (liturgiaLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center space-y-3\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"text-muted-foreground\">Caricamento dell'almanacco...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container max-w-5xl mx-auto px-4 py-6 space-y-6\">\n      {/* Data Header - Sempre Visibile con Background Distintivo */}\n      <div className=\"bg-primary/5 border border-primary/10 rounded-xl text-center py-6 px-4\">\n        <h2 className=\"font-serif text-2xl font-semibold text-foreground\" data-testid=\"text-current-date\">\n          {formatDate(liturgia?.date || today)}\n        </h2>\n      </div>\n\n      {/* Liturgical Section */}\n      {liturgia && (\n        <Card className=\"relative overflow-visible\" data-testid=\"card-liturgia\">\n          <div \n            className=\"absolute left-0 top-6 bottom-6 w-1.5 rounded-r-full\" \n            style={{ backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgia.color_key)}))` }}\n          />\n\n          <CardHeader className=\"pb-4 pl-6\">\n            <div className=\"flex items-start justify-between gap-3 flex-wrap\">\n              <div className=\"space-y-3 flex-1\">\n                <h1 className=\"font-serif text-2xl md:text-3xl font-semibold\" data-testid=\"text-liturgia-festa\">\n                  {liturgia.festa}\n                </h1>\n                <div className=\"flex items-center gap-2 flex-wrap\">\n                  <Badge variant=\"secondary\" className=\"gap-1.5\" data-testid=\"badge-liturgical-season\">\n                    <BookOpen className=\"h-3 w-3\" />\n                    {liturgia.season}\n                  </Badge>\n                  <div \n                    className=\"text-xs font-semibold px-2 py-1 rounded text-white shadow-sm uppercase border\"\n                    style={{ \n                      backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgia.color_key)}))`,\n                      borderColor: `hsl(var(${getLiturgicalColorToken(liturgia.color_key)}))`\n                    }}\n                    data-testid=\"badge-liturgical-color\"\n                  >\n                    {liturgia.color_label}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardHeader>\n        </Card>\n      )}\n\n      {!liturgia && (\n        <Card>\n          <CardContent className=\"pt-6 text-center space-y-4\">\n            <p className=\"text-muted-foreground\">\n              Impossibile caricare i dati liturgici. Riprova più tardi.\n            </p>\n            <Button variant=\"outline\" onClick={() => window.location.reload()} data-testid=\"button-reload-liturgia\">\n              Ricarica\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Letture del Giorno della Messa */}\n      {liturgia && liturgia.letture && liturgia.letture.length > 0 && (\n        <Card data-testid=\"card-letture\">\n          <CardHeader>\n            <CardTitle className=\"font-serif text-xl flex items-center gap-2\" data-testid=\"heading-letture\">\n              <BookOpen className=\"h-5 w-5 text-primary\" />\n              Letture del Giorno della Messa\n            </CardTitle>\n            <p className=\"text-sm text-muted-foreground\">Tocca per leggere il testo completo</p>\n          </CardHeader>\n          <CardContent>\n            <Accordion type=\"multiple\" className=\"space-y-2\">\n              {liturgia.letture.map((lettura) => (\n                <AccordionItem \n                  key={lettura.id} \n                  value={lettura.id}\n                  className=\"border rounded-lg px-4\"\n                  data-testid={`lettura-${lettura.id}`}\n                >\n                  <AccordionTrigger className=\"hover:no-underline py-4\">\n                    <div className=\"flex flex-col items-start gap-2 text-left w-full pr-4\">\n                      <div className=\"flex items-center gap-2 flex-wrap\">\n                        <Badge \n                          variant=\"secondary\" \n                          className=\"text-xs font-semibold\"\n                        >\n                          {lettura.tipo}\n                        </Badge>\n                        <span className=\"text-sm font-medium text-muted-foreground\">\n                          {lettura.riferimento}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground line-clamp-2 font-serif\">\n                        {lettura.testo.replace(/<[^>]*>/g, '').substring(0, 120)}...\n                      </p>\n                    </div>\n                  </AccordionTrigger>\n                  <AccordionContent className=\"pb-4 pt-2\">\n                    <div\n                      className=\"font-serif text-sm leading-relaxed prose prose-sm max-w-none dark:prose-invert\"\n                      dangerouslySetInnerHTML={{ __html: lettura.testo }}\n                    />\n                  </AccordionContent>\n                </AccordionItem>\n              ))}\n            </Accordion>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Riflessione Spirituale */}\n      {reflection && (\n        <Card\n          className=\"bg-primary/5 border-primary/20 hover-elevate cursor-pointer\"\n          onClick={() => setReflectionOpen(true)}\n          data-testid=\"card-reflection\"\n        >\n          <CardHeader>\n            <CardTitle className=\"font-serif text-xl\">\n              Riflessione Spirituale\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <h4 className=\"font-serif font-semibold text-lg\">{reflection.title}</h4>\n            <p className=\"text-sm text-muted-foreground line-clamp-2\">{reflection.excerpt}</p>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2 w-full sm:w-auto\">\n              <Sparkles className=\"h-4 w-4\" />\n              Apri meditazione\n              <ArrowRight className=\"h-4 w-4\" />\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Suggerimenti Pratici + Ricetta del Giorno */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {practicalTips.map((tip) => {\n          const theme = getCategoryTheme(tip.category);\n          const Icon = theme.icon;\n          return (\n            <Card\n              key={tip.id}\n              className={`${theme.bgClass} ${theme.borderClass} hover-elevate cursor-pointer`}\n              onClick={() => setTipsDialogOpen(true)}\n              data-testid={`card-tip-${tip.category}`}\n            >\n              <CardContent className=\"p-4 space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <div className={`flex items-center gap-2 text-sm font-medium ${theme.colorClass}`}>\n                    <Icon className=\"h-4 w-4\" />\n                    {theme.label}\n                  </div>\n                  <ArrowRight className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                </div>\n                <p className=\"text-sm font-serif line-clamp-2\">{tip.summary}</p>\n                <p className=\"text-xs text-muted-foreground italic\">Clicca per aprire</p>\n              </CardContent>\n            </Card>\n          );\n        })}\n\n        {/* Ricetta del Giorno */}\n        {dailyRecipePreview && (\n          <Card\n            className={`${SECTION_THEMES.ricetta.bgClass} ${SECTION_THEMES.ricetta.borderClass} hover-elevate cursor-pointer`}\n            onClick={() => setRecipeDialogOpen(true)}\n            data-testid=\"card-recipe-preview\"\n          >\n            <CardContent className=\"p-4 space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <div className={`flex items-center gap-2 text-sm font-medium ${SECTION_THEMES.ricetta.colorClass}`}>\n                  <ChefHat className=\"h-4 w-4\" />\n                  Ricetta del Giorno\n                </div>\n                <ArrowRight className=\"h-3.5 w-3.5 text-muted-foreground\" />\n              </div>\n              <p className=\"text-sm font-serif font-semibold line-clamp-2\">{dailyRecipePreview.title}</p>\n              <p className=\"text-xs text-muted-foreground italic\">Clicca per aprire</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Link ad Almanacco */}\n      <div className=\"text-center\">\n        <Link href=\"/almanacco\">\n          <Button variant=\"outline\" className=\"gap-2\">\n            <BookOpen className=\"h-4 w-4\" />\n            Scopri l'Almanacco Completo\n            <ExternalLink className=\"h-4 w-4\" />\n          </Button>\n        </Link>\n      </div>\n\n      {/* Accade Oggi / Accadde Oggi */}\n      {(todayEvents.length > 0 || historyEvents.length > 0) && (\n        <Card data-testid=\"card-events\">\n          <CardHeader>\n            <CardTitle className=\"font-serif text-xl\">Cronache del Giorno</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <Tabs defaultValue=\"oggi\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2\">\n                <TabsTrigger value=\"oggi\" className=\"gap-2\" data-testid=\"tab-accade-oggi\">\n                  <SECTION_THEMES.accadeOggi.icon className=\"h-4 w-4\" />\n                  Accade Oggi\n                </TabsTrigger>\n                <TabsTrigger value=\"storia\" className=\"gap-2\" data-testid=\"tab-accadde-oggi\">\n                  <SECTION_THEMES.accaddeOggi.icon className=\"h-4 w-4\" />\n                  Accadde Oggi\n                </TabsTrigger>\n              </TabsList>\n              <TabsContent value=\"oggi\" className=\"space-y-3 mt-4\">\n                {todayEvents.map((event, index) => (\n                  <motion.div\n                    key={event.id}\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ \n                      duration: 0.4, \n                      delay: index * 0.1,\n                      ease: \"easeOut\"\n                    }}\n                    className=\"p-4 rounded-lg border-2 border-primary/30 bg-primary/5 space-y-2 shadow-sm\"\n                    data-testid={`event-${event.id}`}\n                  >\n                    <div className=\"flex items-start gap-2\">\n                      <div className=\"w-2 h-2 rounded-full bg-primary mt-1.5 flex-shrink-0 animate-pulse\" />\n                      <div className=\"flex-1 space-y-1\">\n                        <h4 className=\"font-serif font-semibold text-sm\">{event.title}</h4>\n                        <p className=\"text-sm text-muted-foreground leading-relaxed\">{event.summary}</p>\n                        {event.source && (\n                          <p className=\"text-xs text-muted-foreground italic mt-2\">\n                            Fonte: {event.source}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </motion.div>\n                ))}\n              </TabsContent>\n              <TabsContent value=\"storia\" className=\"space-y-3 mt-4\">\n                {historyEvents.map((event) => (\n                  <div key={event.id} className=\"p-3 rounded-md border space-y-1\" data-testid={`event-${event.id}`}>\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <h4 className=\"font-serif font-semibold text-sm\">{event.title}</h4>\n                      {event.year && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {event.year}\n                        </Badge>\n                      )}\n                    </div>\n                    <p className=\"text-xs text-muted-foreground\">{event.summary}</p>\n                  </div>\n                ))}\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Astronomia & Meteo */}\n      {(astronomy || weather) && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Astronomia */}\n          {astronomy && (\n            <Card className={`${SECTION_THEMES.astronomia.bgClass} ${SECTION_THEMES.astronomia.borderClass}`} data-testid=\"card-astronomy\">\n              <CardHeader>\n                <CardTitle className=\"font-serif text-lg flex items-center gap-2\">\n                  <SECTION_THEMES.astronomia.icon className={`h-5 w-5 ${SECTION_THEMES.astronomia.colorClass}`} />\n                  Astronomia\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                      <Sunrise className=\"h-3 w-3\" />\n                      Alba\n                    </div>\n                    <p className=\"text-sm font-semibold\">{astronomy.sunrise}</p>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                      <Sunset className=\"h-3 w-3\" />\n                      Tramonto\n                    </div>\n                    <p className=\"text-sm font-semibold\">{astronomy.sunset}</p>\n                  </div>\n                </div>\n                <Separator />\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                    <Moon className=\"h-3 w-3\" />\n                    Fase Lunare\n                  </div>\n                  <p className=\"text-sm font-semibold\">\n                    {astronomy.moonPhase} ({astronomy.moonIllumination}%)\n                  </p>\n                </div>\n                {astronomy.liturgicalNote && (\n                  <p className=\"text-xs text-muted-foreground italic pt-2 border-t\">{astronomy.liturgicalNote}</p>\n                )}\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Meteo */}\n          {weather && (\n            <Card className={`${SECTION_THEMES.meteo.bgClass} ${SECTION_THEMES.meteo.borderClass}`} data-testid=\"card-weather\">\n              <CardHeader>\n                <CardTitle className=\"font-serif text-lg flex items-center gap-2\">\n                  <CloudSun className={`h-5 w-5 ${SECTION_THEMES.meteo.colorClass}`} />\n                  Meteo\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"space-y-1\">\n                  <p className=\"text-xs text-muted-foreground\">{weather.location}</p>\n                  <p className=\"text-sm font-semibold\">{weather.conditions}</p>\n                </div>\n                <Separator />\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                      <Thermometer className=\"h-3 w-3\" />\n                      Min/Max\n                    </div>\n                    <p className=\"text-sm font-semibold\">\n                      {weather.temperatureMin}° / {weather.temperatureMax}°\n                    </p>\n                  </div>\n                  {weather.humidity && (\n                    <div className=\"space-y-1\">\n                      <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                        <Droplets className=\"h-3 w-3\" />\n                        Umidità\n                      </div>\n                      <p className=\"text-sm font-semibold\">{weather.humidity}%</p>\n                    </div>\n                  )}\n                </div>\n                {weather.liturgicalNote && (\n                  <p className=\"text-xs text-muted-foreground italic pt-2 border-t\">{weather.liturgicalNote}</p>\n                )}\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      )}\n\n      {/* Dialog Riflessione Spirituale */}\n      <Dialog open={reflectionOpen} onOpenChange={setReflectionOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"font-serif text-2xl\">\n              {reflection?.title}\n            </DialogTitle>\n            <DialogDescription className=\"text-base pt-2\">{reflection?.excerpt}</DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-6 pt-4\">\n            <div className=\"prose prose-sm max-w-none\">\n              <div className=\"font-serif text-sm leading-relaxed whitespace-pre-wrap\">{reflection?.body}</div>\n            </div>\n            {reflection?.suggestions && reflection.suggestions.length > 0 && (\n              <div className=\"space-y-4 pt-6 border-t-2 border-primary/20\">\n                <div className=\"bg-primary/5 rounded-xl p-4 border border-primary/10\">\n                  <h4 className=\"font-serif font-bold text-base flex items-center gap-2 text-primary mb-2\">\n                    <Sparkles className=\"h-5 w-5\" />\n                    Approfondisci con AI\n                  </h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Suggerimenti dalle Letture Spirituali - Tocca per esplorare\n                  </p>\n                </div>\n                <div className=\"space-y-3\">\n                  {reflection.suggestions.map((suggestion, idx) => (\n                    <div\n                      key={idx} \n                      className=\"group relative bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl p-5 hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                      onClick={() => {\n                        setAiChatPrompt(`Approfondisci questa citazione: \"${suggestion.text}\" di ${suggestion.author}`);\n                        setAiChatContext(reflection.body);\n                        setReflectionOpen(false);\n                        setAiChatOpen(true);\n                      }}\n                      role=\"button\"\n                      tabIndex={0}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter' || e.key === ' ') {\n                          e.preventDefault();\n                          setAiChatPrompt(`Approfondisci questa citazione: \"${suggestion.text}\" di ${suggestion.author}`);\n                          setAiChatContext(reflection.body);\n                          setReflectionOpen(false);\n                          setAiChatOpen(true);\n                        }\n                      }}\n                      data-testid={`suggestion-${idx}`}\n                    >\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"flex-1 space-y-3 min-w-0\">\n                          <p className=\"text-base font-serif leading-relaxed text-foreground font-medium\">\n                            \"{suggestion.text}\"\n                          </p>\n                          <div className=\"text-sm text-muted-foreground\">\n                            <span className=\"font-bold\">— {suggestion.author}</span>\n                            {suggestion.source && <span className=\"ml-2 font-normal\">({suggestion.source})</span>}\n                          </div>\n                        </div>\n                        <ArrowRight className=\"h-6 w-6 text-primary flex-shrink-0 mt-1 group-hover:translate-x-1 transition-transform\" />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Dialog Suggerimenti Pratici */}\n      <Dialog open={tipsDialogOpen} onOpenChange={setTipsDialogOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"font-serif text-2xl\">Suggerimenti Pratici del Giorno</DialogTitle>\n            <DialogDescription>Saggezza pratica per orto, giardino e piante</DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-6 pt-4\">\n            {practicalTips.map((tip) => {\n              const theme = getCategoryTheme(tip.category);\n              const Icon = theme.icon;\n              return (\n                <Card key={tip.id} className={`${theme.bgClass} ${theme.borderClass}`}>\n                  <CardHeader>\n                    <CardTitle className=\"font-serif text-lg flex items-center gap-2\">\n                      <Icon className={`h-5 w-5 ${theme.colorClass}`} />\n                      {theme.label}: {tip.summary}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"prose prose-sm max-w-none\">\n                      <div className=\"font-serif text-sm leading-relaxed whitespace-pre-wrap\">{tip.details}</div>\n                    </div>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Dialog Ricetta del Giorno */}\n      <Dialog open={recipeDialogOpen} onOpenChange={setRecipeDialogOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"font-serif text-2xl md:text-3xl\">{dailyRecipePreview?.title}</DialogTitle>\n            <DialogDescription className=\"text-base\">{dailyRecipePreview?.summary}</DialogDescription>\n          </DialogHeader>\n          {dailyRecipe && (\n            <div className=\"space-y-8 pt-4\">\n              {/* Info rapide */}\n              <div className=\"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg\">\n                <div className=\"space-y-2 text-center\">\n                  <p className=\"text-sm text-muted-foreground font-medium\">Preparazione</p>\n                  <p className=\"text-lg font-bold text-primary\">{dailyRecipe.prepTime} min</p>\n                </div>\n                <div className=\"space-y-2 text-center border-x\">\n                  <p className=\"text-sm text-muted-foreground font-medium\">Cottura</p>\n                  <p className=\"text-lg font-bold text-primary\">{dailyRecipe.cookTime} min</p>\n                </div>\n                <div className=\"space-y-2 text-center\">\n                  <p className=\"text-sm text-muted-foreground font-medium\">Porzioni</p>\n                  <p className=\"text-lg font-bold text-primary\">{dailyRecipe.servings}</p>\n                </div>\n              </div>\n\n              {/* Ingredienti */}\n              <div>\n                <h3 className=\"font-serif font-bold text-xl mb-4 flex items-center gap-2\">\n                  <span className=\"w-1 h-6 bg-primary rounded\"></span>\n                  Ingredienti\n                </h3>\n                <ul className=\"space-y-3 bg-card border rounded-lg p-5\">\n                  {dailyRecipe.ingredients.map((ing, i) => (\n                    <li key={i} className=\"flex items-start gap-4 text-base py-1\">\n                      <span className=\"text-primary mt-1.5 text-lg\">•</span>\n                      <span className=\"flex-1 font-serif\">\n                        <span className=\"font-semibold text-primary\">{ing.quantity}</span>{' '}\n                        <span>{ing.name}</span>\n                      </span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n\n              {/* Procedimento */}\n              <div>\n                <h3 className=\"font-serif font-bold text-xl mb-4 flex items-center gap-2\">\n                  <span className=\"w-1 h-6 bg-primary rounded\"></span>\n                  Procedimento\n                </h3>\n                <ol className=\"space-y-5\">\n                  {dailyRecipe.steps.map((step) => (\n                    <li key={step.step} className=\"flex gap-4 items-start\">\n                      <div className=\"flex-shrink-0 w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-base font-bold shadow-sm\">\n                        {step.step}\n                      </div>\n                      <p className=\"text-base flex-1 pt-2 font-serif leading-relaxed\">{step.instruction}</p>\n                    </li>\n                  ))}\n                </ol>\n              </div>\n\n              {/* Nota liturgica */}\n              {dailyRecipe.liturgicalNote && (\n                <Card className=\"bg-primary/5 border-primary/30\">\n                  <CardContent className=\"p-5\">\n                    <p className=\"text-sm font-bold uppercase tracking-wider text-primary mb-3 flex items-center gap-2\">\n                      <Sparkles className=\"h-4 w-4\" />\n                      Significato Liturgico\n                    </p>\n                    <p className=\"text-base font-serif leading-relaxed\">{dailyRecipe.liturgicalNote}</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* AI Chat Dialog */}\n      <AIChatDialog\n        open={aiChatOpen}\n        onOpenChange={setAiChatOpen}\n        title=\"Assistente Spirituale AI\"\n        initialPrompt={aiChatPrompt}\n        context={aiChatContext}\n      />\n    </div>\n  );\n}\n","size_bytes":29021},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/lib/diary.ts":{"content":"import { DiaryEntry, diaryEntrySchema } from \"@shared/schema\";\n\nconst DIARY_STORAGE_KEY = \"almanacco_diary\";\n\nfunction isClient(): boolean {\n  return typeof window !== 'undefined';\n}\n\nexport function saveDiaryEntry(date: string, content: string): void {\n  if (!isClient()) return;\n  try {\n    const entries = getAllDiaryEntries();\n    entries[date] = {\n      date,\n      content,\n      timestamp: Date.now(),\n    };\n    localStorage.setItem(DIARY_STORAGE_KEY, JSON.stringify(entries));\n  } catch (error) {\n    console.error(\"Errore nel salvare la nota del diario:\", error);\n  }\n}\n\nexport function getDiaryEntry(date: string): DiaryEntry | null {\n  if (!isClient()) return null;\n  try {\n    const entries = getAllDiaryEntries();\n    const entry = entries[date];\n    if (!entry) return null;\n    \n    const validated = diaryEntrySchema.safeParse(entry);\n    return validated.success ? validated.data : null;\n  } catch (error) {\n    console.error(\"Errore nel recuperare la nota del diario:\", error);\n    return null;\n  }\n}\n\nexport function deleteDiaryEntry(date: string): void {\n  if (!isClient()) return;\n  try {\n    const entries = getAllDiaryEntries();\n    delete entries[date];\n    localStorage.setItem(DIARY_STORAGE_KEY, JSON.stringify(entries));\n  } catch (error) {\n    console.error(\"Errore nell'eliminare la nota del diario:\", error);\n  }\n}\n\nexport function getAllDiaryEntries(): Record<string, DiaryEntry> {\n  if (!isClient()) return {};\n  try {\n    const stored = localStorage.getItem(DIARY_STORAGE_KEY);\n    if (!stored) return {};\n    return JSON.parse(stored);\n  } catch (error) {\n    console.error(\"Errore nel recuperare tutte le note del diario:\", error);\n    return {};\n  }\n}\n\nexport function hasDiaryEntry(date: string): boolean {\n  if (!isClient()) return false;\n  const entries = getAllDiaryEntries();\n  return !!entries[date];\n}\n\nexport function getDiaryEntriesForDateRange(startDate: string, endDate: string): DiaryEntry[] {\n  if (!isClient()) return [];\n  const entries = getAllDiaryEntries();\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  \n  return Object.values(entries).filter(entry => {\n    const entryDate = new Date(entry.date);\n    return entryDate >= start && entryDate <= end;\n  }).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n}\n","size_bytes":2311},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { \n  liturgiaSchema, \n  naturaSchema,\n  reflectionSchema,\n  practicalTipSchema,\n  dailyRecipePreviewSchema,\n  eventSchema,\n  astronomySnapshotSchema,\n  weatherSnapshotSchema,\n  insightSchema,\n  saintSchema,\n  prayerSchema,\n} from \"@shared/schema\";\nimport { fromZodError } from \"zod-validation-error\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.get(\"/api/liturgy/range\", async (req, res) => {\n    try {\n      const start = req.query.start as string;\n      const end = req.query.end as string;\n      \n      if (!start || !end) {\n        return res.status(400).json({ \n          error: \"Parametri 'start' e 'end' obbligatori (formato YYYY-MM-DD)\" \n        });\n      }\n\n      const startDate = new Date(start + 'T00:00:00');\n      const endDate = new Date(end + 'T00:00:00');\n      \n      if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\n        return res.status(400).json({ \n          error: \"Date non valide. Usa formato YYYY-MM-DD\" \n        });\n      }\n\n      if (startDate > endDate) {\n        return res.status(400).json({ \n          error: \"La data di inizio deve essere precedente o uguale alla data di fine\" \n        });\n      }\n\n      const daysDiff = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\n      \n      if (daysDiff > 30) {\n        return res.status(400).json({ \n          error: \"Il range massimo è di 30 giorni\" \n        });\n      }\n\n      const promises = [];\n      const currentDate = new Date(startDate);\n      \n      while (currentDate <= endDate) {\n        const dateStr = currentDate.toISOString().split('T')[0];\n        promises.push(\n          fetch(`https://calendariodellafede.it/api/liturgia.php?date=${dateStr}`)\n            .then(async (response) => {\n              if (!response.ok) {\n                console.warn(`Fetch fallita per ${dateStr}, status: ${response.status}`);\n                return null;\n              }\n              const data = await response.json();\n              try {\n                return liturgiaSchema.parse(data);\n              } catch (parseError) {\n                console.warn(`Parse fallito per ${dateStr}:`, parseError);\n                return null;\n              }\n            })\n            .catch(error => {\n              console.warn(`Errore fetch per ${dateStr}:`, error.message);\n              return null;\n            })\n        );\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n\n      const results = await Promise.all(promises);\n      const validResults = results.filter(r => r !== null);\n      \n      if (validResults.length === 0) {\n        return res.status(503).json({ \n          error: \"Nessun dato liturgico disponibile per il periodo richiesto\" \n        });\n      }\n      \n      res.json(validResults);\n    } catch (error: any) {\n      console.error(\"Errore API liturgy/range:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/liturgy/:date\", async (req, res) => {\n    try {\n      const date = req.params.date || new Date().toISOString().split('T')[0];\n      \n      const response = await fetch(`https://calendariodellafede.it/api/liturgia.php?date=${date}`);\n      if (!response.ok) {\n        return res.status(response.status).json({ \n          error: \"Errore nel recupero dei dati liturgici\" \n        });\n      }\n\n      const data = await response.json();\n      const validated = liturgiaSchema.parse(data);\n      \n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API liturgia/:date:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/liturgy\", async (req, res) => {\n    try {\n      const date = (req.query.date as string) || new Date().toISOString().split('T')[0];\n      \n      const response = await fetch(`https://calendariodellafede.it/api/liturgia.php?date=${date}`);\n      if (!response.ok) {\n        return res.status(response.status).json({ \n          error: \"Errore nel recupero dei dati liturgici\" \n        });\n      }\n\n      const data = await response.json();\n      const validated = liturgiaSchema.parse(data);\n      \n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API liturgia:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/nature\", async (req, res) => {\n    try {\n      const date = (req.query.date as string) || new Date().toISOString().split('T')[0];\n      \n      const response = await fetch(`https://calendariodellafede.it/api/natura.php?date=${date}`);\n      if (!response.ok) {\n        return res.status(response.status).json({ \n          error: \"Errore nel recupero dei consigli sulla natura\" \n        });\n      }\n\n      const data = await response.json();\n      const validated = naturaSchema.parse(data);\n      \n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API natura:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  // Almanacco Pratico - Ricette & Consigli\n  const { recipes, advices } = await import(\"./data/almanac\");\n\n  app.get(\"/api/recipes\", (req, res) => {\n    try {\n      let filtered = [...recipes];\n      \n      const { category, season, difficulty, search } = req.query;\n      \n      if (category && typeof category === 'string') {\n        filtered = filtered.filter(r => r.category === category);\n      }\n      \n      if (season && typeof season === 'string') {\n        filtered = filtered.filter(r => r.season === season || r.season === 'tutte');\n      }\n      \n      if (difficulty && typeof difficulty === 'string') {\n        filtered = filtered.filter(r => r.difficulty === difficulty);\n      }\n      \n      if (search && typeof search === 'string') {\n        const searchLower = search.toLowerCase();\n        filtered = filtered.filter(r => \n          r.name.toLowerCase().includes(searchLower) ||\n          r.description.toLowerCase().includes(searchLower) ||\n          r.tags?.some(t => t.toLowerCase().includes(searchLower))\n        );\n      }\n      \n      res.json(filtered);\n    } catch (error: any) {\n      console.error(\"Errore API recipes:\", error);\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/recipes/:id\", (req, res) => {\n    try {\n      const recipe = recipes.find(r => r.id === req.params.id);\n      if (!recipe) {\n        return res.status(404).json({ error: \"Ricetta non trovata\" });\n      }\n      res.json(recipe);\n    } catch (error: any) {\n      console.error(\"Errore API recipe:\", error);\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/advice\", (req, res) => {\n    try {\n      let filtered = [...advices];\n      \n      const { category, season, difficulty, search, month } = req.query;\n      \n      if (category && typeof category === 'string') {\n        filtered = filtered.filter(a => a.category === category);\n      }\n      \n      if (season && typeof season === 'string') {\n        filtered = filtered.filter(a => a.season === season || a.season === 'tutte');\n      }\n      \n      if (difficulty && typeof difficulty === 'string') {\n        filtered = filtered.filter(a => a.difficulty === difficulty);\n      }\n      \n      if (month && typeof month === 'string') {\n        const monthNum = parseInt(month);\n        if (!isNaN(monthNum)) {\n          filtered = filtered.filter(a => !a.month || a.month === monthNum);\n        }\n      }\n      \n      if (search && typeof search === 'string') {\n        const searchLower = search.toLowerCase();\n        filtered = filtered.filter(a => \n          a.title.toLowerCase().includes(searchLower) ||\n          a.content.toLowerCase().includes(searchLower) ||\n          a.tags?.some(t => t.toLowerCase().includes(searchLower))\n        );\n      }\n      \n      res.json(filtered);\n    } catch (error: any) {\n      console.error(\"Errore API advice:\", error);\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/advice/:id\", (req, res) => {\n    try {\n      const advice = advices.find(a => a.id === req.params.id);\n      if (!advice) {\n        return res.status(404).json({ error: \"Consiglio non trovato\" });\n      }\n      res.json(advice);\n    } catch (error: any) {\n      console.error(\"Errore API advice:\", error);\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  // Homepage - Nuove API usando storage interface\n  app.get(\"/api/reflection/today\", async (req, res) => {\n    try {\n      const reflection = await storage.getReflectionToday();\n      if (!reflection) {\n        return res.status(404).json({ error: \"Riflessione non disponibile\" });\n      }\n      const validated = reflectionSchema.parse(reflection);\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API reflection:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/tips/today\", async (req, res) => {\n    try {\n      const tips = await storage.getTipsToday();\n      const validated = tips.map(tip => practicalTipSchema.parse(tip));\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API tips:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/recipe-of-day\", async (req, res) => {\n    try {\n      const recipePreview = await storage.getRecipeOfDay();\n      if (!recipePreview) {\n        return res.status(404).json({ error: \"Ricetta del giorno non disponibile\" });\n      }\n      const validated = dailyRecipePreviewSchema.parse(recipePreview);\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API recipe-of-day:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/events\", async (req, res) => {\n    try {\n      const { type } = req.query;\n      \n      let events = await storage.getEvents();\n      \n      if (type && typeof type === 'string') {\n        events = events.filter(e => e.type === type);\n      }\n      \n      const validated = events.map(event => eventSchema.parse(event));\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API events:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/astronomy\", async (req, res) => {\n    try {\n      const astronomy = await storage.getAstronomy();\n      if (!astronomy) {\n        return res.status(404).json({ error: \"Dati astronomici non disponibili\" });\n      }\n      const validated = astronomySnapshotSchema.parse(astronomy);\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API astronomy:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/weather\", async (req, res) => {\n    try {\n      const weather = await storage.getWeather();\n      if (!weather) {\n        return res.status(404).json({ error: \"Dati meteo non disponibili\" });\n      }\n      const validated = weatherSnapshotSchema.parse(weather);\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API weather:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/insights\", async (req, res) => {\n    try {\n      const insights = await storage.getInsights();\n      const validated = insights.map(insight => insightSchema.parse(insight));\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API insights:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/saint/today\", async (req, res) => {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      \n      const saint = {\n        id: `saint-${today}`,\n        date: today,\n        name: \"San Francesco di Sales\",\n        title: \"Vescovo e Dottore della Chiesa\",\n        biography: `Francesco di Sales nacque nel castello di Sales, vicino ad Annecy, in Savoia, il 21 agosto 1567. Destinato dal padre alla carriera forense, si laureò in diritto a Padova, ma sentì la vocazione al sacerdozio.\n\nOrdinato sacerdote nel 1593, si dedicò con passione alla predicazione e alla conversione dei calvinisti nel Chiablese, in condizioni estremamente difficili e pericolose. Il suo metodo apostolico si basava sulla dolcezza, la pazienza e l'amore, rinunciando alla violenza e alla polemica.\n\nNel 1602 fu consacrato vescovo di Ginevra, carica che mantenne fino alla morte. Come vescovo, si distinse per la riforma del clero, la predicazione assidua, la direzione spirituale e la visita alle parrocchie.\n\nÈ autore di opere spirituali di grande valore, tra cui \"Introduzione alla vita devota\" (Filotea) e \"Trattato dell'amor di Dio\". In questi scritti promuove una spiritualità accessibile a tutti i cristiani, non solo ai religiosi, insegnando che la santità è possibile in ogni stato di vita.\n\nNel 1610, insieme a santa Giovanna Francesca di Chantal, fondò l'Ordine della Visitazione, un istituto religioso femminile dedicato all'assistenza dei malati e all'educazione.\n\nMorì a Lione il 28 dicembre 1622. Fu beatificato nel 1661 e canonizzato nel 1665. Nel 1877 fu proclamato Dottore della Chiesa. È patrono dei giornalisti e degli scrittori cattolici.`,\n        excerpt: \"Vescovo e Dottore della Chiesa, maestro di dolcezza e vita spirituale. Fondatore dell'Ordine della Visitazione, autore della Filotea.\",\n        feast: \"24 gennaio\",\n        patronOf: [\"Giornalisti\", \"Scrittori\", \"Sordi\"],\n        attributes: [\"Mitria vescovile\", \"Libro\", \"Cuore fiammeggiante\"],\n        quotes: [\n          {\n            text: \"Più si raccolgono mosche con un cucchiaino di miele che con un barile di aceto.\",\n            source: \"Introduzione alla vita devota\"\n          },\n          {\n            text: \"Non temere quello che potrà accadere domani. Lo stesso Padre celeste che si prende cura di te oggi, si prenderà cura di te domani e sempre.\",\n          },\n          {\n            text: \"Abbiate pazienza con tutti, ma soprattutto con voi stessi.\",\n            source: \"Lettere spirituali\"\n          }\n        ],\n        liturgicalNote: \"La memoria di San Francesco di Sales cade il 24 gennaio, data della sua morte avvenuta a Lione nel 1622.\",\n        lifeYears: \"1567 - 1622\",\n        canonizationDate: \"1665\",\n      };\n      \n      const validated = saintSchema.parse(saint);\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API saint/today:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  app.get(\"/api/prayers\", async (req, res) => {\n    try {\n      const prayers = [\n        {\n          id: \"padre-nostro\",\n          title: \"Padre Nostro\",\n          category: \"tradizionali\",\n          text: `Padre nostro che sei nei cieli,\nsia santificato il tuo nome,\nvenga il tuo regno,\nsia fatta la tua volontà\ncome in cielo così in terra.\n\nDacci oggi il nostro pane quotidiano,\ne rimetti a noi i nostri debiti\ncome anche noi li rimettiamo ai nostri debitori,\ne non abbandonarci alla tentazione,\nma liberaci dal male.\n\nAmen.`,\n          latinText: `Pater noster, qui es in caelis,\nsanctificetur nomen tuum.\nAdveniat regnum tuum.\nFiat voluntas tua,\nsicut in caelo et in terra.\n\nPanem nostrum quotidianum da nobis hodie,\net dimitte nobis debita nostra\nsicut et nos dimittimus debitoribus nostris.\nEt ne nos inducas in tentationem,\nsed libera nos a malo.\n\nAmen.`,\n          author: \"Gesù Cristo\",\n          source: \"Vangelo di Matteo 6,9-13\",\n          notes: \"La preghiera insegnata da Gesù ai suoi discepoli. È la preghiera cristiana per eccellenza.\",\n          tags: [\"fondamentale\", \"gesù\", \"vangelo\"]\n        },\n        {\n          id: \"ave-maria\",\n          title: \"Ave Maria\",\n          category: \"mariane\",\n          text: `Ave, o Maria, piena di grazia,\nil Signore è con te.\nTu sei benedetta fra le donne\ne benedetto è il frutto del tuo seno, Gesù.\n\nSanta Maria, Madre di Dio,\nprega per noi peccatori,\nadesso e nell'ora della nostra morte.\n\nAmen.`,\n          latinText: `Ave Maria, gratia plena,\nDominus tecum.\nBenedicta tu in mulieribus,\net benedictus fructus ventris tui, Jesus.\n\nSancta Maria, Mater Dei,\nora pro nobis peccatoribus,\nnunc et in hora mortis nostrae.\n\nAmen.`,\n          source: \"Vangelo di Luca 1,28.42\",\n          notes: \"Preghiera mariana che riprende il saluto dell'angelo Gabriele a Maria.\",\n          tags: [\"maria\", \"rosario\", \"fondamentale\"]\n        },\n        {\n          id: \"gloria-al-padre\",\n          title: \"Gloria al Padre\",\n          category: \"tradizionali\",\n          text: `Gloria al Padre\ne al Figlio\ne allo Spirito Santo.\n\nCome era nel principio, e ora e sempre\nnei secoli dei secoli.\n\nAmen.`,\n          latinText: `Gloria Patri\net Filio\net Spiritui Sancto.\n\nSicut erat in principio, et nunc et semper\net in saecula saeculorum.\n\nAmen.`,\n          notes: \"Dossologia minore, preghiera di lode alla Santissima Trinità.\",\n          tags: [\"trinità\", \"lode\", \"liturgia\"]\n        },\n        {\n          id: \"angelo-di-dio\",\n          title: \"Angelo di Dio\",\n          category: \"tradizionali\",\n          text: `Angelo di Dio,\nche sei il mio custode,\nillumina, custodisci,\nreggi e governa me,\nche ti fui affidato\ndalla pietà celeste.\n\nAmen.`,\n          latinText: `Angele Dei,\nqui custos es mei,\nme, tibi commissum pietate superna,\nillumina, custodi,\nrege et guberna.\n\nAmen.`,\n          notes: \"Preghiera all'Angelo Custode, tradizionalmente recitata al mattino e alla sera.\",\n          tags: [\"angelo custode\", \"protezione\"]\n        },\n        {\n          id: \"angelus\",\n          title: \"Angelus Domini\",\n          category: \"angelus\",\n          occasion: \"Mezzogiorno e sera\",\n          text: `V. L'Angelo del Signore portò l'annuncio a Maria.\nR. Ed ella concepì per opera dello Spirito Santo.\n\nAve Maria...\n\nV. Eccomi, sono la serva del Signore.\nR. Si compia in me la tua parola.\n\nAve Maria...\n\nV. E il Verbo si fece carne.\nR. E venne ad abitare in mezzo a noi.\n\nAve Maria...\n\nV. Prega per noi, santa Madre di Dio.\nR. Perché siamo resi degni delle promesse di Cristo.\n\nPreghiamo:\nInfondi nel nostro spirito la tua grazia, o Padre;\ntu, che nell'annunzio dell'angelo\nci hai rivelato l'incarnazione del tuo Figlio,\nper la sua passione e la sua croce\nguidaci alla gloria della risurrezione.\nPer Cristo nostro Signore.\n\nAmen.`,\n          notes: \"Preghiera tradizionale recitata tre volte al giorno (mattino, mezzogiorno, sera) al suono delle campane.\",\n          tags: [\"maria\", \"incarnazione\", \"tradizione\"]\n        },\n        {\n          id: \"preghiera-mattino\",\n          title: \"Preghiera del Mattino\",\n          category: \"mattino\",\n          text: `Ti adoro, mio Dio,\ne ti amo con tutto il cuore.\nTi ringrazio di avermi creato,\nfatto cristiano e conservato in questa notte.\n\nTi offro le azioni della giornata:\nfa' che siano tutte secondo la tua santa volontà\nper la maggior tua gloria.\n\nPreservami dal peccato\ne da ogni male.\n\nLa tua grazia sia sempre con me\ne con tutti i miei cari.\n\nAmen.`,\n          occasion: \"Al risveglio\",\n          notes: \"Preghiera di offerta della giornata al Signore.\",\n          tags: [\"mattino\", \"offerta\", \"quotidiano\"]\n        },\n        {\n          id: \"preghiera-sera\",\n          title: \"Preghiera della Sera\",\n          category: \"sera\",\n          text: `Ti adoro, mio Dio,\ne ti amo con tutto il cuore.\nTi ringrazio di avermi creato,\nfatto cristiano e conservato in questo giorno.\n\nPerdonami il male oggi commesso\ne se qualche bene ho compiuto,\naccettalo.\n\nCustodiscimi nel riposo\ne liberami dai pericoli.\n\nLa tua grazia sia sempre con me\ne con tutti i miei cari.\n\nAmen.`,\n          occasion: \"Prima del riposo\",\n          notes: \"Preghiera di ringraziamento e affidamento per la notte.\",\n          tags: [\"sera\", \"esame\", \"perdono\", \"riposo\"]\n        },\n        {\n          id: \"credo\",\n          title: \"Credo\",\n          category: \"tradizionali\",\n          subcategory: \"Simbolo Apostolico\",\n          text: `Io credo in Dio, Padre onnipotente,\ncreatore del cielo e della terra;\n\ne in Gesù Cristo, suo unico Figlio, nostro Signore,\nil quale fu concepito di Spirito Santo,\nnacque da Maria Vergine,\npatì sotto Ponzio Pilato,\nfu crocifisso, morì e fu sepolto;\ndiscese agli inferi;\nil terzo giorno risuscitò da morte;\nsalì al cielo,\nsiede alla destra di Dio Padre onnipotente;\ndi là verrà a giudicare i vivi e i morti.\n\nCredo nello Spirito Santo,\nla santa Chiesa cattolica,\nla comunione dei santi,\nla remissione dei peccati,\nla risurrezione della carne,\nla vita eterna.\n\nAmen.`,\n          latinText: `Credo in Deum Patrem omnipotentem,\nCreatorem caeli et terrae,\n\net in Iesum Christum, Filium Eius unicum, Dominum nostrum,\nqui conceptus est de Spiritu Sancto,\nnatus ex Maria Virgine,\npassus sub Pontio Pilato,\ncrucifixus, mortuus, et sepultus,\ndescendit ad inferos,\ntertia die resurrexit a mortuis,\nascendit ad caelos,\nsedet ad dexteram Dei Patris omnipotentis,\ninde venturus est iudicare vivos et mortuos.\n\nCredo in Spiritum Sanctum,\nsanctam Ecclesiam catholicam,\nsanctorum communionem,\nremissionem peccatorum,\ncarnis resurrectionem,\nvitam aeternam.\n\nAmen.`,\n          notes: \"Simbolo degli Apostoli, professione di fede della Chiesa cristiana.\",\n          tags: [\"fede\", \"credo\", \"fondamentale\", \"liturgia\"]\n        },\n        {\n          id: \"salve-regina\",\n          title: \"Salve Regina\",\n          category: \"mariane\",\n          text: `Salve, Regina,\nMadre di misericordia,\nvita, dolcezza e speranza nostra, salve.\n\nA te ricorriamo, esuli figli di Eva;\na te sospiriamo, gementi e piangenti\nin questa valle di lacrime.\n\nOrsù dunque, avvocata nostra,\nrivolgi a noi gli occhi tuoi misericordiosi.\nE mostraci, dopo questo esilio, Gesù,\nil frutto benedetto del tuo seno.\n\nO clemente, o pia, o dolce Vergine Maria.`,\n          latinText: `Salve, Regina,\nMater misericordiae,\nvita, dulcedo et spes nostra, salve.\n\nAd te clamamus, exsules filii Evae.\nAd te suspiramus, gementes et flentes\nin hac lacrimarum valle.\n\nEia ergo, advocata nostra,\nillos tuos misericordes oculos ad nos converte.\nEt Iesum, benedictum fructum ventris tui,\nnobis post hoc exsilium ostende.\n\nO clemens, o pia, o dulcis Virgo Maria.`,\n          author: \"Ermanno di Reichenau (attribuita)\",\n          occasion: \"Tempo Ordinario, dopo Compieta\",\n          notes: \"Una delle quattro antifone mariane maggiori, tradizionalmente cantata dopo Compieta.\",\n          tags: [\"maria\", \"antifona\", \"medievale\"]\n        },\n        {\n          id: \"anima-christi\",\n          title: \"Anima Christi\",\n          category: \"sacramenti\",\n          subcategory: \"Dopo la Comunione\",\n          text: `Anima di Cristo, santificami.\nCorpo di Cristo, salvami.\nSangue di Cristo, inebriami.\nAcqua del costato di Cristo, lavami.\nPassione di Cristo, confortami.\n\nO buon Gesù, esaudiscimi.\nNelle tue piaghe, nascondimi.\nNon permettere che io mi separi da te.\nDal nemico maligno, difendimi.\nNell'ora della mia morte, chiamami\ne comandami di venire a te,\nperché con i tuoi santi ti lodi\nnei secoli dei secoli.\n\nAmen.`,\n          latinText: `Anima Christi, sanctifica me.\nCorpus Christi, salva me.\nSanguis Christi, inebria me.\nAqua lateris Christi, lava me.\nPassio Christi, conforta me.\n\nO bone Jesu, exaudi me.\nIntra tua vulnera absconde me.\nNe permittas me separari a te.\nAb hoste maligno defende me.\nIn hora mortis meae voca me\net iube me venire ad te,\nut cum Sanctis tuis laudem te\nin saecula saeculorum.\n\nAmen.`,\n          occasion: \"Dopo la Comunione eucaristica\",\n          notes: \"Preghiera tradizionalmente recitata dopo aver ricevuto l'Eucaristia, attribuita a Sant'Ignazio di Loyola.\",\n          tags: [\"eucaristia\", \"comunione\", \"gesù\"]\n        }\n      ];\n      \n      const validated = prayers.map(prayer => prayerSchema.parse(prayer));\n      res.json(validated);\n    } catch (error: any) {\n      console.error(\"Errore API prayers:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: \"Dati non validi\", \n          details: fromZodError(error).toString() \n        });\n      }\n      res.status(500).json({ error: \"Errore del server\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":26561},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/pages/advice.tsx":{"content":"import AdviceCard from \"@/components/AdviceCard\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Home, Flower2, CookingPot, Sprout } from \"lucide-react\";\n\nexport default function Advice() {\n  const adviceData = {\n    casa: [\n      {\n        id: 1,\n        title: \"Pulire i vetri senza aloni\",\n        content: \"Usa una soluzione di acqua e aceto in parti uguali. Asciuga con carta di giornale per un risultato perfetto e senza striature. Il momento migliore è la mattina presto.\",\n        season: 'Inverno' as const,\n        featured: true\n      },\n      {\n        id: 2,\n        title: \"Profumare gli armadi naturalmente\",\n        content: \"Prepara sacchetti di lavanda essiccata o scorze di agrumi per mantenere un gradevole profumo negli armadi. Cambia ogni 2-3 mesi.\",\n        season: 'Inverno' as const\n      },\n      {\n        id: 3,\n        title: \"Eliminare l'umidità\",\n        content: \"Posiziona contenitori con sale grosso negli angoli delle stanze più umide. Il sale assorbe l'umidità in eccesso naturalmente.\",\n        season: 'Inverno' as const\n      }\n    ],\n    giardino: [\n      {\n        id: 1,\n        title: \"Proteggere le rose dal freddo\",\n        content: \"Copri la base delle rose con pacciamatura di corteccia o foglie secche per proteggerle dal gelo invernale. Aggiungi uno strato di almeno 10 cm.\",\n        season: 'Inverno' as const,\n        featured: true\n      },\n      {\n        id: 2,\n        title: \"Potatura degli alberi da frutto\",\n        content: \"Novembre è il momento ideale per la potatura degli alberi decidui. Elimina i rami secchi e quelli che si incrociano.\",\n        season: 'Autunno' as const\n      },\n      {\n        id: 3,\n        title: \"Preparare il terreno\",\n        content: \"Arricchisci il terreno con compost maturo per prepararlo alla stagione primaverile. Lavora il terreno quando non è gelato.\",\n        season: 'Inverno' as const\n      }\n    ],\n    cucina: [\n      {\n        id: 1,\n        title: \"Minestrone di stagione\",\n        content: \"Prepara un minestrone con cavolo, patate, fagioli e carote. Perfetto per le giornate fredde, ricco di nutrienti e sapore. Aggiungi un filo d'olio a crudo.\",\n        season: 'Inverno' as const,\n        featured: true\n      },\n      {\n        id: 2,\n        title: \"Conservare le castagne\",\n        content: \"Le castagne fresche si conservano in frigorifero per 2-3 settimane. Sbollentale 5 minuti prima di conservarle per prolungarne la durata.\",\n        season: 'Autunno' as const\n      },\n      {\n        id: 3,\n        title: \"Tisana digestiva\",\n        content: \"Prepara una tisana con finocchio, menta e limone per favorire la digestione dopo i pasti abbondanti delle feste.\",\n        season: 'Inverno' as const\n      }\n    ],\n    orto: [\n      {\n        id: 1,\n        title: \"Seminare le fave\",\n        content: \"Novembre è il momento ideale per seminare le fave nell'orto. Resisteranno al freddo e saranno pronte in primavera. Distanza: 30 cm tra le file.\",\n        season: 'Autunno' as const,\n        featured: true\n      },\n      {\n        id: 2,\n        title: \"Proteggere le piantine\",\n        content: \"Usa tunnel di tessuto non tessuto per proteggere le piantine più delicate dalle gelate notturne senza impedire il passaggio di aria e luce.\",\n        season: 'Inverno' as const\n      },\n      {\n        id: 3,\n        title: \"Raccogliere i cavoli\",\n        content: \"I cavoli raggiungono la massima dolcezza dopo le prime gelate. Raccoglili al mattino quando sono ancora freschi di rugiada.\",\n        season: 'Inverno' as const\n      }\n    ]\n  };\n\n  return (\n    <div className=\"container max-w-6xl mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-serif text-3xl md:text-4xl font-bold mb-2\" data-testid=\"text-page-title\">\n          Consigli Pratici\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Suggerimenti per casa, giardino, cucina e orto\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"casa\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4 mb-8\" data-testid=\"tabs-advice-categories\">\n          <TabsTrigger value=\"casa\" className=\"flex items-center gap-2\" data-testid=\"tab-casa\">\n            <Home className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Casa</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"giardino\" className=\"flex items-center gap-2\" data-testid=\"tab-giardino\">\n            <Flower2 className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Giardino</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"cucina\" className=\"flex items-center gap-2\" data-testid=\"tab-cucina\">\n            <CookingPot className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Cucina</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"orto\" className=\"flex items-center gap-2\" data-testid=\"tab-orto\">\n            <Sprout className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Orto</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"casa\">\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {adviceData.casa.map((advice) => (\n              <AdviceCard\n                key={advice.id}\n                title={advice.title}\n                content={advice.content}\n                category=\"casa\"\n                season={advice.season}\n                icon={Home}\n                featured={advice.featured}\n              />\n            ))}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"giardino\">\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {adviceData.giardino.map((advice) => (\n              <AdviceCard\n                key={advice.id}\n                title={advice.title}\n                content={advice.content}\n                category=\"giardino\"\n                season={advice.season}\n                icon={Flower2}\n                featured={advice.featured}\n              />\n            ))}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"cucina\">\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {adviceData.cucina.map((advice) => (\n              <AdviceCard\n                key={advice.id}\n                title={advice.title}\n                content={advice.content}\n                category=\"cucina\"\n                season={advice.season}\n                icon={CookingPot}\n                featured={advice.featured}\n              />\n            ))}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"orto\">\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {adviceData.orto.map((advice) => (\n              <AdviceCard\n                key={advice.id}\n                title={advice.title}\n                content={advice.content}\n                category=\"orto\"\n                season={advice.season}\n                icon={Sprout}\n                featured={advice.featured}\n              />\n            ))}\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":7139},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/examples/CalendarDay.tsx":{"content":"import CalendarDay from '../CalendarDay';\n\nexport default function CalendarDayExample() {\n  return (\n    <div className=\"grid grid-cols-7 gap-2 max-w-3xl p-4 bg-card rounded-lg\">\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Dom</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Lun</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Mar</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Mer</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Gio</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Ven</div>\n      <div className=\"text-center text-sm font-medium text-muted-foreground py-2\">Sab</div>\n      \n      <CalendarDay day={1} saintName=\"Tutti i Santi\" liturgicalColor=\"white\" isFeastDay onClick={() => console.log('Day 1 clicked')} />\n      <CalendarDay day={2} saintName=\"Commemorazione defunti\" liturgicalColor=\"purple\" onClick={() => console.log('Day 2 clicked')} />\n      <CalendarDay day={3} saintName=\"S. Martino\" onClick={() => console.log('Day 3 clicked')} />\n      <CalendarDay day={4} saintName=\"S. Carlo\" liturgicalColor=\"white\" isFeastDay onClick={() => console.log('Day 4 clicked')} />\n      <CalendarDay day={5} onClick={() => console.log('Day 5 clicked')} />\n      <CalendarDay day={6} onClick={() => console.log('Day 6 clicked')} />\n      <CalendarDay day={7} onClick={() => console.log('Day 7 clicked')} />\n      <CalendarDay day={8} liturgicalColor=\"green\" onClick={() => console.log('Day 8 clicked')} />\n      <CalendarDay day={9} onClick={() => console.log('Day 9 clicked')} />\n      <CalendarDay day={10} onClick={() => console.log('Day 10 clicked')} />\n      <CalendarDay day={11} saintName=\"S. Martino\" liturgicalColor=\"white\" onClick={() => console.log('Day 11 clicked')} />\n      <CalendarDay day={12} onClick={() => console.log('Day 12 clicked')} />\n      <CalendarDay day={13} onClick={() => console.log('Day 13 clicked')} />\n      <CalendarDay day={14} onClick={() => console.log('Day 14 clicked')} />\n      <CalendarDay day={15} liturgicalColor=\"green\" onClick={() => console.log('Day 15 clicked')} />\n      <CalendarDay day={16} onClick={() => console.log('Day 16 clicked')} />\n      <CalendarDay day={17} onClick={() => console.log('Day 17 clicked')} />\n      <CalendarDay day={18} onClick={() => console.log('Day 18 clicked')} />\n      <CalendarDay day={19} isToday onClick={() => console.log('Day 19 clicked - Today!')} />\n      <CalendarDay day={20} onClick={() => console.log('Day 20 clicked')} />\n      <CalendarDay day={21} saintName=\"Presentazione\" liturgicalColor=\"white\" isFeastDay onClick={() => console.log('Day 21 clicked')} />\n    </div>\n  );\n}\n","size_bytes":2820},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/AdviceCard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { LucideIcon } from \"lucide-react\";\n\ninterface AdviceCardProps {\n  title: string;\n  content: string;\n  category: 'casa' | 'giardino' | 'cucina' | 'orto';\n  season: 'Inverno' | 'Primavera' | 'Estate' | 'Autunno';\n  icon: LucideIcon;\n  featured?: boolean;\n}\n\nconst categoryColors = {\n  casa: 'bg-chart-1/10 text-chart-1 border-chart-1/20',\n  giardino: 'bg-chart-3/10 text-chart-3 border-chart-3/20',\n  cucina: 'bg-chart-4/10 text-chart-4 border-chart-4/20',\n  orto: 'bg-secondary/50 text-secondary-foreground border-secondary/30'\n};\n\nexport default function AdviceCard({ title, content, category, season, icon: Icon, featured }: AdviceCardProps) {\n  return (\n    <Card className=\"h-full\" data-testid={`card-advice-${category}`}>\n      <CardHeader>\n        <div className=\"flex items-start justify-between gap-3\">\n          <div className={`p-2.5 rounded-md ${categoryColors[category]}`}>\n            <Icon className=\"h-5 w-5\" data-testid={`icon-${category}`} />\n          </div>\n          <Badge variant=\"outline\" className=\"text-xs\" data-testid=\"badge-season\">\n            {season}\n          </Badge>\n        </div>\n        <CardTitle className=\"font-serif text-xl mt-3\" data-testid=\"text-advice-title\">\n          {title}\n        </CardTitle>\n        {featured && (\n          <Badge className=\"w-fit mt-2\" data-testid=\"badge-featured\">\n            Consiglio del giorno\n          </Badge>\n        )}\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-sm leading-relaxed text-muted-foreground\" data-testid=\"text-advice-content\">\n          {content}\n        </p>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":1750},"client/src/components/CalendarDay.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CalendarDayProps {\n  day: number;\n  saintName?: string;\n  liturgicalColor?: 'red' | 'purple' | 'green' | 'white' | 'gold';\n  isFeastDay?: boolean;\n  isToday?: boolean;\n  onClick?: () => void;\n}\n\nconst colorBorderMap = {\n  red: 'border-l-[3px] border-l-chart-1',\n  purple: 'border-l-[3px] border-l-chart-2',\n  green: 'border-l-[3px] border-l-chart-3',\n  white: 'border-l-[3px] border-l-muted',\n  gold: 'border-l-[3px] border-l-chart-4'\n};\n\nexport default function CalendarDay({ \n  day, \n  saintName, \n  liturgicalColor, \n  isFeastDay, \n  isToday,\n  onClick \n}: CalendarDayProps) {\n  return (\n    <Button\n      variant=\"ghost\"\n      onClick={onClick}\n      className={cn(\n        \"h-auto w-full p-2 flex flex-col items-start justify-start hover-elevate\",\n        isToday && \"bg-primary/5 border border-primary/20\",\n        isFeastDay && \"font-semibold\",\n        liturgicalColor && colorBorderMap[liturgicalColor]\n      )}\n      data-testid={`button-calendar-day-${day}`}\n    >\n      <span className=\"text-base font-semibold\" data-testid={`text-day-${day}`}>\n        {day}\n      </span>\n      {saintName && (\n        <span className=\"text-xs text-muted-foreground truncate w-full text-left mt-0.5\" data-testid={`text-saint-${day}`}>\n          {saintName}\n        </span>\n      )}\n    </Button>\n  );\n}\n","size_bytes":1392},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"server/data/homepage.ts":{"content":"import {\n  Reflection,\n  PracticalTip,\n  DailyRecipePreview,\n  Event,\n  AstronomySnapshot,\n  WeatherSnapshot,\n  Insight,\n} from \"@shared/schema\";\n\n// Riflessione Spirituale del Giorno\nexport const dailyReflection: Reflection = {\n  id: \"refl-20251119\",\n  date: \"2025-11-19\",\n  title: \"La Luce nella Quotidianità\",\n  excerpt: \"Ogni giorno ci offre l'opportunità di vedere la presenza divina nelle piccole cose...\",\n  body: `In questo tempo ordinario della Chiesa, siamo chiamati a riconoscere il sacro nel quotidiano. Non dobbiamo attendere le grandi feste o i momenti straordinari per incontrare il Signore: Egli è presente nel sorriso di un fratello, nel lavoro delle nostre mani, nel silenzio della preghiera mattutina.\n\nCome ci ricorda San Benedetto nella sua Regola, \"l'oziosità è nemica dell'anima\". Il lavoro, la preghiera, lo studio - ogni attività può diventare un canto di lode se compiuta con il cuore rivolto a Dio.\n\nOggi, fermiamoci un momento. Guardiamo con occhi nuovi ciò che ci circonda. Il pane sulla tavola, l'acqua che disseta, il tetto che ci ripara - tutto è dono. Ogni respiro è grazia.\n\nChe possiamo vivere questa giornata non come un peso, ma come un'opportunità di crescita spirituale. Che ogni nostro gesto, anche il più umile, possa essere offerto come preghiera silenziosa.`,\n  suggestions: [\n    {\n      author: \"San Benedetto da Norcia\",\n      text: \"Preferire assolutamente nulla all'amore di Cristo.\",\n      source: \"Regola di San Benedetto, Cap. 4\",\n    },\n    {\n      author: \"Santa Teresa d'Avila\",\n      text: \"Dio cammina tra le pentole e i tegami aiutando sia all'interno che all'esterno.\",\n      source: \"Libro della Vita\",\n    },\n    {\n      author: \"Beato Charles de Foucauld\",\n      text: \"La santità consiste nel fare la volontà di Dio, qualunque essa sia, sempre, in tutte le cose.\",\n    },\n  ],\n};\n\n// Consigli Pratici del Giorno (Orto, Giardino, Piante)\nexport const dailyPracticalTips: PracticalTip[] = [\n  {\n    id: \"tip-orto-20251119\",\n    date: \"2025-11-19\",\n    category: \"orto\",\n    summary: \"Semina delle fave sotto la Luna crescente\",\n    details: `Novembre è il momento ideale per la semina delle fave, soprattutto durante la fase di Luna crescente. Questo legume rustico non teme il freddo e arricchisce il terreno di azoto.\n\n**Come procedere:**\n1. Scegli un'area soleggiata dell'orto, possibilmente dove l'anno scorso hai coltivato ortaggi che consumano molto azoto (pomodori, cavoli)\n2. Lavora il terreno in profondità, eliminando sassi e radici\n3. Traccia solchi profondi 5-7 cm, distanziati 40-50 cm\n4. Disponi i semi a 15-20 cm l'uno dall'altro\n5. Copri con terra e compatta leggermente\n6. Se il clima è molto rigido, proteggi con paglia o tessuto non tessuto\n\n**Nota liturgica:** La tradizione contadina vuole che si semini durante la fase crescente della Luna, ma sempre dopo aver benedetto i semi. Si può recitare una preghiera semplice chiedendo al Signore di benedire il lavoro delle nostre mani.`,\n    icon: \"Sprout\",\n    color: \"#7A9D6B\",\n    link: \"/almanacco\",\n  },\n  {\n    id: \"tip-giardino-20251119\",\n    date: \"2025-11-19\",\n    category: \"giardino\",\n    summary: \"Ultima potatura delle rose prima dell'inverno\",\n    details: `Le rose necessitano di una leggera potatura autunnale per affrontare al meglio l'inverno. Non è la potatura principale (che si farà a febbraio), ma un intervento di preparazione.\n\n**Cosa fare:**\n1. Elimina i rami secchi, malati o danneggiati\n2. Accorcia i rami più lunghi che potrebbero spezzarsi con la neve\n3. Rimuovi le foglie malate cadute alla base per prevenire malattie fungine\n4. Non potare drasticamente - l'obiettivo è solo mettere in sicurezza la pianta\n5. Raccogli tutti i residui di potatura e non lasciarli sul terreno\n\n**Protezione invernale:**\n- Nelle zone con inverni rigidi, proteggi la base con pacciamatura di paglia o foglie\n- Per le rose in vaso, spostale vicino a un muro esposto a sud\n\n**Benedizione del giardino:** I monaci cistercensi benedicevano il giardino prima dell'inverno, affidando le piante alla protezione divina durante il riposo vegetativo.`,\n    icon: \"Flower2\",\n    color: \"#C46448\",\n    link: \"/almanacco\",\n  },\n  {\n    id: \"tip-piante-20251119\",\n    date: \"2025-11-19\",\n    category: \"piante\",\n    summary: \"Cura delle piante d'appartamento in autunno\",\n    details: `Con l'arrivo dei primi freddi e l'accensione del riscaldamento, le piante d'appartamento necessitano di attenzioni particolari.\n\n**Gestione dell'umidità:**\n1. Il riscaldamento secca l'aria - nebulizza regolarmente le foglie (non i fiori)\n2. Raggruppa le piante per creare un microclima umido\n3. Usa sottovasi con argilla espansa e acqua (senza toccare il vaso)\n4. Allontana le piante dai termosifoni\n\n**Irrigazione:**\n- Riduci l'annaffiatura: le piante rallentano la crescita\n- Verifica sempre l'umidità del terreno prima di annaffiare\n- Usa acqua a temperatura ambiente, mai fredda di frigo\n\n**Pulizia:**\n- Pulisci le foglie dalla polvere con un panno umido\n- Rimuovi foglie secche o ingiallite\n- Controlla la presenza di parassiti (cocciniglia, ragnetto rosso)\n\n**Nota spirituale:** Le piante ci insegnano il ritmo delle stagioni e l'importanza del riposo. Anche noi, nel periodo autunnale della nostra vita spirituale, dobbiamo rallentare per prepararci a nuova crescita.`,\n    icon: \"Leaf\",\n    color: \"#8B9D7C\",\n    link: \"/almanacco\",\n  },\n];\n\n// Ricetta del Giorno (Preview)\nexport const dailyRecipePreview: DailyRecipePreview = {\n  id: \"daily-recipe-20251119\",\n  date: \"2025-11-19\",\n  title: \"Castagnaccio Toscano\",\n  summary: \"Dolce autunnale tradizionale della Toscana, preparato con farina di castagne, perfetto per San Martino\",\n  recipeId: \"castagnaccio-toscano\",\n  category: \"ordinario\",\n};\n\n// Eventi \"Accade Oggi\"\nexport const todayEvents: Event[] = [\n  {\n    id: \"event-oggi-1\",\n    date: \"2025-11-19\",\n    type: \"oggi\",\n    title: \"Sinodo dei Vescovi: pubblicazione documento finale\",\n    summary: \"Il Santo Padre presenta il documento conclusivo del percorso sinodale sulla sinodalità nella Chiesa\",\n    source: \"Vatican News\",\n  },\n  {\n    id: \"event-oggi-2\",\n    date: \"2025-11-19\",\n    type: \"oggi\",\n    title: \"Beatificazione di testimoni della fede in Albania\",\n    summary: \"Cerimonia di beatificazione per i martiri dell'epoca comunista, testimoni eroici della fede cristiana\",\n    source: \"Agenzia Fides\",\n  },\n  {\n    id: \"event-oggi-3\",\n    date: \"2025-11-19\",\n    type: \"oggi\",\n    title: \"Convegno nazionale delle Confraternite a Roma\",\n    summary: \"Si conclude il convegno che ha riunito rappresentanti di confraternite da tutta Italia\",\n    source: \"Sir - Agenzia d'Informazione\",\n  },\n];\n\n// Eventi \"Accadde Oggi\" (Storia)\nexport const historyEvents: Event[] = [\n  {\n    id: \"event-storia-1\",\n    date: \"2025-11-19\",\n    type: \"storia\",\n    title: \"Consacrazione della Basilica di San Pietro (1626)\",\n    summary: \"Papa Urbano VIII consacrò solennemente la nuova Basilica di San Pietro in Vaticano, dopo 120 anni di costruzione\",\n    year: 1626,\n    source: \"Archivi Vaticani\",\n  },\n  {\n    id: \"event-storia-2\",\n    date: \"2025-11-19\",\n    type: \"storia\",\n    title: \"Santa Elisabetta d'Ungheria (1231)\",\n    summary: \"Morte di Santa Elisabetta d'Ungheria, principessa e terziaria francescana, protettrice dei poveri e degli ammalati\",\n    year: 1231,\n  },\n  {\n    id: \"event-storia-3\",\n    date: \"2025-11-19\",\n    type: \"storia\",\n    title: \"Fondazione dell'Ordine dei Minimi (1436)\",\n    summary: \"San Francesco di Paola fonda l'Ordine dei Minimi in Calabria, dedicato a vita contemplativa e penitenziale\",\n    year: 1436,\n  },\n  {\n    id: \"event-storia-4\",\n    date: \"2025-11-19\",\n    type: \"storia\",\n    title: \"Concilio Vaticano II: Costituzione Dei Verbum (1965)\",\n    summary: \"Promulgazione della Costituzione Dogmatica sulla Divina Rivelazione, documento fondamentale del Concilio\",\n    year: 1965,\n    source: \"Acta Apostolicae Sedis\",\n  },\n];\n\n// Astronomia\nexport const todayAstronomy: AstronomySnapshot = {\n  id: \"astro-20251119\",\n  date: \"2025-11-19\",\n  sunrise: \"07:12\",\n  sunset: \"16:48\",\n  moonPhase: \"Calante\",\n  moonIllumination: 68,\n  saintNote: \"San Martino di Tours: si celebra tradizionalmente l'11 novembre, periodo dell'estate di San Martino\",\n  liturgicalNote: \"Nel periodo autunnale, le ore di luce diminuiscono ricordandoci l'Avvento che si avvicina, tempo di attesa della Luce del mondo.\",\n};\n\n// Meteo\nexport const todayWeather: WeatherSnapshot = {\n  id: \"weather-20251119\",\n  date: \"2025-11-19\",\n  location: \"Roma, Italia\",\n  conditions: \"Parzialmente nuvoloso\",\n  temperatureMin: 8,\n  temperatureMax: 16,\n  humidity: 65,\n  liturgicalNote: \"Il clima mite di novembre ci permette ancora di godere del creato - un invito a rendere grazie per i doni della natura.\",\n};\n\n// Approfondimenti per pagina News\nexport const insights: Insight[] = [\n  {\n    id: \"insight-1\",\n    title: \"La Devozione Mariana nel Magistero della Chiesa\",\n    summary: \"Un'analisi approfondita del ruolo della Madonna nel culto cattolico attraverso i documenti del Magistero\",\n    content: `La devozione mariana è un elemento centrale della spiritualità cattolica, radicata nella Sacra Scrittura e sviluppata attraverso i secoli dalla Tradizione della Chiesa. Il Concilio Vaticano II, nella Costituzione Dogmatica \"Lumen Gentium\", dedica l'intero capitolo VIII alla Beata Vergine Maria.\n\nSan Paolo VI, nell'Esortazione Apostolica \"Marialis Cultus\" (1974), chiarisce che \"il culto alla Beata Vergine Maria è intrinsecamente relativo al culto del divino Salvatore\". Maria non è mai fine a se stessa, ma sempre via verso Cristo.\n\nSan Giovanni Paolo II ha approfondito ulteriormente questa teologia mariana, definendo Maria come \"la via che conduce a Cristo\" e sottolineando il suo ruolo di Madre della Chiesa. La sua Enciclica \"Redemptoris Mater\" (1987) è considerata uno dei documenti più importanti sulla mariologia moderna.`,\n    author: \"Mons. Carlo Liberati\",\n    publishedDate: \"2025-11-15\",\n    category: \"teologia\",\n    tags: [\"mariologia\", \"magistero\", \"devozione\"],\n  },\n  {\n    id: \"insight-2\",\n    title: \"Storia dei Pellegrinaggi Cristiani\",\n    summary: \"Dalle origini medievali ai grandi cammini di fede contemporanei: l'evoluzione dei pellegrinaggi\",\n    content: `Il pellegrinaggio è una pratica religiosa antichissima che affonda le sue radici nella tradizione biblica. Già nell'Antico Testamento, il popolo d'Israele compiva pellegrinaggi verso Gerusalemme per le grandi feste.\n\nNel cristianesimo, i primi pellegrinaggi documentati risalgono al IV secolo, quando Sant'Elena, madre dell'imperatore Costantino, visitò la Terra Santa. Da allora, tre destinazioni principali hanno caratterizzato i pellegrinaggi cristiani: Gerusalemme (luoghi della Passione di Cristo), Roma (tomba di San Pietro), e Santiago de Compostela (sepolcro di San Giacomo).\n\nNel Medioevo, il pellegrinaggio divenne un fenomeno di massa. I pellegrini percorrevano centinaia di chilometri a piedi, spesso in condizioni difficili, mossi da devozione, penitenza o ricerca spirituale.\n\nOggi assistiamo a una rinascita dei cammini di fede. Il Cammino di Santiago ha registrato nel 2019 oltre 347.000 pellegrini. Anche in Italia, la Via Francigena sta vivendo un momento di grande popolarità.`,\n    author: \"Prof.ssa Maria Bianchi\",\n    publishedDate: \"2025-11-12\",\n    category: \"storia\",\n    tags: [\"pellegrinaggi\", \"storia\", \"tradizione\"],\n  },\n  {\n    id: \"insight-3\",\n    title: \"La Preghiera del Cuore nella Tradizione Orientale\",\n    summary: \"Introduzione alla pratica dell'esicasmo e della Preghiera di Gesù secondo i Padri del deserto\",\n    content: `L'esicasmo (dal greco ἡσυχία, hesychia, \"quiete\", \"pace\") è una tradizione spirituale della Chiesa Orientale che enfatizza la preghiera contemplativa e la ricerca della pace interiore attraverso la Preghiera di Gesù.\n\nLa Preghiera di Gesù consiste nella ripetizione costante della formula: \"Signore Gesù Cristo, Figlio di Dio, abbi pietà di me peccatore\". Questa pratica, documentata fin dal V secolo dai Padri del Deserto, mira all'unione continua con Dio attraverso l'invocazione incessante del Nome di Gesù.\n\nI grandi maestri dell'esicasmo, come San Gregorio Palamas (XIV secolo), insegnano che questa preghiera, praticata con sincerità e perseveranza, conduce alla visione della Luce Increata, la stessa luce che illuminò gli Apostoli sul Monte Tabor durante la Trasfigurazione.\n\nSan Serafino di Sarov (XVIII secolo) affermava che \"lo scopo della vita cristiana è l'acquisizione dello Spirito Santo\". La Preghiera del Cuore è considerata uno strumento privilegiato per raggiungere questo obiettivo.`,\n    author: \"Archimandrita Simone Carusi\",\n    publishedDate: \"2025-11-10\",\n    category: \"spiritualita\",\n    tags: [\"esicasmo\", \"preghiera\", \"tradizione orientale\"],\n  },\n  {\n    id: \"insight-4\",\n    title: \"Il Calendario Liturgico: Struttura e Significato\",\n    summary: \"Come la Chiesa organizza l'anno liturgico per celebrare il mistero di Cristo\",\n    content: `L'anno liturgico non è una semplice ripetizione ciclica delle festività, ma un percorso spirituale che accompagna i fedeli attraverso i misteri della vita di Cristo. La sua struttura attuale è stata definita dalla Riforma Liturgica seguita al Concilio Vaticano II.\n\nIl ciclo liturgico si compone di due periodi principali: il Tempo di Natale (che include l'Avvento, il Natale e il Tempo Ordinario invernale) e il Tempo di Pasqua (che include la Quaresima, il Triduo Pasquale, la Pasqua e il Tempo Ordinario estivo).\n\nI colori liturgici hanno un significato profondo: il viola per l'Avvento e la Quaresima (penitenza e attesa), il bianco per il Natale e la Pasqua (gioia e purezza), il verde per il Tempo Ordinario (speranza e vita), il rosso per la Passione e lo Spirito Santo (amore e martirio).\n\nLa Costituzione \"Sacrosanctum Concilium\" insegna che \"la liturgia è il culmine verso cui tende l'azione della Chiesa e insieme la fonte da cui promana tutta la sua energia\".`,\n    author: \"Don Luca Moretti\",\n    publishedDate: \"2025-11-08\",\n    category: \"liturgia\",\n    tags: [\"calendario liturgico\", \"anno liturgico\", \"colori liturgici\"],\n  },\n];\n","size_bytes":14164},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/examples/NewsCard.tsx":{"content":"import NewsCard from '../NewsCard';\nimport popeImage from '@assets/generated_images/Pope_greeting_faithful_Vatican_9f60b570.png';\nimport churchImage from '@assets/generated_images/Church_interior_morning_light_7d95c4e9.png';\nimport pilgrimsImage from '@assets/generated_images/Pilgrims_praying_at_shrine_52395b4e.png';\n\nexport default function NewsCardExample() {\n  return (\n    <div className=\"space-y-4 max-w-2xl\">\n      <NewsCard\n        title=\"Papa Francesco incontra i fedeli in Piazza San Pietro\"\n        excerpt=\"Durante l'udienza generale, il Santo Padre ha parlato dell'importanza della preghiera e della misericordia nella vita quotidiana dei cristiani.\"\n        imageUrl={popeImage}\n        source=\"Vatican News\"\n        timestamp=\"2 ore fa\"\n        onClick={() => console.log('News clicked: Papa Francesco')}\n      />\n      <NewsCard\n        title=\"Nuova iniziativa per il restauro delle chiese storiche\"\n        excerpt=\"La Conferenza Episcopale annuncia un programma di recupero del patrimonio artistico e architettonico delle chiese italiane.\"\n        imageUrl={churchImage}\n        source=\"Avvenire\"\n        timestamp=\"5 ore fa\"\n        onClick={() => console.log('News clicked: Restauro chiese')}\n      />\n      <NewsCard\n        title=\"Pellegrinaggio mariano: migliaia di fedeli a Lourdes\"\n        excerpt=\"Grande partecipazione al pellegrinaggio annuale al santuario della Madonna, con momenti di preghiera e riflessione spirituale.\"\n        imageUrl={pilgrimsImage}\n        source=\"Catholic News\"\n        timestamp=\"1 giorno fa\"\n        onClick={() => console.log('News clicked: Pellegrinaggio')}\n      />\n    </div>\n  );\n}\n","size_bytes":1644},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"replit.md":{"content":"# Almanacco Cattolico\n\n## Overview\n\nAlmanacco Cattolico is a Catholic almanac web application that provides daily liturgical content, Catholic news, practical advice for home/garden/cooking/farming, and a liturgical calendar with personal spiritual diary. The application combines traditional Catholic aesthetics (inspired by \"Almanacco di Frate Indovino\") with modern web design principles, creating a reverent yet accessible digital experience.\n\nThe app is built as a full-stack TypeScript application with a React frontend and Express backend, designed to present religious content and practical wisdom in an elegant, user-friendly interface.\n\n## Recent Changes (Phase 2 Completed - November 19, 2025)\n\n**Calendario Liturgico + Diario Spirituale**:\n- ✅ Backend route `/api/liturgy/range?start=YYYY-MM-DD&end=YYYY-MM-DD` fetches 14 days of liturgical data from external API\n- ✅ Graceful degradation: backend filters failed API calls, returns only valid dates (handles partial failures)\n- ✅ Calendar page (`/calendario`) displays current + next week with liturgical colors and feast days\n- ✅ Week navigation (previous/next/today) with date-based grouping (not array indices)\n- ✅ DiaryEditor component for personal spiritual notes with localStorage persistence\n- ✅ Real-time UI updates: note indicators and button states sync immediately after save/delete (no dialog close needed)\n- ✅ Date normalization: start-of-day/end-of-day boundaries prevent filtering out Monday or other days\n- ✅ SSR-safe localStorage utilities with `typeof window !== 'undefined'` guards\n- ✅ End-to-end playwright tests passed: navigation, diary CRUD, real-time updates verified\n\n**Bug Fixes Applied**:\n1. Backend: Promise.all with individual catch → filters null responses → 503 only if all fail\n2. Frontend: Date-math grouping instead of `.slice(0,7)` → no misalignment when dates missing\n3. DiaryEditor: useMemo with `diaryVersion` dependency → button variant/text update in real-time\n4. Calendar: Normalized date boundaries (setHours) → Monday and all days correctly filtered\n\n**External API Integration**:\n- `calendariodellafede.it/api/liturgia.php?date=YYYY-MM-DD` for daily readings\n- Backend caches requests, validates with Zod schemas, logs warnings for individual failures\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\nTarget audience: Priests, nuns, bishops, journalists seeking reliable Catholic content.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React 18+ with TypeScript\n- **Routing**: Wouter (lightweight client-side routing)\n- **State Management**: TanStack Query (React Query) for server state\n- **UI Component Library**: Radix UI primitives with shadcn/ui styling system\n- **Styling**: Tailwind CSS with custom design tokens\n\n**Design System**:\n- Hybrid approach combining Apple HIG principles with traditional Catholic liturgical aesthetics\n- Custom typography system using Crimson Text (serif, for liturgical content) and Inter (sans-serif, for UI)\n- Color-coded liturgical elements (red, purple, green, white, gold) reflecting Catholic traditions\n- Dark/light theme support with localStorage persistence\n- Responsive design with mobile-first approach\n\n**Key UI Components**:\n- `LiturgyCard`: Displays daily liturgy with readings, saint of the day, and liturgical color\n- `NewsCard`: Catholic news with verification badges and reliability scoring\n- `AdviceCard`: Practical tips for home, garden, cooking, and farming categorized by season\n- `CalendarDay`: Interactive calendar cells with saint names and liturgical colors\n- `AppSidebar`: Navigation sidebar with collapsible states\n\n### Backend Architecture\n\n**Framework**: Express.js on Node.js\n- **Build Tool**: Vite for frontend bundling, esbuild for backend compilation\n- **Development**: Hot module replacement (HMR) via Vite middleware\n- **API Design**: RESTful endpoints under `/api` prefix (currently minimal backend implementation)\n\n**Storage Strategy**:\n- **Current**: In-memory storage (`MemStorage` class) for user data\n- **Planned**: PostgreSQL integration via Drizzle ORM (infrastructure configured but not yet connected)\n- **Schema**: User authentication schema defined in shared types\n\n**Server Features**:\n- Request logging with response time tracking\n- JSON body parsing with raw body preservation (for webhook verification)\n- Static file serving in production\n- Development-only Replit integration plugins\n\n### Database Design\n\n**ORM**: Drizzle ORM with PostgreSQL dialect (configured but not actively used)\n- Connection: Neon serverless PostgreSQL driver\n- Migrations: Managed via `drizzle-kit` with migrations stored in `/migrations`\n- Schema validation: Drizzle-Zod for runtime type checking\n\n**Current Schema** (defined but not implemented):\n- `users` table: id (UUID), username (unique), password\n\n**Note**: The application currently uses in-memory storage. Database integration is configured but not connected to actual data flows.\n\n### External Dependencies\n\n**Third-Party UI Libraries**:\n- Radix UI: Accessible component primitives (dialogs, dropdowns, accordions, tooltips, etc.)\n- Lucide React: Icon library for UI elements\n- Embla Carousel: Touch-friendly carousel component\n- date-fns: Date manipulation and formatting\n- cmdk: Command palette component\n\n**Development Tools**:\n- Replit-specific plugins: Cartographer, dev banner, runtime error overlay\n- TypeScript compiler with strict mode\n- PostCSS with Autoprefixer for CSS processing\n\n**Fonts**:\n- Google Fonts: Crimson Text (liturgical content), Inter (UI elements)\n- Loaded via CDN in HTML head\n\n**Potential External Services** (not yet implemented):\n- Catholic liturgical calendar API for daily readings\n- Vatican News or Catholic news aggregation service\n- Weather/seasonal data for advice recommendations\n\n### Authentication & Authorization\n\nCurrently minimal - user schema defined but no active authentication system implemented. The infrastructure suggests planned session-based authentication using `connect-pg-simple` for PostgreSQL session storage.\n\n### Build & Deployment\n\n**Development**:\n- `npm run dev`: Runs Express server with Vite middleware, HMR enabled\n- Frontend served at root, API routes at `/api/*`\n- TypeScript type checking via `npm run check`\n\n**Production**:\n- `npm run build`: Vite builds frontend to `dist/public`, esbuild bundles backend to `dist`\n- `npm start`: Runs production Express server serving static files\n- Environment variable required: `DATABASE_URL` (though not actively used)\n\n**Database Management**:\n- `npm run db:push`: Pushes Drizzle schema changes to database (requires active DB connection)","size_bytes":6656},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/AppSidebar.tsx":{"content":"import { Calendar, BookOpen, Newspaper, Sparkles, BookOpenText, Cross, Heart } from \"lucide-react\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarHeader,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { Link, useLocation } from \"wouter\";\nimport ThemeToggle from \"./ThemeToggle\";\nimport { Badge } from \"@/components/ui/badge\";\n\nconst menuItems = [\n  {\n    title: \"Liturgia\",\n    url: \"/\",\n    icon: BookOpen,\n  },\n  {\n    title: \"Notizie\",\n    url: \"/news\",\n    icon: Newspaper,\n  },\n  {\n    title: \"Calendario\",\n    url: \"/calendario\",\n    icon: Calendar,\n  },\n  {\n    title: \"Santi\",\n    url: \"/santi\",\n    icon: Cross,\n  },\n  {\n    title: \"Almanacco\",\n    url: \"/almanacco\",\n    icon: BookOpenText,\n  },\n  {\n    title: \"Preghiere\",\n    url: \"/preghiere\",\n    icon: Heart,\n  },\n];\n\nexport function AppSidebar() {\n  const [location] = useLocation();\n\n  return (\n    <Sidebar data-testid=\"sidebar-main\">\n      <SidebarHeader className=\"border-b p-4 space-y-2\">\n        <div className=\"space-y-1\">\n          <h2 className=\"font-display text-xl uppercase tracking-wide\" data-testid=\"text-app-title\">\n            Almanacco\n          </h2>\n          <p className=\"text-xs text-muted-foreground font-serif\">Cattolico</p>\n        </div>\n        <Badge \n          variant=\"outline\" \n          className=\"gap-1 px-2 py-0.5 bg-primary/10 border-primary/30 w-fit\"\n        >\n          <Sparkles className=\"h-3 w-3\" />\n          <span className=\"text-xs\">Frate AI</span>\n        </Badge>\n      </SidebarHeader>\n\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"font-sans text-xs\">Menu</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {menuItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton \n                    asChild \n                    isActive={location === item.url}\n                    data-testid={`link-${item.title.toLowerCase()}`}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n\n      <SidebarFooter className=\"border-t p-4 space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-xs text-muted-foreground\">\n            {new Date().toLocaleDateString('it-IT', { \n              day: 'numeric',\n              month: 'short',\n              year: 'numeric'\n            })}\n          </span>\n          <ThemeToggle />\n        </div>\n        <p className=\"text-xs text-muted-foreground font-serif italic text-center pt-1\">\n          \"Laudato si', mi' Signore\"\n        </p>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}\n","size_bytes":3071},"client/src/components/DiaryEditor.tsx":{"content":"import { useState, useEffect, useMemo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { PenLine, Save, Trash2, X } from \"lucide-react\";\nimport { saveDiaryEntry, getDiaryEntry, deleteDiaryEntry } from \"@/lib/diary\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface DiaryEditorProps {\n  date: string;\n  festa: string;\n  diaryVersion?: number;\n  onDiaryChange?: () => void;\n}\n\nexport default function DiaryEditor({ date, festa, diaryVersion = 0, onDiaryChange }: DiaryEditorProps) {\n  const [content, setContent] = useState(\"\");\n  const [savedContent, setSavedContent] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (isOpen) {\n      const entry = getDiaryEntry(date);\n      const initialContent = entry?.content || \"\";\n      setContent(initialContent);\n      setSavedContent(initialContent);\n    }\n  }, [date, isOpen]);\n\n  // Recompute hasContent whenever diaryVersion changes\n  const hasContent = useMemo(() => {\n    const entry = getDiaryEntry(date);\n    return !!entry?.content;\n  }, [date, diaryVersion]);\n\n  const handleSave = () => {\n    saveDiaryEntry(date, content);\n    setSavedContent(content);\n    onDiaryChange?.();\n    toast({\n      title: \"Nota salvata\",\n      description: \"La tua riflessione è stata salvata con successo.\",\n    });\n  };\n\n  const handleDelete = () => {\n    deleteDiaryEntry(date);\n    setContent(\"\");\n    setSavedContent(\"\");\n    onDiaryChange?.();\n    toast({\n      title: \"Nota eliminata\",\n      description: \"La riflessione è stata eliminata.\",\n      variant: \"destructive\",\n    });\n  };\n\n  const handleClose = () => {\n    if (content !== savedContent) {\n      const confirmed = window.confirm(\n        \"Hai modifiche non salvate. Vuoi uscire senza salvare?\"\n      );\n      if (!confirmed) return;\n    }\n    setIsOpen(false);\n  };\n\n  const hasUnsavedChanges = content !== savedContent;\n\n  const formatDateLong = (dateStr: string): string => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('it-IT', { \n      weekday: 'long',\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => {\n      if (!open) {\n        handleClose();\n      } else {\n        setIsOpen(true);\n      }\n    }}>\n      <DialogTrigger asChild>\n        <Button \n          variant={hasContent ? \"default\" : \"outline\"}\n          size=\"sm\" \n          className=\"gap-1\"\n          data-testid={`button-diary-${date}`}\n        >\n          <PenLine className=\"h-3 w-3\" />\n          {hasContent ? \"Modifica nota\" : \"Aggiungi nota\"}\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"font-serif text-2xl\">\n            Diario Spirituale\n          </DialogTitle>\n          <DialogDescription className=\"space-y-1\">\n            <div className=\"font-medium text-foreground\">\n              {formatDateLong(date)}\n            </div>\n            <div className=\"text-sm italic\">\n              {festa}\n            </div>\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 mt-4\">\n          <div>\n            <label htmlFor=\"diary-content\" className=\"text-sm font-medium mb-2 block\">\n              Le tue riflessioni personali\n            </label>\n            <Textarea\n              id=\"diary-content\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              placeholder=\"Scrivi qui le tue riflessioni, preghiere, o note personali per questo giorno...\"\n              className=\"min-h-[300px] font-serif resize-none\"\n              data-testid={`textarea-diary-${date}`}\n            />\n            <div className=\"flex items-center justify-between mt-2\">\n              <span className=\"text-xs text-muted-foreground\">\n                {content.length} caratteri\n              </span>\n              {hasUnsavedChanges && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  Modifiche non salvate\n                </Badge>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2 pt-4 border-t\">\n            <Button \n              onClick={handleSave}\n              disabled={!hasUnsavedChanges}\n              className=\"gap-1\"\n              data-testid={`button-save-diary-${date}`}\n            >\n              <Save className=\"h-4 w-4\" />\n              Salva\n            </Button>\n            {hasContent && (\n              <Button \n                onClick={handleDelete}\n                variant=\"destructive\"\n                className=\"gap-1\"\n                data-testid={`button-delete-diary-${date}`}\n              >\n                <Trash2 className=\"h-4 w-4\" />\n                Elimina\n              </Button>\n            )}\n            <Button \n              onClick={() => setIsOpen(false)}\n              variant=\"outline\"\n              className=\"ml-auto gap-1\"\n            >\n              <X className=\"h-4 w-4\" />\n              Chiudi\n            </Button>\n          </div>\n\n          <Card className=\"border-dashed bg-muted/30\">\n            <CardContent className=\"p-4\">\n              <p className=\"text-xs text-muted-foreground italic\">\n                💡 <strong>Suggerimento:</strong> Usa questo spazio per annotare le tue riflessioni sulle letture del giorno, \n                preghiere personali, o momenti di grazia vissuti. Il diario è salvato localmente sul tuo dispositivo.\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":6014},"design_guidelines.md":{"content":"# Design Guidelines: Almanacco Cattolico - Frate Indovino Edition\n\n## Design Approach\n\n**Hybrid**: Apple HIG iOS optimization + Italian folk art tradition inspired by Almanacco di Frate Indovino (est. 1946). Monastic simplicity meets warm, cheerful folk aesthetics.\n\n**Core Principle**: Dense information delivered with Franciscan warmth - traditional missal meets friendly AI assistant.\n\n## Color System\n\n### Light Mode: Parchment\n- **Primary**: Crimson Red (#B8312F) - buttons, liturgical accents, active states\n- **Background**: Parchment (#F5F1E8), cream sections (#FAF7F0)\n- **Text**: Deep brown (#3E2723), medium brown (#5D4037) for secondary\n- **Accents**: Ochre (#D4A574), terracotta (#C46448), sage green (#8B9D7C)\n- **Borders/Ornaments**: Umber (#6D4C41) at 30% opacity\n\n### Dark Mode: Candlelit\n- **Primary**: Warm crimson (#D84A48) - increased brightness for visibility\n- **Background**: Deep umber (#2C1810), warm charcoal sections (#3D2817)\n- **Text**: Warm cream (#F5E6D3), muted cream (#D4C4B0) for secondary\n- **Accents**: Burnt orange (#E67E50), warm ochre (#B8935C), muted sage (#6B7A5E)\n- **Borders/Ornaments**: Golden brown (#B8935C) at 40% opacity\n\n### Liturgical Colors (subtle left border indicators, 6px width)\n- Ordinary Time: Sage green (#7A9D6B)\n- Advent/Lent: Royal purple (#6B4C9A)\n- Feast Days: Rich crimson (#C2423F)\n- Solemnities: Gold (#D4A03A)\n\n## Typography\n\n**Primary**: Crimson Text (Google Fonts) - all body content\n- Headers: 28px/24px/20px (bold)\n- Body: 17px (regular, line-height 1.8 for readability)\n- Liturgical citations: 15px italic\n\n**Display**: Bebas Neue (Google Fonts, condensed) - section headers, \"Frate AI\" branding\n- Main title: 40px/36px (uppercase, letter-spacing: 0.05em)\n- Section headers: 24px (uppercase)\n\n**UI Elements**: Inter (Google Fonts) - navigation, labels\n- Navigation: 16px medium\n- Small labels: 13px\n\n## Layout System\n\n**Spacing**: Tailwind units of 3, 4, 6, 8, 12 (maintain existing)\n- Dense sections: py-6, gap-3\n- Breathing room: py-8 md:py-12 between major sections\n- Cards: p-4 (tighter than before for density)\n\n**Container**: max-w-5xl (wider for dense layout)\n- Mobile: px-4\n- Desktop: px-6\n\n## Core Components\n\n### Header\nFixed top bar with folk art border bottom (decorative pattern, 3px)\n- Left: Hamburger menu icon (Heroicons)\n- Center: \"ALMANACCO CATTOLICO\" (Bebas Neue, 24px) with small \"Assistente Frate AI\" badge below (12px, rounded pill, crimson bg)\n- Right: Mode toggle (sun/candle icon), date display\n- Height: 72px (accommodates badge)\n\n### Liturgical Cards\nDense information blocks with folk ornamental corners (CSS decorative borders)\n- Top: Liturgical day + liturgical color stripe (6px left border)\n- Saint section: circular folk art icon (48px) + name + brief bio (condensed)\n- Readings: Expandable accordions, scripture in indented block format\n- Bottom: \"Rifletti con Frate AI\" button (opens AI meditation prompt)\n\n### News Feed\nCompact cards with folk border treatment\n- Small square thumbnail (80px, rounded)\n- Headline (18px semibold, 2 lines max)\n- Source + time (12px)\n- Divider: decorative folk dash pattern\n\n### Consigli Pratici Grid\nDense 2-column mobile, 3-column desktop\n- Category icon in folk art style (garden tools, vegetables, cooking pot)\n- Seasonal banner ribbon (Inverno/Primavera with decorative ends)\n- Advice text (15px, tight spacing)\n- \"Consiglio del Frate\" badge for featured tips\n\n### Calendario\nMonthly grid with liturgical feast markers\n- Day cells show number + saint initial\n- Feast days: bold crimson border + folk star icon\n- Tap expands daily details in modal with full folk decoration\n\n### AI Assistant Indicator\nPersistent bottom-right floating badge (desktop) or bottom bar (mobile)\n- \"Frate AI\" with small Franciscan cord icon\n- Pulsing subtle glow effect in crimson\n- Tap opens chat interface with warm greeting\n\n## Images & Decorative Elements\n\n**Folk Art Illustrations**: Use throughout\n- Saint portraits: Circular medallion style with decorative border (60-80px)\n- Seasonal headers: Simple line art (gardening tools, vegetables, cooking implements)\n- News thumbnails: Square/landscape mixed, warm color treatment\n- Background patterns: Subtle missal-style repeating motifs (10% opacity) in section backgrounds\n\n**Decorative Borders**: CSS-based folk patterns\n- Corner ornaments on cards (fleur-de-lis style)\n- Divider lines with center medallion breaks\n- Header/footer decorative bands (3-4px with pattern)\n\n**No Large Hero**: This remains a content-first utility app with functional navigation.\n\n## Responsive Behavior\n\n**Mobile**: Single column, stacked dense cards, collapsible sections, full-width touch targets (44px min)\n**Tablet (md: 768px)**: 2-column advice grids, wider calendar, side-by-side readings\n**Desktop (lg: 1024px)**: 3-column grids, persistent sidebar option, hover tooltips for saints/feasts\n\n## Accessibility\n\n- WCAG AAA contrast in both modes (test dark mode crimson against umber)\n- 44px touch targets throughout\n- Semantic HTML for liturgical structure\n- Font scaling support (elder-friendly)\n- Mode toggle remembers preference","size_bytes":5094},"client/src/components/examples/LiturgyCard.tsx":{"content":"import LiturgyCard from '../LiturgyCard';\nimport saintFrancis from '@assets/generated_images/Saint_Francis_portrait_icon_5b386014.png';\n\nexport default function LiturgyCardExample() {\n  const mockData = {\n    liturgicalDay: \"III Domenica di Avvento\",\n    liturgicalColor: 'purple' as const,\n    saint: {\n      name: \"San Francesco d'Assisi\",\n      imageUrl: saintFrancis\n    },\n    readings: [\n      {\n        title: \"Prima Lettura\",\n        reference: \"Isaia 61, 1-2.10-11\",\n        excerpt: \"Lo spirito del Signore Dio è su di me, perché il Signore mi ha consacrato con l'unzione; mi ha mandato a portare il lieto annuncio ai miseri...\",\n        fullText: \"...a fasciare le piaghe dei cuori spezzati, a proclamare la libertà degli schiavi, la scarcerazione dei prigionieri.\"\n      },\n      {\n        title: \"Salmo Responsoriale\",\n        reference: \"Luca 1\",\n        excerpt: \"L'anima mia magnifica il Signore e il mio spirito esulta in Dio, mio salvatore.\"\n      },\n      {\n        title: \"Vangelo\",\n        reference: \"Giovanni 1, 6-8.19-28\",\n        excerpt: \"Venne un uomo mandato da Dio: il suo nome era Giovanni. Egli venne come testimone per dare testimonianza alla luce...\",\n        fullText: \"...perché tutti credessero per mezzo di lui. Non era lui la luce, ma doveva dare testimonianza alla luce.\"\n      }\n    ]\n  };\n\n  return <LiturgyCard data={mockData} />;\n}\n","size_bytes":1379},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/pages/home.tsx":{"content":"import LiturgyCard from \"@/components/LiturgyCard\";\nimport saintTeresa from '@assets/generated_images/Saint_Teresa_portrait_icon_2b75455d.png';\n\nexport default function Home() {\n  const liturgyData = {\n    liturgicalDay: \"Martedì della XXXIII settimana del Tempo Ordinario\",\n    liturgicalColor: 'green' as const,\n    saint: {\n      name: \"Santa Teresa d'Avila\",\n      imageUrl: saintTeresa\n    },\n    readings: [\n      {\n        title: \"Prima Lettura\",\n        reference: \"Apocalisse 14, 14-19\",\n        excerpt: \"Io, Giovanni, vidi: ecco una nube bianca, e sulla nube stava seduto uno simile a un Figlio d'uomo: aveva sul capo una corona d'oro e in mano una falce affilata.\",\n        fullText: \"Un altro angelo uscì dal tempio, gridando a gran voce a colui che stava seduto sulla nube: «Getta la tua falce e mieti; è giunta l'ora di mietere, perché la messe della terra è matura».\"\n      },\n      {\n        title: \"Salmo Responsoriale\",\n        reference: \"Salmo 95\",\n        excerpt: \"Gioiscano i cieli, esulti la terra, risuoni il mare e quanto racchiude; esultino i campi e quanto contengono, acclamino tutti gli alberi della foresta.\"\n      },\n      {\n        title: \"Vangelo\",\n        reference: \"Luca 21, 5-11\",\n        excerpt: \"In quel tempo, mentre alcuni parlavano del tempio, che era ornato di belle pietre e di doni votivi, Gesù disse: «Verranno giorni nei quali, di quello che vedete, non sarà lasciata pietra su pietra che non sarà distrutta».\",\n        fullText: \"Gli domandarono: «Maestro, quando dunque accadranno queste cose e quale sarà il segno, quando esse staranno per accadere?». Rispose: «Badate di non lasciarvi ingannare. Molti infatti verranno nel mio nome dicendo: Sono io, e: Il tempo è vicino. Non andate dietro a loro!».\"\n      }\n    ]\n  };\n\n  return (\n    <div className=\"container max-w-4xl mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-serif text-3xl md:text-4xl font-bold mb-2\" data-testid=\"text-page-title\">\n          Liturgia del Giorno\n        </h1>\n        <p className=\"text-muted-foreground\">\n          {new Date().toLocaleDateString('it-IT', { \n            weekday: 'long', \n            year: 'numeric', \n            month: 'long', \n            day: 'numeric' \n          })}\n        </p>\n      </div>\n      <LiturgyCard data={liturgyData} />\n    </div>\n  );\n}\n","size_bytes":2353},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/pages/calendar.tsx":{"content":"import CalendarDay from \"@/components/CalendarDay\";\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport default function Calendar() {\n  const [currentMonth] = useState(new Date(2024, 10, 1)); // Novembre 2024\n\n  const calendarDays = [\n    { day: 1, saintName: \"Tutti i Santi\", liturgicalColor: 'white' as const, isFeastDay: true },\n    { day: 2, saintName: \"Defunti\", liturgicalColor: 'purple' as const, isFeastDay: true },\n    { day: 3, saintName: \"S. Martino de Porres\" },\n    { day: 4, saintName: \"S. Carlo Borromeo\", liturgicalColor: 'white' as const, isFeastDay: true },\n    { day: 5 },\n    { day: 6 },\n    { day: 7 },\n    { day: 8, liturgicalColor: 'green' as const },\n    { day: 9, saintName: \"Dedicazione Laterano\", liturgicalColor: 'white' as const },\n    { day: 10, saintName: \"S. Leone Magno\", liturgicalColor: 'white' as const },\n    { day: 11, saintName: \"S. Martino di Tours\", liturgicalColor: 'white' as const, isFeastDay: true },\n    { day: 12 },\n    { day: 13, saintName: \"S. Stanislao Kostka\" },\n    { day: 14 },\n    { day: 15, liturgicalColor: 'green' as const },\n    { day: 16, saintName: \"S. Margherita di Scozia\" },\n    { day: 17, saintName: \"S. Elisabetta d'Ungheria\", liturgicalColor: 'white' as const },\n    { day: 18 },\n    { day: 19, isToday: true },\n    { day: 20 },\n    { day: 21, saintName: \"Presentazione Maria\", liturgicalColor: 'white' as const, isFeastDay: true },\n    { day: 22, saintName: \"S. Cecilia\", liturgicalColor: 'red' as const, isFeastDay: true },\n    { day: 23 },\n    { day: 24, liturgicalColor: 'green' as const },\n    { day: 25 },\n    { day: 26 },\n    { day: 27 },\n    { day: 28 },\n    { day: 29 },\n    { day: 30, saintName: \"S. Andrea Apostolo\", liturgicalColor: 'red' as const, isFeastDay: true }\n  ];\n\n  const monthName = currentMonth.toLocaleDateString('it-IT', { month: 'long', year: 'numeric' });\n\n  return (\n    <div className=\"container max-w-6xl mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-serif text-3xl md:text-4xl font-bold mb-2\" data-testid=\"text-page-title\">\n          Calendario Liturgico\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Santi e festività del mese\n        </p>\n      </div>\n\n      <div className=\"bg-card rounded-lg p-4 md:p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <Button \n            variant=\"ghost\" \n            size=\"icon\"\n            onClick={() => console.log('Previous month')}\n            data-testid=\"button-prev-month\"\n          >\n            <ChevronLeft className=\"h-5 w-5\" />\n          </Button>\n          <h2 className=\"font-serif text-2xl font-semibold capitalize\" data-testid=\"text-current-month\">\n            {monthName}\n          </h2>\n          <Button \n            variant=\"ghost\" \n            size=\"icon\"\n            onClick={() => console.log('Next month')}\n            data-testid=\"button-next-month\"\n          >\n            <ChevronRight className=\"h-5 w-5\" />\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-7 gap-2\">\n          {['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab'].map((day) => (\n            <div key={day} className=\"text-center text-sm font-medium text-muted-foreground py-2\">\n              {day}\n            </div>\n          ))}\n          \n          {/* Empty cells for days before month starts (Nov 1, 2024 is Friday) */}\n          {[...Array(5)].map((_, i) => (\n            <div key={`empty-${i}`} />\n          ))}\n\n          {calendarDays.map((dayData) => (\n            <CalendarDay\n              key={dayData.day}\n              day={dayData.day}\n              saintName={dayData.saintName}\n              liturgicalColor={dayData.liturgicalColor}\n              isFeastDay={dayData.isFeastDay}\n              isToday={dayData.isToday}\n              onClick={() => console.log(`Day ${dayData.day} clicked`)}\n            />\n          ))}\n        </div>\n\n        <div className=\"mt-6 pt-6 border-t\">\n          <h3 className=\"font-serif font-semibold mb-3\">Legenda colori liturgici</h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-4 h-4 rounded bg-chart-1\" />\n              <span>Rosso - Martiri</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-4 h-4 rounded bg-chart-2\" />\n              <span>Viola - Penitenza</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-4 h-4 rounded bg-chart-3\" />\n              <span>Verde - Ordinario</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-4 h-4 rounded bg-muted\" />\n              <span>Bianco - Feste</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-4 h-4 rounded bg-chart-4\" />\n              <span>Oro - Solennità</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5147},"client/src/components/ThemeToggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect, useState } from \"react\";\n\nexport default function ThemeToggle() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    const preferredTheme = savedTheme || 'light';\n    setTheme(preferredTheme);\n    document.documentElement.classList.toggle('dark', preferredTheme === 'dark');\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={toggleTheme}\n      data-testid=\"button-theme-toggle\"\n      aria-label=\"Toggle theme\"\n    >\n      {theme === 'light' ? (\n        <Sun className=\"h-5 w-5\" />\n      ) : (\n        <Moon className=\"h-5 w-5\" />\n      )}\n    </Button>\n  );\n}\n","size_bytes":1070},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/App.tsx":{"content":"import { Switch, Route, Link, useLocation } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { AppSidebar } from \"@/components/AppSidebar\";\nimport { Calendar, BookOpen, Newspaper, Cross, BookOpenText, Heart } from \"lucide-react\";\nimport ThemeToggle from \"@/components/ThemeToggle\";\nimport Liturgia from \"@/pages/liturgia\";\nimport News from \"@/pages/news\";\nimport NewsDetail from \"@/pages/news-detail\";\nimport Calendario from \"@/pages/calendario\";\nimport Santi from \"@/pages/santi\";\nimport Almanacco from \"@/pages/almanacco\";\nimport Preghiere from \"@/pages/preghiere\";\nimport NotFound from \"@/pages/not-found\";\n\nconst navItems = [\n  { title: \"Liturgia\", url: \"/\", icon: BookOpen },\n  { title: \"Notizie\", url: \"/news\", icon: Newspaper },\n  { title: \"Calendario\", url: \"/calendario\", icon: Calendar },\n  { title: \"Santi\", url: \"/santi\", icon: Cross },\n  { title: \"Almanacco\", url: \"/almanacco\", icon: BookOpenText },\n  { title: \"Preghiere\", url: \"/preghiere\", icon: Heart },\n];\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Liturgia} />\n      <Route path=\"/liturgia\" component={Liturgia} />\n      <Route path=\"/news/:id\" component={NewsDetail} />\n      <Route path=\"/news\" component={News} />\n      <Route path=\"/calendario\" component={Calendario} />\n      <Route path=\"/santi\" component={Santi} />\n      <Route path=\"/almanacco\" component={Almanacco} />\n      <Route path=\"/preghiere\" component={Preghiere} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction AppHeader() {\n  const [location] = useLocation();\n  \n  const isActive = (url: string) => {\n    if (url === \"/\" && location === \"/\") return true;\n    if (url !== \"/\" && location.startsWith(url)) return true;\n    return false;\n  };\n\n  return (\n    <header className=\"bg-gradient-to-r from-primary/20 via-primary/10 to-background border-b sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-gradient-to-r supports-[backdrop-filter]:from-primary/15 supports-[backdrop-filter]:via-primary/8 supports-[backdrop-filter]:to-background/80\">\n      <div className=\"flex items-center justify-between px-3 py-2\">\n        <div className=\"flex items-center gap-3\">\n          <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n          <div className=\"hidden lg:flex items-center gap-1\">\n            {navItems.map((item) => {\n              const Icon = item.icon;\n              const active = isActive(item.url);\n              return (\n                <Link key={item.url} href={item.url}>\n                  <button\n                    className={`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all hover-elevate active-elevate-2 ${\n                      active \n                        ? 'bg-primary/20 text-foreground border border-primary/30' \n                        : 'text-foreground/70 hover:text-foreground'\n                    }`}\n                    data-testid={`nav-tab-${item.title.toLowerCase()}`}\n                  >\n                    <Icon className=\"h-4 w-4\" />\n                    <span className=\"hidden xl:inline\">{item.title}</span>\n                  </button>\n                </Link>\n              );\n            })}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium text-foreground/80 hidden md:block\">\n            {new Date().toLocaleDateString('it-IT', { \n              weekday: 'long',\n              day: 'numeric',\n              month: 'long'\n            })}\n          </span>\n          <ThemeToggle />\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default function App() {\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n    \"--sidebar-width-icon\": \"3rem\",\n  };\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <SidebarProvider style={style as React.CSSProperties}>\n          <div className=\"flex h-screen w-full\">\n            <AppSidebar />\n            <div className=\"flex flex-col flex-1 overflow-hidden\">\n              <AppHeader />\n              <main className=\"flex-1 overflow-y-auto\">\n                <Router />\n              </main>\n            </div>\n          </div>\n        </SidebarProvider>\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n","size_bytes":4554},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/lib/homepage-constants.ts":{"content":"import {\n  Sprout,\n  Flower2,\n  Leaf,\n  ChefHat,\n  Newspaper,\n  Hourglass,\n  MoonStar,\n  CloudSun,\n  type LucideIcon,\n} from \"lucide-react\";\n\nexport interface SectionTheme {\n  colorClass: string;\n  bgClass: string;\n  borderClass: string;\n  icon: LucideIcon;\n  label: string;\n}\n\nexport const SECTION_THEMES: Record<string, SectionTheme> = {\n  orto: {\n    colorClass: \"text-green-700 dark:text-green-400\",\n    bgClass: \"bg-green-50 dark:bg-green-950/30\",\n    borderClass: \"border-green-200 dark:border-green-800\",\n    icon: Sprout,\n    label: \"Orto\",\n  },\n  giardino: {\n    colorClass: \"text-orange-700 dark:text-orange-400\",\n    bgClass: \"bg-orange-50 dark:bg-orange-950/30\",\n    borderClass: \"border-orange-200 dark:border-orange-800\",\n    icon: Flower2,\n    label: \"Giardino\",\n  },\n  piante: {\n    colorClass: \"text-emerald-700 dark:text-emerald-400\",\n    bgClass: \"bg-emerald-50 dark:bg-emerald-950/30\",\n    borderClass: \"border-emerald-200 dark:border-emerald-800\",\n    icon: Leaf,\n    label: \"Piante\",\n  },\n  ricetta: {\n    colorClass: \"text-red-700 dark:text-red-400\",\n    bgClass: \"bg-red-50 dark:bg-red-950/30\",\n    borderClass: \"border-red-200 dark:border-red-800\",\n    icon: ChefHat,\n    label: \"Ricetta del Giorno\",\n  },\n  accadeOggi: {\n    colorClass: \"text-amber-700 dark:text-amber-400\",\n    bgClass: \"bg-amber-50 dark:bg-amber-950/30\",\n    borderClass: \"border-amber-200 dark:border-amber-800\",\n    icon: Newspaper,\n    label: \"Accade Oggi\",\n  },\n  accaddeOggi: {\n    colorClass: \"text-stone-700 dark:text-stone-400\",\n    bgClass: \"bg-stone-50 dark:bg-stone-950/30\",\n    borderClass: \"border-stone-200 dark:border-stone-800\",\n    icon: Hourglass,\n    label: \"Accadde Oggi\",\n  },\n  astronomia: {\n    colorClass: \"text-purple-700 dark:text-purple-400\",\n    bgClass: \"bg-purple-50 dark:bg-purple-950/30\",\n    borderClass: \"border-purple-200 dark:border-purple-800\",\n    icon: MoonStar,\n    label: \"Astronomia\",\n  },\n  meteo: {\n    colorClass: \"text-sky-700 dark:text-sky-400\",\n    bgClass: \"bg-sky-50 dark:bg-sky-950/30\",\n    borderClass: \"border-sky-200 dark:border-sky-800\",\n    icon: CloudSun,\n    label: \"Meteo\",\n  },\n};\n\nexport const getCategoryTheme = (category: string): SectionTheme => {\n  return SECTION_THEMES[category] || SECTION_THEMES.orto;\n};\n","size_bytes":2268},"client/src/components/LiturgyCard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { Book, Cross } from \"lucide-react\";\n\ninterface Reading {\n  title: string;\n  reference: string;\n  excerpt: string;\n  fullText?: string;\n}\n\ninterface LiturgyData {\n  liturgicalDay: string;\n  liturgicalColor: 'red' | 'purple' | 'green' | 'white' | 'gold';\n  saint: {\n    name: string;\n    imageUrl?: string;\n  };\n  readings: Reading[];\n}\n\nconst colorMap = {\n  red: 'hsl(0 65% 48%)',\n  purple: 'hsl(270 35% 50%)',\n  green: 'hsl(120 35% 40%)',\n  white: 'hsl(0 0% 95%)',\n  gold: 'hsl(45 85% 50%)'\n};\n\nexport default function LiturgyCard({ data }: { data: LiturgyData }) {\n  return (\n    <Card className=\"relative overflow-hidden\" data-testid=\"card-liturgy\">\n      <div \n        className=\"absolute left-0 top-0 bottom-0 w-1\"\n        style={{ backgroundColor: colorMap[data.liturgicalColor] }}\n      />\n      <CardHeader className=\"pl-6\">\n        <div className=\"flex items-center justify-between flex-wrap gap-3\">\n          <CardTitle className=\"font-serif text-2xl md:text-3xl\" data-testid=\"text-liturgical-day\">\n            {data.liturgicalDay}\n          </CardTitle>\n          <Badge variant=\"outline\" className=\"font-sans\" data-testid=\"badge-liturgical-color\">\n            {data.liturgicalColor === 'red' && 'Rosso'}\n            {data.liturgicalColor === 'purple' && 'Viola'}\n            {data.liturgicalColor === 'green' && 'Verde'}\n            {data.liturgicalColor === 'white' && 'Bianco'}\n            {data.liturgicalColor === 'gold' && 'Oro'}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"pl-6 space-y-6\">\n        <div className=\"flex items-center gap-3\" data-testid=\"section-saint\">\n          <Avatar className=\"h-14 w-14\">\n            {data.saint.imageUrl ? (\n              <AvatarImage src={data.saint.imageUrl} alt={data.saint.name} />\n            ) : null}\n            <AvatarFallback className=\"bg-muted\">\n              <Cross className=\"h-6 w-6\" />\n            </AvatarFallback>\n          </Avatar>\n          <div>\n            <p className=\"text-sm text-muted-foreground\">Santo del giorno</p>\n            <p className=\"font-serif text-lg font-semibold\" data-testid=\"text-saint-name\">{data.saint.name}</p>\n          </div>\n        </div>\n\n        <Accordion type=\"single\" collapsible className=\"w-full\">\n          {data.readings.map((reading, index) => (\n            <AccordionItem key={index} value={`reading-${index}`} data-testid={`accordion-reading-${index}`}>\n              <AccordionTrigger className=\"hover:no-underline\">\n                <div className=\"flex items-center gap-2\">\n                  <Book className=\"h-4 w-4 text-primary\" />\n                  <span className=\"font-serif text-lg font-semibold\">{reading.title}</span>\n                </div>\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"space-y-3 pt-2\">\n                  <p className=\"text-sm italic text-muted-foreground\" data-testid={`text-reference-${index}`}>\n                    {reading.reference}\n                  </p>\n                  <p className=\"font-serif text-base leading-relaxed\" data-testid={`text-excerpt-${index}`}>\n                    {reading.excerpt}\n                  </p>\n                  {reading.fullText && (\n                    <p className=\"font-serif text-base leading-relaxed text-muted-foreground pt-3 border-t\">\n                      {reading.fullText}\n                    </p>\n                  )}\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n          ))}\n        </Accordion>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":3887},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/pages/calendario.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Liturgia } from \"@shared/schema\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  ChevronLeft, \n  ChevronRight, \n  Calendar as CalendarIcon,\n  BookOpen,\n  PenLine\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { hasDiaryEntry, getDiaryEntry } from \"@/lib/diary\";\nimport DiaryEditor from \"@/components/DiaryEditor\";\nimport { getLiturgicalColorToken } from \"@/lib/liturgical-colors\";\n\nfunction getMonday(date: Date): Date {\n  const d = new Date(date);\n  const day = d.getDay();\n  const diff = d.getDate() - day + (day === 0 ? -6 : 1);\n  return new Date(d.setDate(diff));\n}\n\nfunction formatDate(date: Date): string {\n  return date.toISOString().split('T')[0];\n}\n\nfunction addDays(date: Date, days: number): Date {\n  const result = new Date(date);\n  result.setDate(result.getDate() + days);\n  return result;\n}\n\nfunction formatDateItalian(dateStr: string): string {\n  const date = new Date(dateStr);\n  return date.toLocaleDateString('it-IT', { \n    weekday: 'short',\n    day: 'numeric',\n    month: 'short'\n  });\n}\n\nexport default function Calendario() {\n  const [weekStart, setWeekStart] = useState(() => getMonday(new Date()));\n  const [diaryVersion, setDiaryVersion] = useState(0);\n\n  const handleDiaryChange = () => {\n    setDiaryVersion(prev => prev + 1);\n  };\n  \n  const queryStart = weekStart;\n  const queryEnd = addDays(weekStart, 13);\n\n  const { data: liturgies, isLoading, error } = useQuery<Liturgia[]>({\n    queryKey: ['/api/liturgy/range', formatDate(queryStart), formatDate(queryEnd)],\n    queryFn: async () => {\n      const res = await fetch(\n        `/api/liturgy/range?start=${formatDate(queryStart)}&end=${formatDate(queryEnd)}`\n      );\n      if (!res.ok) throw new Error(`Errore ${res.status}: ${await res.text()}`);\n      return res.json();\n    },\n  });\n\n  const goToPreviousWeek = () => {\n    setWeekStart(prev => addDays(prev, -7));\n  };\n\n  const goToNextWeek = () => {\n    setWeekStart(prev => addDays(prev, 7));\n  };\n\n  const goToToday = () => {\n    setWeekStart(getMonday(new Date()));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center space-y-3\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"text-muted-foreground\">Caricamento calendario liturgico...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\n        <Card className=\"max-w-md\">\n          <CardContent className=\"pt-6 text-center space-y-4\">\n            <div className=\"text-destructive\">\n              <svg className=\"h-12 w-12 mx-auto\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <div>\n              <h3 className=\"font-serif font-semibold text-lg mb-2\">\n                Errore nel caricamento\n              </h3>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                Impossibile caricare il calendario liturgico. Riprova più tardi.\n              </p>\n            </div>\n            <Button onClick={() => window.location.reload()} variant=\"outline\">\n              Ricarica pagina\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const today = formatDate(new Date());\n\n  // Group liturgies by week based on actual dates, not array indices\n  // Normalize all boundaries to start-of-day to avoid filtering out days\n  const week1Start = new Date(weekStart);\n  week1Start.setHours(0, 0, 0, 0);\n  \n  const week1End = new Date(weekStart);\n  week1End.setDate(week1End.getDate() + 6);\n  week1End.setHours(23, 59, 59, 999);\n  \n  const week2Start = new Date(weekStart);\n  week2Start.setDate(week2Start.getDate() + 7);\n  week2Start.setHours(0, 0, 0, 0);\n  \n  const week2End = new Date(weekStart);\n  week2End.setDate(week2End.getDate() + 13);\n  week2End.setHours(23, 59, 59, 999);\n\n  const week1Liturgies = liturgies?.filter(liturgy => {\n    const date = new Date(liturgy.date + 'T00:00:00');\n    return date >= week1Start && date <= week1End;\n  }) || [];\n\n  const week2Liturgies = liturgies?.filter(liturgy => {\n    const date = new Date(liturgy.date + 'T00:00:00');\n    return date >= week2Start && date <= week2End;\n  }) || [];\n\n  // Determine week titles dynamically based on position relative to today\n  const todayDate = new Date();\n  todayDate.setHours(0, 0, 0, 0);\n  const isWeek1Current = todayDate >= week1Start && todayDate <= week1End;\n  const isWeek2Current = todayDate >= week2Start && todayDate <= week2End;\n  \n  let week1Title: string;\n  let week2Title: string;\n  \n  if (isWeek1Current) {\n    // Today is in week 1\n    week1Title = \"Settimana Corrente\";\n    week2Title = \"Settimana Successiva\";\n  } else if (isWeek2Current) {\n    // Today is in week 2\n    week1Title = \"Settimana Precedente\";\n    week2Title = \"Settimana Corrente\";\n  } else if (todayDate < week1Start) {\n    // Both weeks are in the future\n    week1Title = \"Prima Settimana\";\n    week2Title = \"Seconda Settimana\";\n  } else {\n    // Both weeks are in the past\n    week1Title = \"Prima Settimana\";\n    week2Title = \"Seconda Settimana\";\n  }\n\n  return (\n    <div className=\"container max-w-6xl mx-auto px-4 py-6 space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"font-display text-3xl md:text-4xl font-bold mb-2 uppercase tracking-wide\" data-testid=\"text-page-title\">\n          Calendario Liturgico\n        </h1>\n        <p className=\"text-muted-foreground font-serif\">\n          Settimana corrente e successiva • Diario spirituale\n        </p>\n      </div>\n\n      {/* Navigation */}\n      <Card>\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-center justify-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={goToPreviousWeek}\n              data-testid=\"button-prev-week\"\n              className=\"gap-1 flex-1 sm:flex-none\"\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Settimana precedente</span>\n            </Button>\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              onClick={goToToday}\n              data-testid=\"button-today\"\n              className=\"gap-1\"\n            >\n              <CalendarIcon className=\"h-4 w-4\" />\n              <span>Oggi</span>\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={goToNextWeek}\n              data-testid=\"button-next-week\"\n              className=\"gap-1 flex-1 sm:flex-none\"\n            >\n              <span className=\"hidden sm:inline\">Settimana successiva</span>\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Week 1 */}\n      <div>\n        <h2 className=\"font-serif text-xl font-semibold mb-3 flex items-center gap-2\">\n          <BookOpen className=\"h-5 w-5\" />\n          {week1Title}\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-3\">\n          {week1Liturgies.map((liturgy, index) => {\n            const isToday = liturgy.date === today;\n            // Force re-render when diary changes (diaryVersion read via comma operator)\n            const hasNotes = (void diaryVersion, hasDiaryEntry(liturgy.date));\n            const diaryEntry = hasNotes ? getDiaryEntry(liturgy.date) : null;\n            const notePreview = diaryEntry?.content?.trim().slice(0, 80);\n            \n            return (\n              <Card \n                key={liturgy.date}\n                className={`hover-elevate transition-all ${isToday ? 'ring-2 ring-primary' : ''}`}\n                data-testid={`card-day-${liturgy.date}`}\n              >\n                <div \n                  className=\"absolute left-0 top-3 bottom-3 w-1 rounded-r-full\" \n                  style={{ backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgy.color_key)}))` }}\n                />\n                <CardContent className=\"p-3 pl-4 space-y-2\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                        {formatDateItalian(liturgy.date)}\n                      </div>\n                      {isToday && (\n                        <Badge variant=\"default\" className=\"text-xs mt-1\">Oggi</Badge>\n                      )}\n                    </div>\n                    {hasNotes && (\n                      <PenLine className=\"h-3 w-3 text-primary flex-shrink-0\" data-testid={`icon-has-notes-${liturgy.date}`} />\n                    )}\n                  </div>\n                  \n                  <h3 className=\"font-serif font-semibold text-sm line-clamp-2 leading-tight\" data-testid={`text-feast-${liturgy.date}`}>\n                    {liturgy.festa}\n                  </h3>\n                  \n                  <div className=\"flex flex-col gap-1.5\">\n                    <div className=\"text-xs\">\n                      <span className=\"text-muted-foreground font-medium\">Tempo Liturgico: </span>\n                      <span className=\"font-semibold uppercase\">{liturgy.season}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1.5\">\n                      <span className=\"text-muted-foreground text-xs font-medium\">Colore Liturgico: </span>\n                      <div \n                        className=\"text-xs font-semibold px-2 py-0.5 rounded text-white shadow-sm uppercase\"\n                        style={{ backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgy.color_key)}))` }}\n                      >\n                        {liturgy.color_label}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {notePreview && (\n                    <div className=\"mt-1 text-xs text-muted-foreground italic line-clamp-2 px-2 py-1.5 bg-muted/30 rounded-md border border-border/50\" data-testid={`note-preview-${liturgy.date}`}>\n                      {notePreview}{notePreview.length >= 80 ? '...' : ''}\n                    </div>\n                  )}\n                  \n                  <DiaryEditor \n                    date={liturgy.date} \n                    festa={liturgy.festa} \n                    diaryVersion={diaryVersion}\n                    onDiaryChange={handleDiaryChange}\n                  />\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Week 2 */}\n      <div>\n        <h2 className=\"font-serif text-xl font-semibold mb-3 flex items-center gap-2\">\n          <BookOpen className=\"h-5 w-5\" />\n          {week2Title}\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-3\">\n          {week2Liturgies.map((liturgy) => {\n            // Force re-render when diary changes (diaryVersion read via comma operator)\n            const hasNotes = (void diaryVersion, hasDiaryEntry(liturgy.date));\n            const diaryEntry = hasNotes ? getDiaryEntry(liturgy.date) : null;\n            const notePreview = diaryEntry?.content?.trim().slice(0, 80);\n            \n            return (\n              <Card \n                key={liturgy.date}\n                className=\"hover-elevate transition-all\"\n                data-testid={`card-day-${liturgy.date}`}\n              >\n                <div \n                  className=\"absolute left-0 top-3 bottom-3 w-1 rounded-r-full\" \n                  style={{ backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgy.color_key)}))` }}\n                />\n                <CardContent className=\"p-3 pl-4 space-y-2\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                      {formatDateItalian(liturgy.date)}\n                    </div>\n                    {hasNotes && (\n                      <PenLine className=\"h-3 w-3 text-primary flex-shrink-0\" data-testid={`icon-has-notes-${liturgy.date}`} />\n                    )}\n                  </div>\n                  \n                  <h3 className=\"font-serif font-semibold text-sm line-clamp-2 leading-tight\" data-testid={`text-feast-${liturgy.date}`}>\n                    {liturgy.festa}\n                  </h3>\n                  \n                  <div className=\"flex flex-col gap-1.5\">\n                    <div className=\"text-xs\">\n                      <span className=\"text-muted-foreground font-medium\">Tempo Liturgico: </span>\n                      <span className=\"font-semibold uppercase\">{liturgy.season}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1.5\">\n                      <span className=\"text-muted-foreground text-xs font-medium\">Colore Liturgico: </span>\n                      <div \n                        className=\"text-xs font-semibold px-2 py-0.5 rounded text-white shadow-sm uppercase\"\n                        style={{ backgroundColor: `hsl(var(${getLiturgicalColorToken(liturgy.color_key)}))` }}\n                      >\n                        {liturgy.color_label}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {notePreview && (\n                    <div className=\"mt-1 text-xs text-muted-foreground italic line-clamp-2 px-2 py-1.5 bg-muted/30 rounded-md border border-border/50\" data-testid={`note-preview-${liturgy.date}`}>\n                      {notePreview}{notePreview.length >= 80 ? '...' : ''}\n                    </div>\n                  )}\n                  \n                  <DiaryEditor \n                    date={liturgy.date} \n                    festa={liturgy.festa} \n                    diaryVersion={diaryVersion}\n                    onDiaryChange={handleDiaryChange}\n                  />\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":14642},"client/src/components/examples/ThemeToggle.tsx":{"content":"import ThemeToggle from '../ThemeToggle';\n\nexport default function ThemeToggleExample() {\n  return (\n    <div className=\"flex items-center gap-4 p-4\">\n      <span className=\"text-sm text-muted-foreground\">Cambia tema:</span>\n      <ThemeToggle />\n    </div>\n  );\n}\n","size_bytes":265},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/pages/almanacco.tsx":{"content":"import { useState, useMemo } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Recipe, Advice } from \"@shared/schema\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Search,\n  Clock,\n  Users,\n  ChefHat,\n  Home,\n  Sprout,\n  Flower2,\n  Leaf,\n  Calendar,\n  Sparkles,\n  X,\n  BookOpen,\n} from \"lucide-react\";\n\ntype TabType = \"tutte\" | \"ricette\" | \"casa\" | \"orto\" | \"giardino\";\n\ntype CategoryLabel = {\n  [key: string]: string;\n};\n\nconst recipeCategoryLabels: CategoryLabel = {\n  natale: \"Natale\",\n  pasqua: \"Pasqua\",\n  quaresima: \"Quaresima\",\n  avvento: \"Avvento\",\n  pentecoste: \"Pentecoste\",\n  festa_patronale: \"Feste Patronali\",\n  ordinario: \"Tempo Ordinario\",\n  epifania: \"Epifania\",\n  candelora: \"Candelora\",\n  san_giuseppe: \"San Giuseppe\",\n  assunzione: \"Assunzione\",\n  tutti_santi: \"Tutti i Santi\",\n  immacolata: \"Immacolata\",\n};\n\nconst adviceCategoryLabels: CategoryLabel = {\n  casa: \"Casa\",\n  orto: \"Orto\",\n  giardino: \"Giardino\",\n  piante: \"Piante\",\n  stagionale: \"Stagionale\",\n};\n\nconst seasonLabels: CategoryLabel = {\n  primavera: \"Primavera\",\n  estate: \"Estate\",\n  autunno: \"Autunno\",\n  inverno: \"Inverno\",\n  tutte: \"Tutte le stagioni\",\n};\n\nconst difficultyLabels: CategoryLabel = {\n  facile: \"Facile\",\n  media: \"Media\",\n  difficile: \"Difficile\",\n};\n\nconst getCurrentSeason = (): string => {\n  const month = new Date().getMonth() + 1;\n  if (month >= 3 && month <= 5) return \"primavera\";\n  if (month >= 6 && month <= 8) return \"estate\";\n  if (month >= 9 && month <= 11) return \"autunno\";\n  return \"inverno\";\n};\n\nexport default function Almanacco() {\n  const [activeTab, setActiveTab] = useState<TabType>(\"tutte\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedSeason, setSelectedSeason] = useState<string>(getCurrentSeason());\n  const [selectedDifficulty, setSelectedDifficulty] = useState<string>(\"tutte\");\n  const [selectedRecipe, setSelectedRecipe] = useState<Recipe | null>(null);\n  const [selectedAdvice, setSelectedAdvice] = useState<Advice | null>(null);\n\n  const { data: recipes = [] } = useQuery<Recipe[]>({\n    queryKey: [\"/api/recipes\"],\n  });\n\n  const { data: advices = [] } = useQuery<Advice[]>({\n    queryKey: [\"/api/advice\"],\n  });\n\n  const filteredData = useMemo(() => {\n    let filteredRecipes = recipes;\n    let filteredAdvices = advices;\n\n    // Filter by search\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filteredRecipes = filteredRecipes.filter(\n        (r) =>\n          r.name.toLowerCase().includes(query) ||\n          r.description.toLowerCase().includes(query) ||\n          r.tags?.some((t) => t.toLowerCase().includes(query))\n      );\n      filteredAdvices = filteredAdvices.filter(\n        (a) =>\n          a.title.toLowerCase().includes(query) ||\n          a.content.toLowerCase().includes(query) ||\n          a.tags?.some((t) => t.toLowerCase().includes(query))\n      );\n    }\n\n    // Filter by season\n    if (selectedSeason && selectedSeason !== \"tutte\") {\n      filteredRecipes = filteredRecipes.filter(\n        (r) => r.season === selectedSeason || r.season === \"tutte\"\n      );\n      filteredAdvices = filteredAdvices.filter(\n        (a) => a.season === selectedSeason || a.season === \"tutte\"\n      );\n    }\n\n    // Filter by difficulty\n    if (selectedDifficulty && selectedDifficulty !== \"tutte\") {\n      filteredRecipes = filteredRecipes.filter(\n        (r) => r.difficulty === selectedDifficulty\n      );\n      filteredAdvices = filteredAdvices.filter(\n        (a) => a.difficulty === selectedDifficulty\n      );\n    }\n\n    // Filter by tab\n    if (activeTab === \"ricette\") {\n      filteredAdvices = [];\n    } else if (activeTab === \"casa\") {\n      filteredRecipes = [];\n      filteredAdvices = filteredAdvices.filter((a) => a.category === \"casa\");\n    } else if (activeTab === \"orto\") {\n      filteredRecipes = [];\n      filteredAdvices = filteredAdvices.filter((a) => a.category === \"orto\");\n    } else if (activeTab === \"giardino\") {\n      filteredRecipes = [];\n      filteredAdvices = filteredAdvices.filter(\n        (a) => a.category === \"giardino\" || a.category === \"piante\"\n      );\n    }\n\n    return { recipes: filteredRecipes, advices: filteredAdvices };\n  }, [recipes, advices, searchQuery, selectedSeason, selectedDifficulty, activeTab]);\n\n  const totalResults = filteredData.recipes.length + filteredData.advices.length;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header Compatto */}\n      <div className=\"bg-background border-b\">\n        <div className=\"container max-w-6xl mx-auto px-4 py-3\">\n          {/* Titolo e Badge */}\n          <div className=\"flex items-center justify-between gap-3 mb-3\">\n            <h1 className=\"font-display text-2xl md:text-3xl font-bold uppercase tracking-wide\" data-testid=\"text-page-title\">\n              Almanacco Pratico\n            </h1>\n            <Badge variant=\"outline\" className=\"gap-1 px-2 py-1 shrink-0\">\n              <Sparkles className=\"h-3 w-3\" />\n              <span className=\"hidden sm:inline text-xs\">Tradizione</span>\n            </Badge>\n          </div>\n\n          {/* Search e Filtri */}\n          <div className=\"flex flex-col sm:flex-row gap-2 mb-3\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Cerca...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10 pr-10\"\n                data-testid=\"input-search\"\n              />\n              {searchQuery && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7\"\n                  onClick={() => setSearchQuery(\"\")}\n                  data-testid=\"button-clear-search\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              )}\n            </div>\n\n            <Select value={selectedSeason} onValueChange={setSelectedSeason}>\n              <SelectTrigger className=\"w-full sm:w-[140px]\" data-testid=\"select-season\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"tutte\">Tutte</SelectItem>\n                <SelectItem value=\"primavera\">Primavera</SelectItem>\n                <SelectItem value=\"estate\">Estate</SelectItem>\n                <SelectItem value=\"autunno\">Autunno</SelectItem>\n                <SelectItem value=\"inverno\">Inverno</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={selectedDifficulty} onValueChange={setSelectedDifficulty}>\n              <SelectTrigger className=\"w-full sm:w-[140px]\" data-testid=\"select-difficulty\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"tutte\">Tutte</SelectItem>\n                <SelectItem value=\"facile\">Facile</SelectItem>\n                <SelectItem value=\"media\">Media</SelectItem>\n                <SelectItem value=\"difficile\">Difficile</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Tab Navigation */}\n          <div className=\"flex gap-2 overflow-x-auto pb-1\">\n            <Button\n              variant={activeTab === \"tutte\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setActiveTab(\"tutte\")}\n              className=\"gap-1 whitespace-nowrap\"\n              data-testid=\"tab-tutte\"\n            >\n              <BookOpen className=\"h-4 w-4\" />\n              Tutto\n            </Button>\n            <Button\n              variant={activeTab === \"ricette\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setActiveTab(\"ricette\")}\n              className=\"gap-1 whitespace-nowrap\"\n              data-testid=\"tab-ricette\"\n            >\n              <ChefHat className=\"h-4 w-4\" />\n              Ricette\n            </Button>\n            <Button\n              variant={activeTab === \"casa\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setActiveTab(\"casa\")}\n              className=\"gap-1 whitespace-nowrap\"\n              data-testid=\"tab-casa\"\n            >\n              <Home className=\"h-4 w-4\" />\n              Casa\n            </Button>\n            <Button\n              variant={activeTab === \"orto\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setActiveTab(\"orto\")}\n              className=\"gap-1 whitespace-nowrap\"\n              data-testid=\"tab-orto\"\n            >\n              <Sprout className=\"h-4 w-4\" />\n              Orto\n            </Button>\n            <Button\n              variant={activeTab === \"giardino\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setActiveTab(\"giardino\")}\n              className=\"gap-1 whitespace-nowrap\"\n              data-testid=\"tab-giardino\"\n            >\n              <Flower2 className=\"h-4 w-4\" />\n              Giardino\n            </Button>\n            <div className=\"flex-1 flex items-center justify-end shrink-0\">\n              <p className=\"text-xs text-muted-foreground whitespace-nowrap\" data-testid=\"text-results-count\">\n                {totalResults} {totalResults === 1 ? \"risultato\" : \"risultati\"}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content Grid */}\n      <div className=\"container max-w-6xl mx-auto px-4 py-6\">\n        {totalResults === 0 ? (\n          <Card className=\"p-12 text-center\">\n            <div className=\"text-muted-foreground space-y-2\">\n              <Search className=\"h-12 w-12 mx-auto opacity-50\" />\n              <p className=\"font-medium\">Nessun risultato trovato</p>\n              <p className=\"text-sm\">Prova a modificare i filtri o la ricerca</p>\n            </div>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {/* Recipe Cards */}\n            {filteredData.recipes.map((recipe) => (\n              <Card\n                key={recipe.id}\n                className=\"overflow-hidden hover-elevate active-elevate-2 cursor-pointer group\"\n                onClick={() => setSelectedRecipe(recipe)}\n                data-testid={`card-recipe-${recipe.id}`}\n              >\n                <div className=\"aspect-video bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center relative overflow-hidden\">\n                  <ChefHat className=\"h-16 w-16 text-primary/20 group-hover:scale-110 transition-transform\" />\n                  <Badge className=\"absolute top-2 right-2 gap-1\">\n                    <Calendar className=\"h-3 w-3\" />\n                    {recipeCategoryLabels[recipe.category]}\n                  </Badge>\n                </div>\n                <CardContent className=\"p-4 space-y-3\">\n                  <div>\n                    <h3 className=\"font-serif font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors\">\n                      {recipe.name}\n                    </h3>\n                    <p className=\"text-sm text-muted-foreground line-clamp-2 mt-1\">\n                      {recipe.description}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                    <div className=\"flex items-center gap-1\">\n                      <Clock className=\"h-3 w-3\" />\n                      {recipe.prepTime + recipe.cookTime}min\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <Users className=\"h-3 w-3\" />\n                      {recipe.servings}\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {seasonLabels[recipe.season]}\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {difficultyLabels[recipe.difficulty]}\n                    </Badge>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n\n            {/* Advice Cards */}\n            {filteredData.advices.map((advice) => {\n              const CategoryIcon =\n                advice.category === \"casa\"\n                  ? Home\n                  : advice.category === \"orto\"\n                  ? Sprout\n                  : advice.category === \"giardino\"\n                  ? Flower2\n                  : Leaf;\n\n              return (\n                <Card\n                  key={advice.id}\n                  className=\"overflow-hidden hover-elevate active-elevate-2 cursor-pointer group\"\n                  onClick={() => setSelectedAdvice(advice)}\n                  data-testid={`card-advice-${advice.id}`}\n                >\n                  <div className=\"aspect-video bg-gradient-to-br from-accent/10 to-accent/5 flex items-center justify-center relative overflow-hidden\">\n                    <CategoryIcon className=\"h-16 w-16 text-accent/30 group-hover:scale-110 transition-transform\" />\n                    <Badge className=\"absolute top-2 right-2 gap-1\">\n                      {adviceCategoryLabels[advice.category]}\n                    </Badge>\n                  </div>\n                  <CardContent className=\"p-4 space-y-3\">\n                    <div>\n                      <h3 className=\"font-serif font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors\">\n                        {advice.title}\n                      </h3>\n                      <p className=\"text-sm text-muted-foreground line-clamp-3 mt-1\">\n                        {advice.content}\n                      </p>\n                    </div>\n                    <div className=\"flex gap-2 flex-wrap\">\n                      <Badge variant=\"secondary\" className=\"text-xs\">\n                        {seasonLabels[advice.season]}\n                      </Badge>\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        {difficultyLabels[advice.difficulty]}\n                      </Badge>\n                      {advice.lunarPhase && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          Luna {advice.lunarPhase}\n                        </Badge>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Recipe Detail Dialog */}\n      {selectedRecipe && (\n        <Dialog open={!!selectedRecipe} onOpenChange={() => setSelectedRecipe(null)}>\n          <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <div className=\"space-y-2\">\n                <DialogTitle className=\"font-serif text-3xl\">{selectedRecipe.name}</DialogTitle>\n                <DialogDescription className=\"text-base\">\n                  {selectedRecipe.description}\n                </DialogDescription>\n                <div className=\"flex gap-2 flex-wrap pt-2\">\n                  <Badge className=\"gap-1\">\n                    <Calendar className=\"h-3 w-3\" />\n                    {recipeCategoryLabels[selectedRecipe.category]}\n                  </Badge>\n                  <Badge variant=\"secondary\">{seasonLabels[selectedRecipe.season]}</Badge>\n                  <Badge variant=\"outline\">{difficultyLabels[selectedRecipe.difficulty]}</Badge>\n                  {selectedRecipe.region && <Badge variant=\"outline\">{selectedRecipe.region}</Badge>}\n                </div>\n              </div>\n            </DialogHeader>\n\n            <div className=\"space-y-6 pt-4\">\n              {/* Info */}\n              <div className=\"grid grid-cols-3 gap-4 text-center\">\n                <div className=\"space-y-1\">\n                  <Clock className=\"h-5 w-5 mx-auto text-muted-foreground\" />\n                  <p className=\"text-sm font-medium\">Preparazione</p>\n                  <p className=\"text-xs text-muted-foreground\">{selectedRecipe.prepTime} min</p>\n                </div>\n                <div className=\"space-y-1\">\n                  <Clock className=\"h-5 w-5 mx-auto text-muted-foreground\" />\n                  <p className=\"text-sm font-medium\">Cottura</p>\n                  <p className=\"text-xs text-muted-foreground\">{selectedRecipe.cookTime} min</p>\n                </div>\n                <div className=\"space-y-1\">\n                  <Users className=\"h-5 w-5 mx-auto text-muted-foreground\" />\n                  <p className=\"text-sm font-medium\">Porzioni</p>\n                  <p className=\"text-xs text-muted-foreground\">{selectedRecipe.servings}</p>\n                </div>\n              </div>\n\n              {/* Ingredients */}\n              <div>\n                <h3 className=\"font-serif font-semibold text-xl mb-3\">Ingredienti</h3>\n                <ul className=\"space-y-2\">\n                  {selectedRecipe.ingredients.map((ing, i) => (\n                    <li key={i} className=\"flex items-start gap-3 text-sm\">\n                      <span className=\"text-primary mt-1\">•</span>\n                      <span>\n                        <span className=\"font-medium\">{ing.quantity}</span> {ing.name}\n                      </span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n\n              {/* Steps */}\n              <div>\n                <h3 className=\"font-serif font-semibold text-xl mb-3\">Procedimento</h3>\n                <ol className=\"space-y-4\">\n                  {selectedRecipe.steps.map((step) => (\n                    <li key={step.step} className=\"flex gap-4\">\n                      <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-semibold\">\n                        {step.step}\n                      </div>\n                      <p className=\"text-sm flex-1 pt-1\">{step.instruction}</p>\n                    </li>\n                  ))}\n                </ol>\n              </div>\n\n              {/* Traditional Note */}\n              {selectedRecipe.traditionalNote && (\n                <Card className=\"bg-accent/5 border-accent/20\">\n                  <CardContent className=\"p-4\">\n                    <p className=\"text-xs font-semibold uppercase tracking-wide text-accent mb-2\">\n                      Nota Tradizionale\n                    </p>\n                    <p className=\"text-sm\">{selectedRecipe.traditionalNote}</p>\n                  </CardContent>\n                </Card>\n              )}\n\n              {/* Liturgical Note */}\n              {selectedRecipe.liturgicalNote && (\n                <Card className=\"bg-primary/5 border-primary/20\">\n                  <CardContent className=\"p-4\">\n                    <p className=\"text-xs font-semibold uppercase tracking-wide text-primary mb-2\">\n                      Significato Liturgico\n                    </p>\n                    <p className=\"text-sm\">{selectedRecipe.liturgicalNote}</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {/* Advice Detail Dialog */}\n      {selectedAdvice && (\n        <Dialog open={!!selectedAdvice} onOpenChange={() => setSelectedAdvice(null)}>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <div className=\"space-y-2\">\n                <DialogTitle className=\"font-serif text-3xl\">{selectedAdvice.title}</DialogTitle>\n                <div className=\"flex gap-2 flex-wrap pt-2\">\n                  <Badge>{adviceCategoryLabels[selectedAdvice.category]}</Badge>\n                  <Badge variant=\"secondary\">{seasonLabels[selectedAdvice.season]}</Badge>\n                  <Badge variant=\"outline\">{difficultyLabels[selectedAdvice.difficulty]}</Badge>\n                  {selectedAdvice.lunarPhase && (\n                    <Badge variant=\"outline\">Luna {selectedAdvice.lunarPhase}</Badge>\n                  )}\n                  {selectedAdvice.month && (\n                    <Badge variant=\"outline\">\n                      {new Date(2000, selectedAdvice.month - 1).toLocaleDateString(\"it-IT\", {\n                        month: \"long\",\n                      })}\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            </DialogHeader>\n\n            <div className=\"space-y-4 pt-4\">\n              <div className=\"prose prose-sm max-w-none\">\n                <p className=\"text-base leading-relaxed whitespace-pre-wrap\">{selectedAdvice.content}</p>\n              </div>\n\n              {selectedAdvice.tags && selectedAdvice.tags.length > 0 && (\n                <div className=\"flex gap-2 flex-wrap pt-4 border-t\">\n                  {selectedAdvice.tags.map((tag) => (\n                    <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\n                      {tag}\n                    </Badge>\n                  ))}\n                </div>\n              )}\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  );\n}\n","size_bytes":21738},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/NewsCard.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Clock, CheckCircle2, AlertTriangle, Shield, ChevronDown, ExternalLink } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\n\ninterface NewsSource {\n  name: string;\n  url?: string;\n  verifiedBy?: string;\n}\n\ninterface NewsCardProps {\n  title: string;\n  excerpt: string;\n  source: string;\n  timestamp: string;\n  verified?: boolean;\n  reliabilityScore?: number;\n  sources?: NewsSource[];\n  factCheckSummary?: string;\n  onClick?: () => void;\n}\n\nexport default function NewsCard({ \n  title, \n  excerpt, \n  source, \n  timestamp, \n  verified = false,\n  reliabilityScore,\n  sources = [],\n  factCheckSummary,\n  onClick \n}: NewsCardProps) {\n  const [isSourcesOpen, setIsSourcesOpen] = useState(false);\n\n  const getReliabilityColor = (score?: number) => {\n    if (!score) return \"text-muted-foreground\";\n    if (score >= 80) return \"text-green-600 dark:text-green-500\";\n    if (score >= 60) return \"text-yellow-600 dark:text-yellow-500\";\n    return \"text-red-600 dark:text-red-500\";\n  };\n\n  const getReliabilityText = (score?: number) => {\n    if (!score) return \"Non verificato\";\n    if (score >= 80) return \"Alta affidabilità\";\n    if (score >= 60) return \"Media affidabilità\";\n    return \"Bassa affidabilità\";\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if ((e.key === 'Enter' || e.key === ' ') && onClick) {\n      e.preventDefault();\n      onClick();\n    }\n  };\n\n  const getAccentColor = () => {\n    if (!verified) return 'rgb(239 68 68)';\n    return (reliabilityScore ?? 0) >= 80 ? 'rgb(34 197 94)' : 'rgb(234 179 8)';\n  };\n\n  return (\n    <Card \n      className=\"hover-elevate active-elevate-2 transition-all duration-300 cursor-pointer group relative overflow-visible\" \n      data-testid=\"card-news\"\n      onClick={onClick}\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n    >\n      {/* Accent stripe */}\n      <div \n        className=\"absolute left-0 top-3 bottom-3 w-1 rounded-r-full\" \n        style={{ backgroundColor: getAccentColor() }}\n      />\n      <CardContent className=\"p-0\">\n        <div className=\"p-5 pl-6\">\n          <div className=\"mb-4\">\n            <div className=\"w-full\">\n              <div className=\"flex items-start gap-3 mb-2\">\n                <h3 \n                  className=\"font-serif font-bold text-lg md:text-xl leading-tight line-clamp-2 flex-1\" \n                  data-testid=\"text-news-title\"\n                >\n                  {title}\n                </h3>\n                {verified && (\n                  <Badge \n                    variant=\"outline\" \n                    className=\"flex-shrink-0 gap-1 bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 font-semibold\"\n                    data-testid=\"badge-verified\"\n                  >\n                    <CheckCircle2 className=\"h-3.5 w-3.5\" />\n                    Verificato\n                  </Badge>\n                )}\n              </div>\n              <p \n                className=\"text-sm text-muted-foreground line-clamp-2 mb-3\" \n                data-testid=\"text-news-excerpt\"\n              >\n                {excerpt}\n              </p>\n              <div className=\"flex items-center gap-2 text-xs text-muted-foreground flex-wrap\">\n                <span data-testid=\"text-news-source\">{source}</span>\n                <span>•</span>\n                <div className=\"flex items-center gap-1\">\n                  <Clock className=\"h-3 w-3\" />\n                  <span data-testid=\"text-news-timestamp\">{timestamp}</span>\n                </div>\n                {sources.length > 0 && (\n                  <>\n                    <span>•</span>\n                    <div className=\"flex items-center gap-1\">\n                      <Shield className=\"h-3 w-3\" />\n                      <span data-testid=\"text-news-sources-count\">{sources.length} {sources.length === 1 ? 'fonte' : 'fonti'}</span>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {reliabilityScore !== undefined && (\n            <div className=\"flex items-center gap-2 mb-3 px-3 py-2 bg-muted/50 rounded-md\">\n              <Shield className={`h-4 w-4 ${getReliabilityColor(reliabilityScore)}`} />\n              <span className=\"text-sm font-medium\" data-testid=\"text-reliability-label\">\n                {getReliabilityText(reliabilityScore)}\n              </span>\n              <span className={`text-sm font-semibold ml-auto ${getReliabilityColor(reliabilityScore)}`} data-testid=\"text-reliability-score\">\n                {reliabilityScore}%\n              </span>\n            </div>\n          )}\n\n          {factCheckSummary && (\n            <div className=\"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-md\">\n              <div className=\"flex items-start gap-2\">\n                <AlertTriangle className=\"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5\" />\n                <p className=\"text-sm text-blue-900 dark:text-blue-100\" data-testid=\"text-fact-check-summary\">\n                  {factCheckSummary}\n                </p>\n              </div>\n            </div>\n          )}\n\n          {sources.length > 0 && (\n            <Collapsible open={isSourcesOpen} onOpenChange={setIsSourcesOpen}>\n              <CollapsibleTrigger asChild>\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  className=\"w-full justify-between\"\n                  data-testid=\"button-toggle-sources\"\n                >\n                  <span className=\"text-sm font-medium\">Fonti verificate ({sources.length})</span>\n                  <ChevronDown className={`h-4 w-4 transition-transform ${isSourcesOpen ? 'rotate-180' : ''}`} />\n                </Button>\n              </CollapsibleTrigger>\n              <CollapsibleContent className=\"space-y-2 pt-2\">\n                {sources.map((src, idx) => (\n                  <div \n                    key={idx} \n                    className=\"flex items-start gap-2 p-2 rounded-md bg-muted/30 text-sm\"\n                    data-testid={`source-item-${idx}`}\n                  >\n                    <CheckCircle2 className=\"h-4 w-4 text-green-600 dark:text-green-500 flex-shrink-0 mt-0.5\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"font-medium\" data-testid={`source-name-${idx}`}>{src.name}</div>\n                      {src.verifiedBy && (\n                        <div className=\"text-xs text-muted-foreground\" data-testid={`source-verified-by-${idx}`}>\n                          Verificato da: {src.verifiedBy}\n                        </div>\n                      )}\n                    </div>\n                    {src.url && (\n                      <a \n                        href={src.url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"hover-elevate p-1 rounded\"\n                        data-testid={`link-source-${idx}`}\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <ExternalLink className=\"h-4 w-4\" />\n                      </a>\n                    )}\n                  </div>\n                ))}\n              </CollapsibleContent>\n            </Collapsible>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":7676},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/examples/AdviceCard.tsx":{"content":"import AdviceCard from '../AdviceCard';\nimport { Home, Flower2, CookingPot, Sprout } from 'lucide-react';\n\nexport default function AdviceCardExample() {\n  return (\n    <div className=\"grid gap-4 md:grid-cols-2 max-w-4xl\">\n      <AdviceCard\n        title=\"Pulire i vetri senza aloni\"\n        content=\"Usa una soluzione di acqua e aceto in parti uguali. Asciuga con carta di giornale per un risultato perfetto e senza striature.\"\n        category=\"casa\"\n        season=\"Inverno\"\n        icon={Home}\n        featured\n      />\n      <AdviceCard\n        title=\"Proteggere le rose dal freddo\"\n        content=\"Copri la base delle rose con pacciamatura di corteccia o foglie secche per proteggerle dal gelo invernale.\"\n        category=\"giardino\"\n        season=\"Inverno\"\n        icon={Flower2}\n      />\n      <AdviceCard\n        title=\"Minestrone di stagione\"\n        content=\"Prepara un minestrone con cavolo, patate e fagioli. Perfetto per le giornate fredde, ricco di nutrienti e sapore.\"\n        category=\"cucina\"\n        season=\"Inverno\"\n        icon={CookingPot}\n      />\n      <AdviceCard\n        title=\"Seminare le fave\"\n        content=\"Novembre è il momento ideale per seminare le fave nell'orto. Resisteranno al freddo e saranno pronte in primavera.\"\n        category=\"orto\"\n        season=\"Autunno\"\n        icon={Sprout}\n      />\n    </div>\n  );\n}\n","size_bytes":1355},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/AIChatDialog.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Sparkles, Send, Loader2 } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface Message {\n  role: \"user\" | \"assistant\";\n  content: string;\n}\n\ninterface AIChatDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  title: string;\n  initialPrompt?: string;\n  context?: string;\n}\n\nexport function AIChatDialog({\n  open,\n  onOpenChange,\n  title,\n  initialPrompt,\n  context,\n}: AIChatDialogProps) {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Reset messages when dialog closes\n  useEffect(() => {\n    if (!open) {\n      setMessages([]);\n      setInput(\"\");\n    }\n  }, [open]);\n\n  // Auto-send initial prompt when dialog opens OR when prompt changes\n  useEffect(() => {\n    if (open && initialPrompt) {\n      // Reset messages when new prompt arrives\n      setMessages([]);\n      handleSend(initialPrompt);\n    }\n  }, [open, initialPrompt]);\n\n  const simulateAIResponse = async (userMessage: string): Promise<string> => {\n    // Simula una risposta AI fittizia basata sul contesto\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const responses: Record<string, string> = {\n      // Riflessioni spirituali\n      \"spiegami meglio\": `Certamente. La riflessione spirituale ci invita a riconoscere la presenza divina nelle piccole cose quotidiane. \n\nQuesto insegnamento ha radici profonde nella spiritualità cattolica, in particolare nella tradizione benedettina del \"ora et labora\" e nella spiritualità ignaziana di \"trovare Dio in tutte le cose\".\n\nSan Francesco d'Assisi ci ha mostrato come ogni creatura sia un riflesso del Creatore. Anche nelle attività più semplici - preparare il pane, coltivare l'orto, prendersi cura della casa - possiamo trovare un momento di preghiera e gratitudine.\n\nLa chiave è vivere con consapevolezza e attenzione, trasformando ogni gesto in un atto d'amore.`,\n\n      \"quale salmo\": `Il Salmo 23 (22) \"Il Signore è il mio pastore\" è particolarmente adatto per questa riflessione.\n\nEcco il testo completo:\n\n\"Il Signore è il mio pastore:\nnon manco di nulla.\nSu pascoli erbosi mi fa riposare,\nad acque tranquille mi conduce.\nRinfranca l'anima mia,\nmi guida per il giusto cammino\na motivo del suo nome.\n\nAnche se vado per una valle oscura,\nnon temo alcun male, perché tu sei con me.\nIl tuo bastone e il tuo vincastro\nmi danno sicurezza.\"\n\nQuesto salmo ci ricorda che, anche nei momenti difficili, il Signore ci accompagna e provvede a noi.`,\n\n      \"autori\": `Diversi autori spirituali hanno approfondito questo tema:\n\n• **Santa Teresa d'Avila** - \"Il Castello Interiore\"\nInsegna come trovare Dio nell'intimità dell'anima attraverso la preghiera contemplativa.\n\n• **San Giovanni della Croce** - \"Salita al Monte Carmelo\"\nDescrive il cammino di purificazione spirituale per unirsi a Dio.\n\n• **Fratello Lawrence** - \"La Pratica della Presenza di Dio\"\nUn classico sulla vita spirituale nel quotidiano, scritto da un umile cuoco carmelitano.\n\n• **San Francesco di Sales** - \"Introduzione alla Vita Devota\"\nUna guida pratica per vivere la santità nel mondo.\n\nTi consiglio di iniziare con Fratello Lawrence, è molto accessibile e pratico.`,\n\n      default: `Grazie per la tua domanda sulla riflessione spirituale.\n\n${context ? `Basandomi sul testo: \"${context.substring(0, 150)}...\"` : \"\"}\n\nPosso aiutarti ad approfondire questo tema da diverse prospettive:\n\n• **Aspetto liturgico**: Come questo si collega alle letture del giorno\n• **Riferimenti scritturali**: Passi biblici correlati\n• **Applicazione pratica**: Come vivere questa riflessione nel quotidiano\n• **Padri della Chiesa**: Cosa hanno detto i santi su questo tema\n\nCosa ti interessa approfondire?`,\n    };\n\n    // Trova la risposta più appropriata\n    const lowerMessage = userMessage.toLowerCase();\n    if (lowerMessage.includes(\"spiegami\") || lowerMessage.includes(\"approfondisci\")) {\n      return responses[\"spiegami meglio\"];\n    } else if (lowerMessage.includes(\"salmo\") || lowerMessage.includes(\"psalm\")) {\n      return responses[\"quale salmo\"];\n    } else if (lowerMessage.includes(\"autori\") || lowerMessage.includes(\"libri\") || lowerMessage.includes(\"letture\")) {\n      return responses[\"autori\"];\n    } else {\n      return responses.default;\n    }\n  };\n\n  const handleSend = async (messageText?: string) => {\n    const textToSend = messageText || input.trim();\n    if (!textToSend || isLoading) return;\n\n    const userMessage: Message = { role: \"user\", content: textToSend };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n\n    try {\n      const aiResponse = await simulateAIResponse(textToSend);\n      \n      // Simula typing effect\n      const assistantMessage: Message = { role: \"assistant\", content: \"\" };\n      setMessages((prev) => [...prev, assistantMessage]);\n\n      const words = aiResponse.split(\" \");\n      for (let i = 0; i < words.length; i++) {\n        await new Promise((resolve) => setTimeout(resolve, 10));\n        setMessages((prev) => {\n          const newMessages = [...prev];\n          const lastMessage = newMessages[newMessages.length - 1];\n          if (lastMessage && lastMessage.role === \"assistant\") {\n            lastMessage.content = words.slice(0, i + 1).join(\" \");\n          }\n          return newMessages;\n        });\n      }\n    } catch (error) {\n      console.error(\"Errore AI:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-3xl max-h-[85vh] flex flex-col p-0\">\n        <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\n          <DialogTitle className=\"font-serif text-xl flex items-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-primary\" />\n            {title}\n          </DialogTitle>\n        </DialogHeader>\n\n        {/* Messages Area */}\n        <div className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4 min-h-[300px]\">\n          <AnimatePresence>\n            {messages.map((message, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.3 }}\n                className={`flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n              >\n                <div\n                  className={`max-w-[85%] rounded-lg px-4 py-3 ${\n                    message.role === \"user\"\n                      ? \"bg-primary text-primary-foreground\"\n                      : \"bg-muted\"\n                  }`}\n                >\n                  <p className=\"text-sm font-serif whitespace-pre-wrap leading-relaxed\">\n                    {message.content}\n                  </p>\n                </div>\n              </motion.div>\n            ))}\n          </AnimatePresence>\n          \n          {isLoading && (\n            <div className=\"flex justify-start\">\n              <div className=\"bg-muted rounded-lg px-4 py-3\">\n                <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n              </div>\n            </div>\n          )}\n          \n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input Area */}\n        <div className=\"border-t px-6 py-4\">\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Scrivi la tua domanda...\"\n              className=\"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-background\"\n              data-testid=\"input-ai-chat\"\n            />\n            <Button\n              onClick={() => handleSend()}\n              disabled={!input.trim() || isLoading}\n              size=\"icon\"\n              data-testid=\"button-send-ai\"\n            >\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <p className=\"text-xs text-muted-foreground mt-2\">\n            Nota: Questa è una demo con risposte simulate\n          </p>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":8863},"client/src/lib/liturgical-colors.ts":{"content":"export function getLiturgicalColorToken(colorKey: string): string {\n  const tokens: Record<string, string> = {\n    // Valori testuali italiani\n    'verde': '--liturgical-ordinary',\n    'viola': '--liturgical-advent',\n    'rosso': '--liturgical-feast',\n    'bianco': '--liturgical-solemnity',\n    // Valori dell'API esterna (fallback keys)\n    'success': '--liturgical-ordinary',\n    'primary': '--liturgical-feast',\n    'secondary': '--liturgical-advent',\n    'warning': '--liturgical-solemnity',\n  };\n  return tokens[colorKey.toLowerCase()] || '--liturgical-ordinary';\n}\n","size_bytes":572},"client/src/pages/santi.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Saint } from \"@shared/schema\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sparkles } from \"lucide-react\";\n\nexport default function Santi() {\n  const { data: saint, isLoading, error } = useQuery<Saint>({\n    queryKey: [\"/api/saint/today\"],\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center space-y-3\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"text-muted-foreground\">Caricamento santo del giorno...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !saint) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\n        <Card className=\"max-w-md\">\n          <CardContent className=\"pt-6 text-center space-y-4\">\n            <div className=\"text-destructive\">\n              <svg className=\"h-12 w-12 mx-auto\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <div>\n              <h3 className=\"font-serif font-semibold text-lg mb-2\">\n                Errore nel caricamento\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">\n                Impossibile caricare il santo del giorno. Riprova più tardi.\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container max-w-4xl mx-auto px-4 py-6 space-y-6\">\n        \n        {/* Header */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-start justify-between gap-3 mb-3\">\n              <h1 \n                className=\"font-display text-3xl md:text-4xl font-bold uppercase tracking-wide\" \n                data-testid=\"text-saint-name\"\n              >\n                {saint.name}\n              </h1>\n              <Badge variant=\"outline\" className=\"shrink-0 gap-1 px-2 py-1\">\n                <Sparkles className=\"h-3 w-3\" />\n                <span className=\"text-xs\">Santo</span>\n              </Badge>\n            </div>\n            {saint.title && (\n              <p className=\"text-lg text-foreground/80 font-serif mb-2\" data-testid=\"text-saint-title\">\n                {saint.title}\n              </p>\n            )}\n            <p className=\"text-base text-foreground font-serif leading-relaxed\" data-testid=\"text-saint-excerpt\">\n              {saint.excerpt}\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Info Cards Row - Compact */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          {/* Festa */}\n          {saint.feast && (\n            <Card className=\"hover-elevate\" data-testid=\"card-feast\">\n              <CardContent className=\"p-3\">\n                <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide mb-0.5\">\n                  Festa Liturgica\n                </p>\n                <p className=\"text-sm font-semibold text-foreground\" data-testid=\"text-feast\">\n                  {saint.feast}\n                </p>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Vita */}\n          {saint.lifeYears && (\n            <Card className=\"hover-elevate\" data-testid=\"card-life-years\">\n              <CardContent className=\"p-3\">\n                <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide mb-0.5\">\n                  Vita\n                </p>\n                <p className=\"text-sm font-semibold text-foreground\" data-testid=\"text-life-years\">\n                  {saint.lifeYears}\n                </p>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n\n        {/* Biografia */}\n        <Card data-testid=\"card-biography\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-xl font-semibold\">\n              Biografia\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {saint.biography.split('\\n\\n').map((paragraph, index) => (\n              <p \n                key={index} \n                className=\"text-base text-foreground font-serif leading-relaxed\"\n                data-testid={`text-biography-${index}`}\n              >\n                {paragraph}\n              </p>\n            ))}\n          </CardContent>\n        </Card>\n\n        {/* Citazioni */}\n        {saint.quotes && saint.quotes.length > 0 && (\n          <Card data-testid=\"card-quotes\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-xl font-semibold\">\n                Citazioni\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {saint.quotes.map((quote, index) => (\n                <div key={index} data-testid={`quote-${index}`}>\n                  {index > 0 && <Separator className=\"my-6\" />}\n                  <blockquote className=\"pl-5 border-l-4 border-primary/40 py-3 space-y-3 bg-muted/30 rounded-r-lg\">\n                    <p className=\"text-base font-serif leading-relaxed text-foreground pr-3\">\n                      \"{quote.text}\"\n                    </p>\n                    {quote.source && (\n                      <footer className=\"text-sm text-foreground/60 font-medium pr-3\">\n                        — {quote.source}\n                      </footer>\n                    )}\n                  </blockquote>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Nota Liturgica */}\n        {saint.liturgicalNote && (\n          <Card className=\"bg-gradient-to-br from-primary/5 via-background to-background border-primary/20\" data-testid=\"card-liturgical-note\">\n            <CardContent className=\"p-4\">\n              <p className=\"text-base text-foreground/70 font-serif leading-relaxed\">\n                <span className=\"font-semibold text-foreground\">Nota liturgica:</span> {saint.liturgicalNote}\n              </p>\n            </CardContent>\n          </Card>\n        )}\n\n      </div>\n    </div>\n  );\n}\n","size_bytes":6551},"PROPOSTE_FUNZIONALITA.md":{"content":"# Proposte di Nuove Funzionalità per Almanacco Cattolico\n\n## 📋 Panoramica\nQuesto documento raccoglie idee e proposte per migliorare ed espandere l'applicazione \"Almanacco Cattolico\", mantenendo la focus su sacerdoti, religiosi, vescovi e giornalisti cattolici.\n\n---\n\n## 🎯 Funzionalità Prioritarie\n\n### 1. **Sistema di Ricerca Globale**\n**Descrizione**: Barra di ricerca universale accessibile da tutte le pagine che permette di cercare contemporaneamente in:\n- Liturgia (letture, santi, festività)\n- Notizie verificate\n- Ricette stagionali\n- Consigli pratici\n- Approfondimenti AI\n\n**Valore aggiunto**: \n- Accesso rapido alle informazioni\n- Migliora l'usabilità per utenti avanzati (giornalisti che cercano fonti, sacerdoti che preparano omelie)\n\n**Implementazione**:\n- Shortcut da tastiera (es. Cmd/Ctrl + K)\n- Filtri per tipologia di contenuto\n- Evidenziazione dei risultati verificati\n\n---\n\n### 2. **Pianificatore Liturgico Personale**\n**Descrizione**: Strumento per pianificare e organizzare celebrazioni liturgiche, omelie e catechesi.\n\n**Funzioni**:\n- Calendario con note personali per ogni giornata liturgica\n- Template per omelie collegati alle letture del giorno\n- Raccolta di citazioni dai Padri della Chiesa per ogni tempo liturgico\n- Suggerimenti AI per collegamenti tra Vangelo e vita quotidiana\n- Esportazione in PDF delle pianificazioni\n\n**Target**: Sacerdoti, diaconi, animatori liturgici\n\n---\n\n### 3. **Sezione \"Santo del Giorno\" Approfondita**\n**Descrizione**: Pagina dedicata al santo o beato celebrato ogni giorno.\n\n**Contenuti**:\n- Biografia completa\n- Icona o immagine del santo\n- Citazioni e insegnamenti\n- Luoghi di culto principali\n- Collegamenti con la liturgia del giorno\n- Novene e preghiere tradizionali\n- Chat AI per approfondimenti sulla vita e spiritualità del santo\n\n**Valore aggiunto**: Arricchisce la dimensione spirituale e formativa dell'app\n\n---\n\n### 4. **Modalità \"Lettura Divina\" (Lectio Divina)**\n**Descrizione**: Esperienza guidata per la meditazione delle Scritture secondo il metodo della Lectio Divina.\n\n**Struttura**:\n1. **Lectio** - Lettura attenta del testo biblico del giorno\n2. **Meditatio** - Domande guida per la riflessione\n3. **Oratio** - Suggerimenti per la preghiera personale\n4. **Contemplatio** - Spazio per note e riflessioni\n5. **Actio** - Proposte concrete per vivere la Parola\n\n**Integrazione AI**: Domande personalizzate basate sul Vangelo del giorno\n\n---\n\n### 5. **Sistema di Notifiche Personalizzate**\n**Descrizione**: Notifiche configurabili per non perdere momenti importanti.\n\n**Opzioni**:\n- Promemoria per la preghiera delle Ore (Lodi, Vespri, Compieta)\n- Inizio dei tempi liturgici forti (Avvento, Quaresima)\n- Festività patronali e locali\n- Nuove notizie verificate su temi scelti\n- Consigli pratici stagionali (es. \"Oggi è il giorno ideale per seminare...\")\n\n---\n\n### 6. **Biblioteca Digitale dei Documenti Magisteriali**\n**Descrizione**: Raccolta organizzata e ricercabile di documenti della Chiesa.\n\n**Contenuti**:\n- Encicliche papali\n- Esortazioni apostoliche\n- Lettere pastorali\n- Documenti conciliari (Vaticano II)\n- Catechismo della Chiesa Cattolica\n- Compendio della Dottrina Sociale\n\n**Funzioni**:\n- Ricerca full-text\n- Segnalibri e evidenziazioni\n- Note personali\n- AI per collegamenti tra documenti e attualità\n\n**Target**: Sacerdoti, teologi, giornalisti, studenti\n\n---\n\n### 7. **Sezione \"Orto del Convento\" - Versione Avanzata**\n**Descrizione**: Espansione della sezione almanacco con focus specifico su orti monastici e giardini spirituali.\n\n**Contenuti**:\n- Piante della tradizione monastica (erbe medicinali, ortaggi antichi)\n- Calendario delle semine secondo fasi lunari e santi patroni\n- Ricette tradizionali con prodotti dell'orto\n- Spiritualità del lavoro manuale (citazioni da San Benedetto, San Francesco)\n- Consigli ecologici nella tradizione francescana\n\n---\n\n### 8. **Archivio Storico delle Notizie Verificate**\n**Descrizione**: Sistema per consultare e studiare l'archivio completo delle notizie fact-checked.\n\n**Funzioni**:\n- Timeline interattiva degli eventi\n- Filtri per argomento, luogo, rilevanza\n- Statistiche sulle fonti più citate\n- Esportazione per ricerche giornalistiche\n- Grafici sull'evoluzione di temi specifici\n\n**Target**: Giornalisti cattolici, ricercatori\n\n---\n\n### 9. **Modalità \"Ritiro Spirituale\"**\n**Descrizione**: Esperienza immersiva per mini-ritiri spirituali giornalieri.\n\n**Caratteristiche**:\n- Interfaccia semplificata e contemplativa\n- Sequenza guidata: preghiera iniziale → lettura → meditazione → preghiera finale\n- Timer per momenti di silenzio\n- Musica sacra di sottofondo (opzionale)\n- Nessuna distrazione (notifiche disabilitate)\n\n**Durata**: 15-30-60 minuti\n\n---\n\n### 10. **Integrazione con Calendario Diocesano**\n**Descrizione**: Sincronizzazione con calendari liturgici diocesani e locali.\n\n**Funzioni**:\n- Selezione della propria diocesi\n- Visualizzazione di festività patronali locali\n- Comunicazioni e circolari diocesane (se disponibili)\n- Eventi e pellegrinaggi diocesani\n- Letture proprie per santi locali\n\n---\n\n## 🔧 Miglioramenti Tecnici\n\n### 11. **Esportazione Multi-formato**\n- Esportazione delle pianificazioni in PDF, DOCX, iCal\n- Condivisione diretta via email o WhatsApp\n- Stampa ottimizzata per messalini e foglietti\n\n### 12. **Modalità Offline Avanzata**\n- Download delle letture liturgiche per periodi estesi\n- Cache intelligente delle notizie verificate\n- Sincronizzazione automatica quando online\n\n### 13. **Accessibilità Migliorata**\n- Lettura ad alta voce dei testi liturgici\n- Dimensione testo regolabile\n- Alto contrasto per ipovedenti\n- Navigazione completa da tastiera\n\n---\n\n## 📱 Funzionalità Social (Con Moderazione)\n\n### 14. **Comunità di Preghiera**\n**Descrizione**: Spazio moderato per condividere intenzioni di preghiera tra utenti verificati.\n\n**Caratteristiche**:\n- Account verificati (solo religiosi/sacerdoti)\n- Moderazione automatica e manuale\n- Privacy garantita\n- Nessun commento pubblico (solo intenzioni)\n\n### 15. **Condivisione Omelie (Opzionale)**\n**Descrizione**: Repository privato per sacerdoti che vogliono condividere riflessioni omiletiche.\n\n**Caratteristiche**:\n- Visibile solo ad altri sacerdoti verificati\n- Organizzazione per tempo liturgico e letture\n- Sistema di ricerca avanzato\n\n---\n\n## 🎨 Miglioramenti Estetici\n\n### 16. **Temi Liturgici**\n**Descrizione**: Colori dell'interfaccia che cambiano secondo il tempo liturgico.\n\n**Varianti**:\n- Verde (Tempo Ordinario)\n- Viola (Avvento e Quaresima)\n- Bianco (Natale e Pasqua)\n- Rosso (Spirito Santo e Martiri)\n\n### 17. **Galleria di Arte Sacra**\n**Descrizione**: Integrazione di opere d'arte sacra collegate alle letture o ai santi del giorno.\n\n**Contenuti**:\n- Miniature medievali\n- Icone bizantine\n- Affreschi rinascimentali\n- Didascalie storiche e spirituali\n\n---\n\n## 📊 Analytics e Report\n\n### 18. **Statistiche Personali di Preghiera**\n**Descrizione**: Tracciamento delle proprie abitudini spirituali (opzionale e privato).\n\n**Metriche**:\n- Giorni consecutivi di preghiera\n- Lectio Divina completate\n- Santi studiati\n- Tempo dedicato alla meditazione\n\n**Privacy**: Tutti i dati restano locali sul dispositivo dell'utente\n\n---\n\n## 🌍 Internazionalizzazione\n\n### 19. **Supporto Multi-lingua**\n**Descrizione**: Espansione dell'app in più lingue mantenendo la qualità italiana.\n\n**Priorità**:\n1. Latino (per testi liturgici)\n2. Inglese\n3. Spagnolo\n4. Francese\n\n---\n\n## 💡 Innovazioni AI\n\n### 20. **Assistente Omiletico AI**\n**Descrizione**: AI specializzata nell'aiutare sacerdoti nella preparazione di omelie.\n\n**Funzioni**:\n- Analisi delle letture del giorno\n- Suggerimenti di collegamenti con Magistero e Tradizione\n- Ricerca di citazioni dai Padri della Chiesa\n- Esempi concreti per l'applicazione pratica\n- Verifiche contro dottrine errate\n\n**Nota**: L'AI suggerisce, il sacerdote decide e personalizza\n\n---\n\n## ⚡ Quick Wins (Facili da Implementare)\n\n### 21. **Widget \"Versetto del Giorno\"**\n- Versetto biblico casuale o legato alla liturgia\n- Condivisibile su social\n\n### 22. **Countdown ai Tempi Forti**\n- \"Mancano X giorni all'Avvento\"\n- \"Siamo nella Xª settimana di Quaresima\"\n\n### 23. **Preghiere Tradizionali Rapide**\n- Accesso veloce ad Angelus, Regina Coeli, Rosario\n- Audio per recitazione guidata\n\n---\n\n## 🎯 Conclusione\n\nQueste proposte mirano a trasformare \"Almanacco Cattolico\" da semplice app informativa a **compagno quotidiano** per la vita spirituale e pastorale di sacerdoti, religiosi e laici impegnati.\n\n### Priorità Suggerite (Top 5):\n1. **Sistema di Ricerca Globale** - migliora drasticamente l'usabilità\n2. **Pianificatore Liturgico Personale** - core feature per sacerdoti\n3. **Santo del Giorno Approfondito** - arricchisce la dimensione spirituale\n4. **Modalità Lectio Divina** - differenziatore unico\n5. **Biblioteca Magisteriale** - valore immenso per target professionale\n\n### Prossimi Passi:\n- Raccogliere feedback da beta tester (sacerdoti, religiosi)\n- Priorizzare in base alle esigenze reali\n- Implementare in sprint iterativi\n- Mantenere sempre l'eccellenza della verifica delle fonti\n","size_bytes":9111},"PROPOSTE_MIGLIORAMENTI_UX.md":{"content":"# Proposte di Miglioramenti UX/UI - Almanacco Cattolico\n\n## 🎨 Miglioramenti iOS-Friendly Completati\n\n### ✅ 1. Layout Suggerimenti Spirituali AI\n- **Problema**: Bottone \"Approfondisci\" a destra poco ergonomico e non iOS-style\n- **Soluzione**: \n  - Rimosso bottone, intera card ora clickable\n  - Aggiunta freccia (chevron) a destra con animazione subtile su hover\n  - Border radius aumentato (`rounded-xl`)\n  - Hover e active states ottimizzati per touch\n  - Supporto completo tastiera con accessibilità\n\n### ✅ 2. Integrazione Data nel Box Liturgico\n- **Problema**: Data ripetuta in header separato, ripetizione \"settimana del tempo ordinario\"\n- **Soluzione**:\n  - Data integrata direttamente sotto i badge ORDINARIO/VERDE\n  - Rimosso header separato con la data\n  - Eliminata ripetizione della settimana\n  - Layout più compatto e leggibile\n\n### ✅ 3. Header Ottimizzato\n- **Soluzione**:\n  - Header principale ora è il titolo della festa liturgica\n  - Struttura gerarchica più chiara\n  - Spazio ridotto, focus sul contenuto\n\n---\n\n## 🚀 Proposte di Nuovi Miglioramenti iOS-Friendly\n\n### 1. **Pull-to-Refresh** (Priorità Alta)\n**Descrizione**: Gesture nativo iOS per ricaricare i contenuti\n\n**Implementazione**:\n- Swipe down sulla pagina principale per ricaricare liturgia\n- Animazione di loading con spinner elegante\n- Feedback aptico (se supportato dal browser)\n\n**Benefici**: UX familiare per utenti iOS\n\n---\n\n### 2. **Bottom Sheet per Letture** (Priorità Alta)\n**Descrizione**: Sostituire l'Accordion con bottom sheet iOS-style\n\n**Come funziona**:\n- Tap su una lettura → si apre bottom sheet da basso\n- Swipe down per chiudere\n- Backdrop semi-trasparente\n- Animazione fluida con spring physics\n\n**Libreria suggerita**: `vaul` (già installata)\n\n---\n\n### 3. **Modalità Lettura Immersiva** (Priorità Media)\n**Descrizione**: Vista full-screen per leggere le Scritture senza distrazioni\n\n**Features**:\n- Font più grande e spaziatura ottimizzata\n- Controlli minimali (solo close button)\n- Background color leggermente crema (anti-affaticamento)\n- Opzione per dimensione font regolabile\n\n---\n\n### 4. **Haptic Feedback** (Priorità Bassa)\n**Descrizione**: Feedback tattile su interazioni chiave\n\n**Quando**:\n- Apertura dialog/bottom sheet\n- Cambio data nel calendario\n- Completamento azione (es. salva nota diario)\n\n**API**: `navigator.vibrate()` per compatibilità cross-platform\n\n---\n\n### 5. **Swipe Gestures nel Calendario** (Priorità Media)\n**Descrizione**: Navigazione settimane con swipe laterale\n\n**Implementazione**:\n- Swipe left → settimana successiva\n- Swipe right → settimana precedente\n- Visual feedback durante lo swipe\n\n---\n\n### 6. **Context Menu iOS-Style** (Priorità Bassa)\n**Descrizione**: Long-press sulle card per azioni rapide\n\n**Esempio - Card Lettura**:\n- Long press → menu con:\n  - \"Copia testo\"\n  - \"Condividi\"\n  - \"Leggi con AI\"\n  - \"Salva nei preferiti\"\n\n---\n\n### 7. **Loading Skeletons** (Priorità Alta)\n**Descrizione**: Skeleton screens invece di spinner per caricamenti\n\n**Benefici**:\n- Percezione di velocità maggiore\n- UX più iOS-native\n- Meno \"buchi\" nel layout durante il caricamento\n\n---\n\n### 8. **Toast Notifications Bottom** (Priorità Media)\n**Descrizione**: Spostare i toast in basso (iOS-style)\n\n**Attualmente**: Toast probabilmente in alto (default shadcn)\n**Proposta**: Bottom con animazione slide-up\n\n---\n\n### 9. **Floating Action Button (FAB)** (Priorità Media)\n**Descrizione**: FAB persistente per azioni rapide\n\n**Posizione**: Bottom-right (mobile) o bottom-center (iOS-style)\n\n**Azioni**:\n- Apri AI Chat\n- Vai a Calendario\n- Nuova nota Diario\n\n**Design**: \n- Blur background\n- Shadow subtile\n- Icona dinamica in base al contesto\n\n---\n\n### 10. **Safe Area Insets** (Priorità Alta per PWA)\n**Descrizione**: Gestione corretta delle safe areas iOS (notch, home indicator)\n\n**CSS**:\n```css\npadding-bottom: env(safe-area-inset-bottom);\npadding-top: env(safe-area-inset-top);\n```\n\n**Dove applicare**:\n- Header principale\n- Bottom sheets\n- FAB\n- Footer/navigation\n\n---\n\n## 📐 Miglioramenti Tipografia e Spaziatura\n\n### 11. **Line Height Ottimizzata per Mobile**\n**Attuale**: Probabilmente `leading-relaxed` o standard\n**Proposta**: \n- Testi liturgici: `leading-loose` (1.75)\n- UI text: `leading-normal` (1.5)\n- Titoli: `leading-tight` (1.25)\n\n---\n\n### 12. **Touch Targets Più Grandi** (Priorità Alta)\n**Problema**: Alcuni bottoni/link potrebbero essere < 44px (minimo iOS)\n\n**Soluzione**:\n- Assicurare min-height: 44px su tutti gli elementi interattivi\n- Padding generoso attorno a icone clickable\n- Hit area invisibile espansa se necessario\n\n---\n\n### 13. **Contrast Ratio WCAG AAA** (Priorità Media)\n**Descrizione**: Verificare e migliorare contrasto colori\n\n**Tool**: Lighthouse Accessibility audit\n\n**Focus**:\n- Testo su badge colorati liturgici\n- Testo secondario (muted-foreground)\n- Link e stati hover\n\n---\n\n## 🎯 Navigazione e UX Flow\n\n### 14. **Breadcrumbs o Back Navigation Chiara** (Priorità Media)\n**Problema**: In alcune pagine potrebbe non essere chiaro dove si è\n\n**Soluzione**:\n- Back button iOS-style in alto-sinistra\n- Breadcrumbs sottili per percorsi complessi\n- Titolo pagina sempre visibile\n\n---\n\n### 15. **Bottom Navigation Bar** (Priorità Alta se multi-page)\n**Descrizione**: Navigation bar fissa in basso per sezioni principali\n\n**Sezioni**:\n- 🏠 Oggi (Liturgia)\n- 📰 News\n- 📅 Calendario\n- 📖 Almanacco\n\n**Design**:\n- Icone + label\n- Active state chiaro\n- Badge per notifiche (es. nuove news)\n\n---\n\n### 16. **Deep Linking** (Priorità Bassa)\n**Descrizione**: URL specifici per condivisione\n\n**Esempi**:\n- `/liturgia/2025-11-19`\n- `/news/123`\n- `/calendario/settimana/2025-W47`\n\n**Benefici**:\n- Condivisione precisa\n- Bookmark specifici\n- SEO migliorata\n\n---\n\n## 🔔 Notifiche e Promemoria\n\n### 17. **Web Push Notifications** (Priorità Media)\n**Use Cases**:\n- Promemoria preghiera del mattino\n- Nuove notizie verificate\n- Festività importanti in arrivo\n\n**Permessi**: Request elegante, non invasivo\n\n---\n\n### 18. **Notifiche In-App Subtle** (Priorità Bassa)\n**Descrizione**: Badge o indicator per novità\n\n**Esempio**:\n- Dot rosso su tab \"News\" se ci sono articoli non letti\n- Badge sul calendario per giorni con eventi speciali\n\n---\n\n## 🎨 Personalizzazione\n\n### 19. **Preferenze Tipografia** (Priorità Bassa)\n**Opzioni**:\n- Dimensione font (S / M / L / XL)\n- Font famiglia (Serif classico / Moderna / Dyslexia-friendly)\n- Line spacing\n\n**Storage**: LocalStorage persistente\n\n---\n\n### 20. **Temi Personalizzati** (Priorità Bassa)\n**Oltre a Dark/Light**:\n- Sepia (anti-affaticamento)\n- Alto contrasto\n- Daltonico-friendly\n\n---\n\n## 🔒 Offline e Performance\n\n### 21. **Offline Mode Migliorato** (Priorità Alta)\n**Features**:\n- Cache intelligente liturgia per 7 giorni avanti\n- Indicatore chiaro quando offline\n- Sync automatica quando torna online\n- Progressive Web App (PWA) installabile\n\n---\n\n### 22. **Lazy Loading Intelligente** (Priorità Media)\n**Cosa**:\n- Immagini santi/arte sacra\n- Componenti Dialog (carica solo quando aperto)\n- Tab content (carica tab attivo per primo)\n\n---\n\n### 23. **Prefetching Strategico** (Priorità Bassa)\n**Cosa prefetchare**:\n- Liturgia del giorno successivo\n- Immagini/data calendario settimana corrente\n- News trending\n\n---\n\n## 📊 Analytics e Feedback\n\n### 24. **Feedback Button Discreto** (Priorità Media)\n**Dove**: Bottom-right angolo o nel menu\n**Forma**: \"?\" o \"Feedback\"\n**Raccoglie**:\n- Bug report\n- Feature request\n- Esperienza generale\n\n---\n\n### 25. **Usage Analytics Privacy-First** (Priorità Bassa)\n**Tool**: Plausible o Umami (GDPR-compliant)\n**Metriche**:\n- Pagine più visitate\n- Features più usate\n- Drop-off points\n\n**Privacy**: No cookies, no tracking personale\n\n---\n\n## 🏁 Quick Wins (Facili e Veloci)\n\n### 26. **Micro-animazioni**\n- Fade-in contenuti al caricamento\n- Scale su tap di card\n- Smooth scroll to top button\n\n### 27. **Empty States Curati**\n- Messaggi empatici quando non ci sono dati\n- Icone illustrative\n- CTA chiare\n\n### 28. **Loading States Consistenti**\n- Spinner uniforme in tutta l'app\n- Skeleton screens dove appropriato\n- Progress indicator per operazioni lunghe\n\n### 29. **Error States Friendly**\n- Messaggi errore umani (no \"Error 500\")\n- Suggerimenti per risolvere\n- Retry button sempre visibile\n\n---\n\n## 🎯 Implementazione Suggerita\n\n### Fase 1 - Fondamenta iOS (2-3 giorni)\n1. ✅ Layout suggerimenti AI (FATTO)\n2. ✅ Integrazione data (FATTO)\n3. Loading Skeletons\n4. Touch targets 44px\n5. Safe area insets\n\n### Fase 2 - Navigazione (2-3 giorni)\n6. Bottom Navigation Bar\n7. Back navigation chiara\n8. Pull-to-refresh\n9. Swipe gestures calendario\n\n### Fase 3 - Interazioni Avanzate (3-4 giorni)\n10. Bottom sheets per letture\n11. Modalità lettura immersiva\n12. Context menus\n13. Haptic feedback\n\n### Fase 4 - Polish (2 giorni)\n14. Micro-animazioni\n15. Empty/Error/Loading states\n16. Contrast audit\n17. Accessibility review\n\n### Fase 5 - Progressive Enhancement (variabile)\n18. Offline mode robusto\n19. Web push notifications\n20. PWA completo\n21. Personalizzazione avanzata\n\n---\n\n## 📱 Linee Guida Generali iOS-Style\n\n### Spacing\n- Usa multipli di 8px (4, 8, 12, 16, 24, 32, 48...)\n- Padding generoso (min 16px sui lati)\n- Evita elementi troppo vicini\n\n### Tipografia\n- System font stack o serif elegante\n- Font size: 14px (small), 16px (body), 20px+ (headings)\n- Weight: 400 (normal), 600 (semibold), 700 (bold)\n\n### Colori\n- Background: White (#FFFFFF) o subtle gray (#F8F9FA)\n- Dark mode: True black (#000000) o #0A0A0A\n- Accenti: Vibranti ma non aggressivi\n\n### Animazioni\n- Duration: 200-300ms per interazioni\n- Easing: `ease-out` per opening, `ease-in` per closing\n- Spring physics per bottom sheets\n\n### Feedback\n- Immediate visual feedback su ogni tap\n- Loading states sempre visibili\n- Success/Error chiaro\n\n---\n\n## ✨ Conclusione\n\nQuesti miglioramenti trasformeranno Almanacco Cattolico in un'app che si sente **nativa iOS** pur essendo web-based, con:\n\n- 🎯 **Ergonomia**: Touch targets corretti, gesture familiari\n- ⚡ **Performance**: Loading veloce, animazioni fluide\n- 🎨 **Estetica**: Design pulito, tipografia curata\n- ♿ **Accessibilità**: WCAG AAA, supporto tecnologie assistive\n- 📱 **Responsive**: Perfetta su iPhone, iPad, desktop\n\n### Next Steps Immediati:\n1. Implementare Loading Skeletons\n2. Aggiungere Bottom Navigation\n3. Verificare touch targets 44px\n4. Safe area insets per PWA\n","size_bytes":10422},"client/src/pages/preghiere.tsx":{"content":"import { useState, useMemo } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Prayer } from \"@shared/schema\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { \n  Search, \n  X,\n  Sparkles,\n  BookOpen\n} from \"lucide-react\";\n\nconst categoryLabels: Record<string, string> = {\n  tutte: \"Tutte le preghiere\",\n  mattino: \"Preghiere del Mattino\",\n  sera: \"Preghiere della Sera\",\n  rosario: \"Rosario\",\n  angelus: \"Angelus\",\n  liturgia_ore: \"Liturgia delle Ore\",\n  tradizionali: \"Preghiere Tradizionali\",\n  sacramenti: \"Sacramenti\",\n  mariane: \"Preghiere Mariane\",\n  varie: \"Varie\",\n};\n\nexport default function Preghiere() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"tutte\");\n  const [selectedPrayer, setSelectedPrayer] = useState<Prayer | null>(null);\n\n  const { data: prayers = [], isLoading, error } = useQuery<Prayer[]>({\n    queryKey: [\"/api/prayers\"],\n  });\n\n  const filteredPrayers = useMemo(() => {\n    let filtered = prayers;\n\n    if (selectedCategory !== \"tutte\") {\n      filtered = filtered.filter(p => p.category === selectedCategory);\n    }\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(p => \n        p.title.toLowerCase().includes(query) ||\n        p.text.toLowerCase().includes(query) ||\n        p.tags?.some(t => t.toLowerCase().includes(query))\n      );\n    }\n\n    return filtered;\n  }, [prayers, selectedCategory, searchQuery]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center space-y-3\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"text-muted-foreground\">Caricamento preghiere...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\n        <Card className=\"max-w-md\">\n          <CardContent className=\"pt-6 text-center space-y-4\">\n            <div className=\"text-destructive\">\n              <svg className=\"h-12 w-12 mx-auto\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <div>\n              <h3 className=\"font-serif font-semibold text-lg mb-2\">\n                Errore nel caricamento\n              </h3>\n              <p className=\"text-sm text-muted-foreground\">\n                Impossibile caricare le preghiere. Riprova più tardi.\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container max-w-4xl mx-auto px-4 py-6 space-y-6\">\n        \n        {/* Header con gradiente iOS-friendly */}\n        <div className=\"bg-gradient-to-br from-primary/10 via-primary/5 to-background rounded-xl p-6 border\">\n          <div className=\"flex items-start justify-between gap-3 mb-3\">\n            <h1 className=\"font-display text-3xl md:text-4xl font-bold uppercase tracking-wide\" data-testid=\"text-page-title\">\n              Preghiere\n            </h1>\n            <Badge variant=\"outline\" className=\"shrink-0 gap-1 px-2 py-1\">\n              <Sparkles className=\"h-3 w-3\" />\n              <span className=\"text-xs hidden sm:inline\">Tradizione</span>\n            </Badge>\n          </div>\n          <p className=\"text-base text-foreground/70 font-serif\">\n            Raccolta di preghiere tradizionali della Chiesa Cattolica\n          </p>\n        </div>\n\n        {/* Filtri - iOS friendly */}\n        <Card>\n          <CardContent className=\"p-4 space-y-3\">\n            {/* Ricerca */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Cerca preghiere...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10 pr-10\"\n                data-testid=\"input-search\"\n              />\n              {searchQuery && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7\"\n                  onClick={() => setSearchQuery(\"\")}\n                  data-testid=\"button-clear-search\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              )}\n            </div>\n\n            {/* Categoria */}\n            <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n              <SelectTrigger className=\"w-full\" data-testid=\"select-category\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"tutte\">Tutte le categorie</SelectItem>\n                <SelectItem value=\"mattino\">Preghiere del Mattino</SelectItem>\n                <SelectItem value=\"sera\">Preghiere della Sera</SelectItem>\n                <SelectItem value=\"tradizionali\">Preghiere Tradizionali</SelectItem>\n                <SelectItem value=\"mariane\">Preghiere Mariane</SelectItem>\n                <SelectItem value=\"angelus\">Angelus</SelectItem>\n                <SelectItem value=\"rosario\">Rosario</SelectItem>\n                <SelectItem value=\"liturgia_ore\">Liturgia delle Ore</SelectItem>\n                <SelectItem value=\"sacramenti\">Sacramenti</SelectItem>\n                <SelectItem value=\"varie\">Varie</SelectItem>\n              </SelectContent>\n            </Select>\n\n            {/* Contatore risultati */}\n            <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n              <span>{filteredPrayers.length} {filteredPrayers.length === 1 ? 'preghiera' : 'preghiere'}</span>\n              {selectedCategory !== \"tutte\" && (\n                <Badge variant=\"secondary\" className=\"text-xs px-2 py-0\">\n                  {categoryLabels[selectedCategory]}\n                </Badge>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Lista Preghiere - Cards iOS-friendly */}\n        <div className=\"space-y-3\">\n          {filteredPrayers.length === 0 ? (\n            <Card>\n              <CardContent className=\"p-8 text-center\">\n                <BookOpen className=\"h-12 w-12 mx-auto mb-3 text-muted-foreground/50\" />\n                <p className=\"text-muted-foreground\">\n                  Nessuna preghiera trovata\n                </p>\n              </CardContent>\n            </Card>\n          ) : (\n            filteredPrayers.map((prayer, index) => (\n              <Card \n                key={prayer.id}\n                className=\"hover-elevate active-elevate-2 cursor-pointer\"\n                onClick={() => setSelectedPrayer(prayer)}\n                data-testid={`card-prayer-${prayer.id}`}\n              >\n                <CardContent className=\"p-5\">\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-start justify-between gap-3\">\n                      <h3 className=\"font-semibold text-lg text-foreground flex-1\" data-testid={`text-prayer-title-${index}`}>\n                        {prayer.title}\n                      </h3>\n                      <Badge variant=\"outline\" className=\"shrink-0 text-xs px-2.5 py-1\">\n                        {categoryLabels[prayer.category]}\n                      </Badge>\n                    </div>\n                    {prayer.occasion && (\n                      <p className=\"text-sm text-foreground/70 font-medium\">\n                        {prayer.occasion}\n                      </p>\n                    )}\n                    <p className=\"text-sm text-foreground/60 line-clamp-2 font-serif leading-relaxed\">\n                      {prayer.text.substring(0, 150)}...\n                    </p>\n                    {prayer.tags && prayer.tags.length > 0 && (\n                      <div className=\"flex flex-wrap gap-1.5 pt-1\">\n                        {prayer.tags.slice(0, 3).map((tag, i) => (\n                          <Badge key={i} variant=\"secondary\" className=\"text-xs px-2.5 py-0.5\">\n                            {tag}\n                          </Badge>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Dialog Dettaglio Preghiera */}\n        <Dialog open={!!selectedPrayer} onOpenChange={(open) => !open && setSelectedPrayer(null)}>\n          <DialogContent className=\"max-w-2xl max-h-[85vh] overflow-y-auto\" data-testid=\"dialog-prayer-detail\">\n            {selectedPrayer && (\n              <>\n                <DialogHeader>\n                  <DialogTitle className=\"text-2xl font-display uppercase tracking-wide\" data-testid=\"text-dialog-title\">\n                    {selectedPrayer.title}\n                  </DialogTitle>\n                  {selectedPrayer.occasion && (\n                    <p className=\"text-base text-foreground/70 font-serif\">\n                      {selectedPrayer.occasion}\n                    </p>\n                  )}\n                  <div className=\"flex flex-wrap gap-2 pt-2\">\n                    <Badge variant=\"outline\" className=\"text-xs px-2.5 py-1\">\n                      {categoryLabels[selectedPrayer.category]}\n                    </Badge>\n                    {selectedPrayer.author && (\n                      <Badge variant=\"secondary\" className=\"text-xs px-2.5 py-1\">\n                        {selectedPrayer.author}\n                      </Badge>\n                    )}\n                  </div>\n                </DialogHeader>\n\n                <div className=\"space-y-6 py-4\">\n                  {/* Testo Italiano */}\n                  <div className=\"space-y-3\">\n                    <h4 className=\"font-semibold text-base uppercase tracking-wide text-foreground/70\">\n                      Testo\n                    </h4>\n                    <Card className=\"bg-gradient-to-br from-primary/5 via-background to-background\">\n                      <CardContent className=\"p-6\">\n                        <div className=\"space-y-3 whitespace-pre-line text-base font-serif leading-relaxed text-foreground\" data-testid=\"text-prayer-content\">\n                          {selectedPrayer.text}\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  {/* Testo Latino */}\n                  {selectedPrayer.latinText && (\n                    <>\n                      <Separator />\n                      <div className=\"space-y-3\">\n                        <h4 className=\"font-semibold text-base uppercase tracking-wide text-foreground/70\">\n                          Testo Latino\n                        </h4>\n                        <Card className=\"bg-gradient-to-br from-amber-50/30 via-background to-background dark:from-amber-950/10 dark:via-background dark:to-background\">\n                          <CardContent className=\"p-6\">\n                            <div className=\"space-y-3 whitespace-pre-line text-base font-serif leading-relaxed italic text-foreground/80\" data-testid=\"text-prayer-latin\">\n                              {selectedPrayer.latinText}\n                            </div>\n                          </CardContent>\n                        </Card>\n                      </div>\n                    </>\n                  )}\n\n                  {/* Note */}\n                  {selectedPrayer.notes && (\n                    <>\n                      <Separator />\n                      <div className=\"space-y-2\">\n                        <h4 className=\"font-semibold text-base uppercase tracking-wide text-foreground/70\">\n                          Note\n                        </h4>\n                        <p className=\"text-base text-foreground/70 font-serif leading-relaxed\">\n                          {selectedPrayer.notes}\n                        </p>\n                      </div>\n                    </>\n                  )}\n\n                  {/* Source */}\n                  {selectedPrayer.source && (\n                    <div className=\"text-sm text-foreground/60\">\n                      <span className=\"font-semibold text-foreground\">Fonte:</span> {selectedPrayer.source}\n                    </div>\n                  )}\n\n                  {/* Tags */}\n                  {selectedPrayer.tags && selectedPrayer.tags.length > 0 && (\n                    <div className=\"flex flex-wrap gap-2\">\n                      {selectedPrayer.tags.map((tag, i) => (\n                        <Badge key={i} variant=\"secondary\" className=\"text-xs px-2.5 py-1\">\n                          {tag}\n                        </Badge>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n          </DialogContent>\n        </Dialog>\n\n      </div>\n    </div>\n  );\n}\n","size_bytes":13743},"client/src/pages/news-detail.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ArrowLeft, CheckCircle2, AlertTriangle, ExternalLink, Calendar, User } from \"lucide-react\";\n\nexport default function NewsDetail() {\n  const [, params] = useRoute(\"/news/:id\");\n  const [, setLocation] = useLocation();\n  const newsId = params?.id ? parseInt(params.id) : null;\n\n  const newsItems = [\n    {\n      id: 1,\n      title: \"Papa Francesco incontra i fedeli in Piazza San Pietro\",\n      excerpt: \"Durante l'udienza generale, il Santo Padre ha parlato dell'importanza della preghiera e della misericordia nella vita quotidiana dei cristiani.\",\n      content: `Durante l'udienza generale di mercoledì, Papa Francesco ha rivolto un intenso messaggio ai fedeli presenti in Piazza San Pietro e a tutti coloro che lo seguivano attraverso i mezzi di comunicazione.\n\nIl Santo Padre ha sottolineato l'importanza della preghiera quotidiana come dialogo intimo con Dio. \"La preghiera non è un optional nella vita cristiana\", ha affermato il Pontefice, \"ma è il respiro dell'anima, il momento in cui riconosciamo la nostra dipendenza dal Padre e la nostra necessità della Sua grazia\".\n\nNel suo discorso, Papa Francesco ha anche parlato della misericordia come cuore del messaggio evangelico. \"Dio è sempre pronto a perdonare\", ha detto, \"è più grande del nostro peccato. Noi dobbiamo avere il coraggio di tornare a Lui, come il figlio prodigo, sapendo che ci attende con le braccia aperte\".\n\nIl Pontefice ha concluso invitando tutti i fedeli a vivere la carità concreta verso i più poveri e bisognosi, ricordando che \"la fede senza le opere è morta\" e che \"nel volto del povero incontriamo il volto di Cristo stesso\".\n\nL'udienza si è conclusa con la benedizione apostolica impartita a tutti i presenti e alle loro intenzioni di preghiera.`,\n      source: \"Vatican News\",\n      timestamp: \"2 ore fa\",\n      verified: true,\n      reliabilityScore: 95,\n      sources: [\n        { name: \"Vatican News\", url: \"https://www.vaticannews.va\", verifiedBy: \"Sala Stampa Vaticana\" },\n        { name: \"Avvenire\", url: \"https://www.avvenire.it\", verifiedBy: \"CEI\" },\n        { name: \"Catholic News Agency\", url: \"https://www.catholicnewsagency.com\", verifiedBy: \"EWTN\" }\n      ],\n      factCheckSummary: \"Notizia confermata da fonti ufficiali vaticane. L'udienza generale si è svolta regolarmente alle ore 10:00 in Piazza San Pietro.\",\n      sourceCredibility: 98,\n      author: \"Redazione Vatican News\",\n      date: \"19 novembre 2025\"\n    },\n    {\n      id: 2,\n      title: \"Nuova iniziativa per il restauro delle chiese storiche\",\n      excerpt: \"La Conferenza Episcopale annuncia un programma di recupero del patrimonio artistico e architettonico delle chiese italiane.\",\n      content: `La Conferenza Episcopale Italiana (CEI) ha presentato oggi un ambizioso programma di recupero e valorizzazione del patrimonio artistico e architettonico delle chiese storiche italiane.\n\nIl progetto, denominato \"Chiese Aperte\", prevede uno stanziamento di 50 milioni di euro nell'arco dei prossimi tre anni, destinati al restauro di edifici di culto di particolare rilevanza storica e artistica.\n\nIl Cardinale Matteo Zuppi, Presidente della CEI, ha spiegato durante la conferenza stampa: \"Le nostre chiese sono testimoni di fede e di bellezza. Preservarle significa custodire non solo pietre e affreschi, ma la memoria viva della nostra tradizione cristiana\".\n\nIl programma darà priorità agli interventi urgenti su strutture a rischio di degrado e prevede anche attività di formazione per giovani restauratori, in collaborazione con le Soprintendenze e le Università italiane.\n\nParticolare attenzione sarà dedicata alle chiese rurali e di montagna, spesso abbandonate o sottoutilizzate, per renderle nuovamente fruibili alle comunità locali e ai pellegrini.\n\nL'iniziativa include anche un progetto di digitalizzazione del patrimonio, con la creazione di tour virtuali e l'implementazione di strumenti multimediali per la valorizzazione didattica e turistica.`,\n      source: \"Avvenire\",\n      timestamp: \"5 ore fa\",\n      verified: true,\n      reliabilityScore: 88,\n      sources: [\n        { name: \"Avvenire\", url: \"https://www.avvenire.it\", verifiedBy: \"CEI\" },\n        { name: \"Comunicato CEI\", verifiedBy: \"Ufficio Nazionale Beni Culturali\" }\n      ],\n      factCheckSummary: \"Confermato dal comunicato ufficiale della CEI. Il programma prevede stanziamenti per 50 milioni di euro nell'arco di 3 anni.\",\n      sourceCredibility: 92,\n      author: \"Dott.ssa Maria Bianchi\",\n      date: \"19 novembre 2025\"\n    },\n    {\n      id: 3,\n      title: \"Pellegrinaggio mariano: migliaia di fedeli a Lourdes\",\n      excerpt: \"Grande partecipazione al pellegrinaggio annuale al santuario della Madonna, con momenti di preghiera e riflessione spirituale.\",\n      content: `Si è concluso ieri il pellegrinaggio annuale al santuario di Lourdes, che ha visto la partecipazione di migliaia di fedeli provenienti da tutta Europa.\n\nIl pellegrinaggio, organizzato in collaborazione tra diverse diocesi italiane e francesi, ha offerto ai partecipanti momenti intensi di preghiera, adorazione eucaristica e processioni mariane.\n\nParticolarmente toccante è stata la processione aux flambeaux di venerdì sera, durante la quale i pellegrini hanno percorso il lungo viale del santuario portando candele accese e cantando l'Ave Maria di Lourdes in diverse lingue.\n\nIl Vescovo ausiliare di Parigi, Mons. Philippe Marsset, ha presieduto la celebrazione eucaristica principale, sottolineando nel suo'omelia il messaggio di conversione e speranza che la Madonna ha affidato a Bernadette Soubirous nelle apparizioni del 1858.\n\nNumerosi sono stati i momenti dedicati ai malati e ai disabili, secondo la tradizione del santuario che fin dalle origini ha accolto chi soffre con particolare attenzione e sollecitudine.\n\nIl pellegrinaggio si è concluso con il rinnovo delle promesse battesimali presso la Grotta di Massabielle, luogo delle apparizioni mariane.\n\nLe testimonianze dei pellegrini parlano di un'esperienza di fede profonda e rinnovatrice, che ha permesso a molti di riscoprire la bellezza della preghiera comunitaria e della devozione mariana.`,\n      source: \"Catholic News\",\n      timestamp: \"1 giorno fa\",\n      verified: true,\n      reliabilityScore: 72,\n      sources: [\n        { name: \"Catholic News\", url: \"https://www.catholicnews.com\" },\n        { name: \"Sanctuaires de Lourdes\", url: \"https://www.lourdes-france.org\", verifiedBy: \"Rettore del Santuario\" }\n      ],\n      factCheckSummary: \"Il pellegrinaggio si è svolto come programmato. Il numero esatto di partecipanti è in fase di verifica (stima tra 8.000 e 12.000 pellegrini).\",\n      sourceCredibility: 78,\n      author: \"P. Jean Dupont\",\n      date: \"18 novembre 2025\"\n    },\n    {\n      id: 4,\n      title: \"Celebrazioni liturgiche speciali per l'Avvento\",\n      excerpt: \"Le parrocchie italiane si preparano al tempo di Avvento con messe solenni, adorazioni eucaristiche e momenti di catechesi per tutte le età.\",\n      content: `Con l'avvicinarsi della prima domenica di Avvento, le parrocchie italiane si preparano a vivere questo tempo liturgico con un ricco programma di celebrazioni ed eventi spirituali.\n\nL'Avvento, che significa \"venuta\", è il periodo di quattro settimane che prepara al Natale. Durante questo tempo, i fedeli sono invitati a un cammino di conversione e di attesa vigilante del Signore che viene.\n\nMolte parrocchie hanno organizzato adorazioni eucaristiche settimanali, particolarmente nel giovedì sera, dedicate alla meditazione sulle profezie messianiche dell'Antico Testamento.\n\nLe messe domenicali dell'Avvento saranno arricchite dal canto dei tradizionali inni adventizi e dall'accensione progressiva delle quattro candele della Corona d'Avvento, simbolo della luce di Cristo che viene a illuminare le tenebre del mondo.\n\nPer le famiglie sono previsti momenti di catechesi specifici, con particolare attenzione ai bambini e ai ragazzi. Diverse diocesi hanno preparato sussidi e materiali per aiutare le famiglie a vivere l'Avvento anche in casa, con piccoli gesti quotidiani di preghiera e carità.\n\nUn'attenzione particolare è rivolta anche alle opere di carità: molte parrocchie hanno organizzato raccolte di viveri e indumenti per le famiglie bisognose, ricordando che l'attesa del Natale deve tradursi in gesti concreti di solidarietà.\n\nI parroci invitano tutti i fedeli a riscoprire il senso autentico di questo tempo, evitando di farsi travolgere esclusivamente dall'aspetto consumistico del Natale, ma preparandosi spiritualmente all'incontro con il Dio fatto uomo.`,\n      source: \"Famiglia Cristiana\",\n      timestamp: \"2 giorni fa\",\n      verified: false,\n      reliabilityScore: 65,\n      sources: [\n        { name: \"Famiglia Cristiana\", url: \"https://www.famigliacristiana.it\" }\n      ],\n      factCheckSummary: \"Le informazioni sono generiche e non specifiche. Consigliato verificare con la propria diocesi locale per dettagli sui programmi dell'Avvento.\",\n      sourceCredibility: 70,\n      author: \"Redazione Famiglia Cristiana\",\n      date: \"17 novembre 2025\"\n    },\n    {\n      id: 5,\n      title: \"Presunto miracolo durante processione: esperti invitano alla cautela\",\n      excerpt: \"Circolano sui social media immagini di un presunto evento miracoloso durante una processione. Gli esperti diocesani invitano alla cautela.\",\n      content: `Negli ultimi giorni hanno iniziato a circolare sui social media immagini e video relativi a un presunto evento miracoloso verificatosi durante una processione religiosa in un paese del Sud Italia.\n\nLe immagini, diventate rapidamente virali, mostrano quello che alcuni testimoni hanno interpretato come un fenomeno straordinario legato a una statua mariana.\n\nTuttavia, l'Ufficio Diocesano per il Discernimento dei Fenomeni Straordinari ha immediatamente emesso un comunicato invitando i fedeli alla prudenza e al discernimento.\n\n\"La Chiesa\", si legge nel comunicato, \"ha procedure rigorose per l'esame di presunti eventi miracolosi. Occorre evitare conclusioni affrettate basate esclusivamente su testimonianze non verificate o su materiale foto-video che può essere facilmente alterato o mal interpretato\".\n\nEsperti in fenomeni ottici hanno suggerito che le immagini potrebbero essere spiegate da normali condizioni di illuminazione e rifrazione della luce, particolarmente in presenza di candele e di superfici riflettenti.\n\nLa Diocesi ha annunciato la costituzione di una commissione di esperti, composta da teologi, scienziati e tecnici, che esaminerà con attenzione tutte le testimonianze e il materiale documentale disponibile.\n\nIl Vescovo della diocesi ha invitato i fedeli a \"mantenere un atteggiamento di fede serena e razionale. La nostra fede non ha bisogno di miracoli sensazionali per essere solida. Si fonda sulla Risurrezione di Cristo, evento storico verificabile e testimoniato\".\n\nNel frattempo, la parrocchia in cui si è svolta la processione ha registrato un notevole afflusso di visitatori, attratti dalla notizia. Il parroco ha chiesto rispetto e preghiera silenziosa, evitando atteggiamenti di curiosità morbosa.\n\nLa Chiesa ricorda che anche quando eventi straordinari vengono riconosciuti come autentici, essi non aggiungono nulla alla Rivelazione definitiva già compiuta in Cristo, ma servono solo a confermare la fede e a stimolare la devozione.`,\n      source: \"Vatican Insider\",\n      timestamp: \"3 giorni fa\",\n      verified: false,\n      reliabilityScore: 45,\n      sources: [\n        { name: \"Vatican Insider\", url: \"https://www.lastampa.it/vatican-insider\" },\n        { name: \"Video social media\", verifiedBy: \"Non verificato\" }\n      ],\n      factCheckSummary: \"Evento non confermato. La Diocesi ha aperto un'indagine ufficiale. Gli esperti suggeriscono possibili spiegazioni naturali per il fenomeno osservato.\",\n      sourceCredibility: 55,\n      author: \"Giovanni Rossi\",\n      date: \"16 novembre 2025\"\n    }\n  ];\n\n  const news = newsItems.find(n => n.id === newsId);\n\n  if (!newsId || isNaN(newsId) || !news) {\n    return (\n      <div className=\"container max-w-4xl mx-auto py-8 px-4\">\n        <Card>\n          <CardContent className=\"pt-6 text-center space-y-4\">\n            <div className=\"text-destructive\">\n              <AlertTriangle className=\"h-16 w-16 mx-auto mb-4\" />\n            </div>\n            <h2 className=\"font-serif text-2xl font-bold\">Notizia non trovata</h2>\n            <p className=\"text-muted-foreground\">\n              {!newsId || isNaN(newsId) \n                ? \"ID notizia non valido. Controlla l'indirizzo e riprova.\"\n                : \"La notizia richiesta non esiste o è stata rimossa.\"}\n            </p>\n            <div className=\"flex gap-3 justify-center\">\n              <Button \n                variant=\"outline\" \n                onClick={() => window.history.length > 1 ? window.history.back() : setLocation(\"/news\")}\n                data-testid=\"button-back\"\n              >\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                Indietro\n              </Button>\n              <Button onClick={() => setLocation(\"/news\")} data-testid=\"button-to-news\">\n                Vai alle notizie\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\n      <Button\n        variant=\"ghost\"\n        onClick={() => window.history.length > 1 ? window.history.back() : setLocation(\"/news\")}\n        className=\"mb-6\"\n        data-testid=\"button-back\"\n      >\n        <ArrowLeft className=\"h-4 w-4 mr-2\" />\n        Torna alle notizie\n      </Button>\n\n      <article className=\"space-y-8\">\n        {/* Header Section - Distintivo con Background */}\n        <Card className=\"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20\">\n          <CardContent className=\"pt-8 pb-8 space-y-5\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <Badge variant={news.verified ? \"default\" : \"secondary\"} className=\"gap-1\">\n                {news.verified ? (\n                  <>\n                    <CheckCircle2 className=\"h-3 w-3\" />\n                    Verificata\n                  </>\n                ) : (\n                  <>\n                    <AlertTriangle className=\"h-3 w-3\" />\n                    Non verificata\n                  </>\n                )}\n              </Badge>\n              <Badge variant=\"outline\" className=\"gap-1\">\n                Affidabilità: {news.reliabilityScore}%\n              </Badge>\n            </div>\n\n            <h1 className=\"font-serif text-3xl md:text-4xl font-bold leading-tight\" data-testid=\"text-news-title\">\n              {news.title}\n            </h1>\n\n            <div className=\"flex items-center gap-4 text-sm text-muted-foreground flex-wrap\">\n              <div className=\"flex items-center gap-1.5\">\n                <User className=\"h-4 w-4\" />\n                <span className=\"font-medium\">{news.author}</span>\n              </div>\n              <div className=\"flex items-center gap-1.5\">\n                <Calendar className=\"h-4 w-4\" />\n                <span className=\"font-medium\">{news.date}</span>\n              </div>\n            </div>\n\n            <p className=\"text-lg md:text-xl text-foreground font-serif leading-relaxed pt-2\">\n              {news.excerpt}\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Fact-Checking Section - Distintivo con Colore Diverso */}\n        <Card className=\"bg-amber-50/50 dark:bg-amber-950/20 border-2 border-amber-200 dark:border-amber-800\">\n          <CardHeader className=\"pb-4\">\n            <CardTitle className=\"text-xl font-serif font-bold text-amber-900 dark:text-amber-100 flex items-center gap-2\">\n              <CheckCircle2 className=\"h-5 w-5\" />\n              Verifica delle Fonti\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-5\">\n            <div className=\"bg-background/60 rounded-lg p-4 border\">\n              <h3 className=\"font-bold mb-3 text-base\">Riepilogo fact-checking</h3>\n              <p className=\"text-sm leading-relaxed\">{news.factCheckSummary}</p>\n            </div>\n            <div className=\"bg-background/60 rounded-lg p-4 border\">\n              <h3 className=\"font-bold mb-3 text-base\">Fonti consultate</h3>\n              <ul className=\"space-y-3\">\n                {news.sources.map((source, idx) => (\n                  <li key={idx} className=\"text-sm flex items-start gap-3\">\n                    <ExternalLink className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-primary\" />\n                    <div>\n                      <span className=\"font-semibold\">{source.name}</span>\n                      {source.verifiedBy && (\n                        <div className=\"text-muted-foreground text-xs mt-0.5\">\n                          Verificato da: {source.verifiedBy}\n                        </div>\n                      )}\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"flex items-center gap-3 text-sm bg-background/60 rounded-lg p-3 border\">\n              <span className=\"font-bold\">Credibilità fonti:</span>\n              <Badge variant=\"outline\" className=\"font-bold\">{news.sourceCredibility}%</Badge>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Content Section - Distintivo */}\n        <Card className=\"border-2\">\n          <CardHeader className=\"pb-4\">\n            <CardTitle className=\"text-xl font-serif font-bold\">Articolo Completo</CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-2\">\n            <div \n              className=\"prose prose-base md:prose-lg max-w-none font-serif leading-relaxed\"\n              style={{ whiteSpace: 'pre-line' }}\n              data-testid=\"text-news-content\"\n            >\n              {news.content}\n            </div>\n          </CardContent>\n        </Card>\n      </article>\n    </div>\n  );\n}\n","size_bytes":18188}},"version":2}